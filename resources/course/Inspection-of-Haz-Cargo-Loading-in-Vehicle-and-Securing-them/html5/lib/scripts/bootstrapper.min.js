/*! ds-bootstrap - v1.0.0.__BUILD_NUMBER__ - 2021-05-11 7:6pm UTC
* Copyright (c) 2021 ; Not Licensed */!function(a){function t(t){for(var e,n,i=t[0],r=t[1],o=0,s=[];o<i.length;o++)n=i[o],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&s.push(l[n][0]),l[n]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e]);for(u&&u(t);s.length;)s.shift()()}var n={},l={0:0};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.e=function(){return Promise.resolve()},r.m=a,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var e=window.webpackJsonp=window.webpackJsonp||[],i=e.push.bind(e);e.push=t,e=e.slice();for(var o=0;o<e.length;o++)t(e[o]);var u=i;r(r.s=63)}([function(t,A,w){(function(m,y){var b;
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */(function(){var gr,t,e,mr="3.10.1",yr=1,br=2,Ar=4,wr=8,Sr=16,Er=32,Tr=64,xr=128,_r=256,Cr=30,kr="...",Mr=150,Or=16,Pr=200,Rr=1,Ir=2,Lr="Expected a function",Dr="__lodash_placeholder__",Nr="[object Arguments]",Hr="[object Array]",Vr="[object Boolean]",Fr="[object Date]",jr="[object Error]",Br="[object Function]",n="[object Map]",Ur="[object Number]",Wr="[object Object]",zr="[object RegExp]",i="[object Set]",Gr="[object String]",r="[object WeakMap]",qr="[object ArrayBuffer]",Yr="[object Float32Array]",Xr="[object Float64Array]",Jr="[object Int8Array]",Kr="[object Int16Array]",$r="[object Int32Array]",Qr="[object Uint8Array]",Zr="[object Uint8ClampedArray]",to="[object Uint16Array]",eo="[object Uint32Array]",no=/\b__p \+= '';/g,io=/\b(__p \+=) '' \+/g,ro=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oo=/&(?:amp|lt|gt|quot|#39|#96);/g,so=/[&<>"'`]/g,ao=RegExp(oo.source),lo=RegExp(so.source),uo=/<%-([\s\S]+?)%>/g,co=/<%([\s\S]+?)%>/g,ho=/<%=([\s\S]+?)%>/g,po=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,fo=/^\w*$/,vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,go=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,mo=RegExp(go.source),yo=/[\u0300-\u036f\ufe20-\ufe23]/g,bo=/\\(\\)?/g,Ao=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wo=/\w*$/,So=/^0[xX]/,Eo=/^\[object .+?Constructor\]$/,To=/^\d+$/,xo=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,_o=/($^)/,Co=/['\n\r\u2028\u2029\\]/g,ko=(t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")),Mo=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Oo=-1,Po={};Po[Yr]=Po[Xr]=Po[Jr]=Po[Kr]=Po[$r]=Po[Qr]=Po[Zr]=Po[to]=Po[eo]=!0,Po[Nr]=Po[Hr]=Po[qr]=Po[Vr]=Po[Fr]=Po[jr]=Po[Br]=Po[n]=Po[Ur]=Po[Wr]=Po[zr]=Po[i]=Po[Gr]=Po[r]=!1;var Ro={};Ro[Nr]=Ro[Hr]=Ro[qr]=Ro[Vr]=Ro[Fr]=Ro[Yr]=Ro[Xr]=Ro[Jr]=Ro[Kr]=Ro[$r]=Ro[Ur]=Ro[Wr]=Ro[zr]=Ro[Gr]=Ro[Qr]=Ro[Zr]=Ro[to]=Ro[eo]=!0,Ro[jr]=Ro[Br]=Ro[n]=Ro[i]=Ro[r]=!1;var o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},a={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},l={function:!0,object:!0},u={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},h=l[typeof A]&&A&&!A.nodeType&&A,d=l[typeof m]&&m&&!m.nodeType&&m,p=h&&d&&"object"==typeof y&&y&&y.Object&&y,f=l[typeof self]&&self&&self.Object&&self,v=l[typeof window]&&window&&window.Object&&window,Io=(d&&d.exports,p||v!==(this&&this.window)&&v||f||this);function Lo(t,e){if(t!==e){var n=null===t,i=t===gr,r=t==t,o=null===e,s=e===gr,a=e==e;if(e<t&&!o||!r||n&&!s&&a||i&&a)return 1;if(t<e&&!n||!a||o&&!i&&r||s&&r)return-1}return 0}function Do(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function No(t,e,n){if(e!=e)return qo(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Ho(t){return"function"==typeof t||!1}function Vo(t){return null==t?"":t+""}function Fo(t,e){for(var n=-1,i=t.length;++n<i&&-1<e.indexOf(t.charAt(n)););return n}function jo(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function Bo(t,e){return Lo(t.criteria,e.criteria)||t.index-e.index}function Uo(t){return o[t]}function Wo(t){return s[t]}function zo(t,e,n){return e?t=u[t]:n&&(t=c[t]),"\\"+t}function Go(t){return"\\"+c[t]}function qo(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!=o)return r}return-1}function Yo(t){return!!t&&"object"==typeof t}function g(t){return t<=160&&9<=t&&t<=13||32==t||160==t||5760==t||6158==t||8192<=t&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Xo(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=Dr,o[++r]=n);return o}function Jo(t){for(var e=-1,n=t.length;++e<n&&g(t.charCodeAt(e)););return e}function Ko(t){for(var e=t.length;e--&&g(t.charCodeAt(e)););return e}function $o(t){return a[t]}var Qo=function t(e){var M=(e=e?Qo.defaults(Io.Object(),e,Qo.pick(Io,Mo)):Io).Array,n=e.Date,i=e.Error,g=e.Function,r=e.Math,o=e.Number,d=e.Object,m=e.RegExp,s=e.String,y=e.TypeError,a=M.prototype,l=d.prototype,u=s.prototype,c=g.prototype.toString,b=l.hasOwnProperty,h=0,A=l.toString,p=Io._,f=m("^"+c.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=e.ArrayBuffer,w=e.clearTimeout,S=e.parseFloat,E=r.pow,T=l.propertyIsEnumerable,x=He(e,"Set"),_=e.setTimeout,C=a.splice,k=e.Uint8Array,O=He(e,"WeakMap"),P=r.ceil,R=He(d,"create"),I=r.floor,L=He(M,"isArray"),D=e.isFinite,N=He(d,"keys"),H=r.max,V=r.min,F=He(n,"now"),j=e.parseInt,B=r.random,U=o.NEGATIVE_INFINITY,W=o.POSITIVE_INFINITY,z=4294967295,G=z-1,q=z>>>1,Y=9007199254740991,X=O&&new O,J={};function K(t){if(Yo(t)&&!di(t)&&!(t instanceof Z)){if(t instanceof Q)return t;if(b.call(t,"__chain__")&&b.call(t,"__wrapped__"))return en(t)}return new Q(t)}function $(){}function Q(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}K.support={};function Z(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function tt(){this.__data__={}}function et(t){var e=t?t.length:0;for(this.data={hash:R(null),set:new x};e--;)this.push(t[e])}function nt(t,e){var n=t.data;return("string"==typeof e||gi(e)?n.set.has(e):n.hash[e])?0:-1}function it(t,e){var n=-1,i=t.length;for(e=e||M(i);++n<i;)e[n]=t[n];return e}function rt(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t}function ot(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function st(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function at(t,e){for(var n=-1,i=t.length,r=M(i);++n<i;)r[n]=e(t[n],n,t);return r}function lt(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ut(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function ct(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function ht(t,e,n,i){return t!==gr&&b.call(i,n)?t:e}function dt(t,e,n){for(var i=-1,r=Hi(e),o=r.length;++i<o;){var s=r[i],a=t[s],l=n(a,e[s],s,t,e);(l==l?l===a:a!=a)&&(a!==gr||s in t)||(t[s]=l)}return t}function pt(t,e){return null==e?t:vt(e,Hi(e),t)}function ft(t,e){for(var n=-1,i=null==t,r=!i&&Fe(t),o=r?t.length:0,s=e.length,a=M(s);++n<s;){var l=e[n];a[n]=r?je(l,o)?t[l]:gr:i?gr:t[l]}return a}function vt(t,e,n){n=n||{};for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function gt(t,e,n){var i=typeof t;return"function"==i?e===gr?t:te(t,e,n):null==t?ir:"object"==i?Vt(t):e===gr?ur(t):Ft(t,e)}function mt(n,i,r,t,e,o,s){var a;if(r&&(a=e?r(n,t,e):r(n)),a!==gr)return a;if(!gi(n))return n;var l=di(n);if(l){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&b.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(n),!i)return it(n,a)}else{var u=A.call(n),c=u==Br;if(u!=Wr&&u!=Nr&&(!c||e))return Ro[u]?function(t,e,n){var i=t.constructor;switch(e){case qr:return ee(t);case Vr:case Fr:return new i(+t);case Yr:case Xr:case Jr:case Kr:case $r:case Qr:case Zr:case to:case eo:var r=t.buffer;return new i(n?ee(r):r,t.byteOffset,t.length);case Ur:case Gr:return new i(t);case zr:var o=new i(t.source,wo.exec(t));o.lastIndex=t.lastIndex}return o}(n,u,i):e?n:{};if(a=function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=d),new e}(c?{}:n),!i)return pt(a,n)}s=s||[];for(var h=(o=o||[]).length;h--;)if(o[h]==n)return s[h];return o.push(n),s.push(a),(l?rt:Pt)(n,function(t,e){a[e]=mt(t,i,r,e,n,o,s)}),a}K.templateSettings={escape:uo,evaluate:co,interpolate:ho,variable:"",imports:{_:K}};var yt=function(t){if(gi(t)){bt.prototype=t;var e=new bt;bt.prototype=gr}return e||{}};function bt(){}function At(t,e,n){if("function"!=typeof t)throw new y(Lr);return _(function(){t.apply(gr,n)},e)}function wt(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,o=Le(),s=o===No,a=s&&e.length>=Pr?le(e):null,l=e.length;a&&(o=nt,s=!1,e=a);t:for(;++r<n;){var u=t[r];if(s&&u==u){for(var c=l;c--;)if(e[c]===u)continue t;i.push(u)}else o(e,u,0)<0&&i.push(u)}return i}var St=se(Pt),Et=se(Rt,!0);function Tt(t,i){var r=!0;return St(t,function(t,e,n){return r=!!i(t,e,n)}),r}function xt(t,i){var r=[];return St(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r}function _t(t,i,e,r){var o;return e(t,function(t,e,n){if(i(t,e,n))return o=r?e:t,!1}),o}function Ct(t,e,n,i){i=i||[];for(var r=-1,o=t.length;++r<o;){var s=t[r];Yo(s)&&Fe(s)&&(n||di(s)||hi(s))?e?Ct(s,e,n,i):lt(i,s):n||(i[i.length]=s)}return i}var kt=ae(),Mt=ae(!0);function Ot(t,e){return kt(t,e,Vi)}function Pt(t,e){return kt(t,e,Hi)}function Rt(t,e){return Mt(t,e,Hi)}function It(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];vi(t[s])&&(o[++r]=s)}return o}function Lt(t,e,n){if(null!=t){n!==gr&&n in Ze(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&i<r;)t=t[e[i++]];return i&&i==r?t:gr}}function Dt(t,e,n,i,r,o){return t===e||(null==t||null==e||!gi(t)&&!Yo(e)?t!=t&&e!=e:function(t,e,n,i,r,o,s){var a=di(t),l=di(e),u=Hr,c=Hr;a||((u=A.call(t))==Nr?u=Wr:u!=Wr&&(a=Si(t))),l||((c=A.call(e))==Nr?c=Wr:c!=Wr&&(l=Si(e)));var h=u==Wr,d=c==Wr,p=u==c;if(p&&!a&&!h)return function(t,e,n){switch(n){case Vr:case Fr:return+t==+e;case jr:return t.name==e.name&&t.message==e.message;case Ur:return t!=+t?e!=+e:t==+e;case zr:case Gr:return t==e+""}return!1}(t,e,u);if(!r){var f=h&&b.call(t,"__wrapped__"),v=d&&b.call(e,"__wrapped__");if(f||v)return n(f?t.value():t,v?e.value():e,i,r,o,s)}if(!p)return!1;s=s||[];for(var g=(o=o||[]).length;g--;)if(o[g]==t)return s[g]==e;o.push(t),s.push(e);var m=(a?function(t,e,n,i,r,o,s){var a=-1,l=t.length,u=e.length;if(l!=u&&!(r&&l<u))return!1;for(;++a<l;){var c=t[a],h=e[a],d=i?i(r?h:c,r?c:h,a):gr;if(d!==gr){if(d)continue;return!1}if(r){if(!ct(e,function(t){return c===t||n(c,t,i,r,o,s)}))return!1}else if(c!==h&&!n(c,h,i,r,o,s))return!1}return!0}:function(t,e,n,i,r,o,s){var a=Hi(t),l=a.length,u=Hi(e).length;if(l!=u&&!r)return!1;for(var c=l;c--;){var h=a[c];if(!(r?h in e:b.call(e,h)))return!1}for(var d=r;++c<l;){h=a[c];var p=t[h],f=e[h],v=i?i(r?f:p,r?p:f,h):gr;if(!(v===gr?n(p,f,i,r,o,s):v))return!1;d=d||"constructor"==h}if(!d){var g=t.constructor,m=e.constructor;if(g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0})(t,e,n,i,r,o,s);return o.pop(),s.pop(),m}(t,e,Dt,n,i,r,o))}function Nt(t,e,n){var i=e.length,r=i,o=!n;if(null==t)return!r;for(t=Ze(t);i--;){var s=e[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){var a=(s=e[i])[0],l=t[a],u=s[1];if(o&&s[2]){if(l===gr&&!(a in t))return!1}else{var c=n?n(l,u,a):gr;if(!(c===gr?Dt(u,l,n,!0):c))return!1}}return!0}function Ht(t,i){var r=-1,o=Fe(t)?M(t.length):[];return St(t,function(t,e,n){o[++r]=i(t,e,n)}),o}function Vt(t){var e=Ne(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&t[n]===i&&(i!==gr||n in Ze(t))}}return function(t){return Nt(t,e)}}function Ft(n,i){var r=di(n),o=Ue(n)&&Ge(i),s=n+"";return n=tn(n),function(t){if(null==t)return!1;var e=s;if(t=Ze(t),(r||!o)&&!(e in t)){if(null==(t=1==n.length?t:Lt(t,zt(n,0,-1))))return!1;e=hn(n),t=Ze(t)}return t[e]===i?i!==gr||e in t:Dt(i,t[e],gr,!0)}}function jt(e){return function(t){return null==t?gr:t[e]}}function Bt(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&je(i)){var r=i;C.call(t,i,1)}}return t}function Ut(t,e){return t+I(B()*(e-t+1))}var Wt=X?function(t,e){return X.set(t,e),t}:ir;function zt(t,e,n){var i=-1,r=t.length;(e=null!=e&&+e||0)<0&&(e=r<-e?0:r+e),(n=n===gr||r<n?r:+n||0)<0&&(n+=r),r=n<e?0:n-e>>>0,e>>>=0;for(var o=M(r);++i<r;)o[i]=t[i+e];return o}function Gt(t,i){var r;return St(t,function(t,e,n){return!(r=i(t,e,n))}),!!r}function qt(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Yt(t,n,i){var e=Pe(),r=-1;return n=at(n,function(t){return e(t)}),qt(Ht(t,function(e){return{criteria:at(n,function(t){return t(e)}),index:++r,value:e}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=Lo(r[i],o[i]);if(l){if(a<=i)return l;var u=n[i];return l*("asc"===u||!0===u?1:-1)}}return t.index-e.index}(t,e,i)})}function Xt(t,e){var n=-1,i=Le(),r=t.length,o=i===No,s=o&&Pr<=r,a=s?le():null,l=[];a?(i=nt,o=!1):(s=!1,a=e?[]:l);t:for(;++n<r;){var u=t[n],c=e?e(u,n,t):u;if(o&&u==u){for(var h=a.length;h--;)if(a[h]===c)continue t;e&&a.push(c),l.push(u)}else i(a,c,0)<0&&((e||s)&&a.push(c),l.push(u))}return l}function Jt(t,e){for(var n=-1,i=e.length,r=M(i);++n<i;)r[n]=t[e[n]];return r}function Kt(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?zt(t,i?0:o,i?o+1:r):zt(t,i?o+1:0,i?r:o)}function $t(t,e){var n=t;n instanceof Z&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=e[i];n=o.func.apply(o.thisArg,lt([n],o.args))}return n}function Qt(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e==e&&r<=q){for(;i<r;){var o=i+r>>>1,s=t[o];(n?s<=e:s<e)&&null!==s?i=1+o:r=o}return r}return Zt(t,e,ir,n)}function Zt(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!=e,a=null===e,l=e===gr;r<o;){var u=I((r+o)/2),c=n(t[u]),h=c!==gr,d=c==c;if(s)var p=d||i;else p=a?d&&h&&(i||null!=c):l?d&&(i||h):null!=c&&(i?c<=e:c<e);p?r=u+1:o=u}return V(o,G)}function te(o,s,t){if("function"!=typeof o)return ir;if(s===gr)return o;switch(t){case 1:return function(t){return o.call(s,t)};case 3:return function(t,e,n){return o.call(s,t,e,n)};case 4:return function(t,e,n,i){return o.call(s,t,e,n,i)};case 5:return function(t,e,n,i,r){return o.call(s,t,e,n,i,r)}}return function(){return o.apply(s,arguments)}}function ee(t){var e=new v(t.byteLength);return new k(e).set(new k(t)),e}function ne(t,e,n){for(var i=n.length,r=-1,o=H(t.length-i,0),s=-1,a=e.length,l=M(a+o);++s<a;)l[s]=e[s];for(;++r<i;)l[n[r]]=t[r];for(;o--;)l[s++]=t[r++];return l}function ie(t,e,n){for(var i=-1,r=n.length,o=-1,s=H(t.length-r,0),a=-1,l=e.length,u=M(s+l);++o<s;)u[o]=t[o];for(var c=o;++a<l;)u[c+a]=e[a];for(;++i<r;)u[c+n[i]]=t[o++];return u}function re(a,l){return function(t,i,e){var r=l?l():{};if(i=Pe(i,e,3),di(t))for(var n=-1,o=t.length;++n<o;){var s=t[n];a(r,s,i(s,n,t),t)}else St(t,function(t,e,n){a(r,t,i(t,e,n),n)});return r}}function oe(l){return ui(function(t,e){var n=-1,i=null==t?0:e.length,r=2<i?e[i-2]:gr,o=2<i?e[2]:gr,s=1<i?e[i-1]:gr;for("function"==typeof r?(r=te(r,s,5),i-=2):i-=(r="function"==typeof s?s:gr)?1:0,o&&Be(e[0],e[1],o)&&(r=i<3?gr:r,i=1);++n<i;){var a=e[n];a&&l(t,a,r)}return t})}function se(o,s){return function(t,e){var n=t?De(t):0;if(!ze(n))return o(t,e);for(var i=s?n:-1,r=Ze(t);(s?i--:++i<n)&&!1!==e(r[i],i,r););return t}}function ae(l){return function(t,e,n){for(var i=Ze(t),r=n(t),o=r.length,s=l?o:-1;l?s--:++s<o;){var a=r[s];if(!1===e(i[a],a,i))break}return t}}function le(t){return R&&x?new et(t):null}function ue(o){return function(t){for(var e=-1,n=tr(qi(t)),i=n.length,r="";++e<i;)r=o(r,n[e],e);return r}}function ce(i){return function(){var t=arguments;switch(t.length){case 0:return new i;case 1:return new i(t[0]);case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[1],t[2]);case 4:return new i(t[0],t[1],t[2],t[3]);case 5:return new i(t[0],t[1],t[2],t[3],t[4]);case 6:return new i(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new i(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=yt(i.prototype),n=i.apply(e,t);return gi(n)?n:e}}function he(o){return function t(e,n,i){i&&Be(e,n,i)&&(n=gr);var r=Oe(e,o,gr,gr,gr,gr,gr,n);return r.placeholder=t.placeholder,r}}function de(n,i){return ui(function(t){var e=t[0];return null==e?e:(t.push(i),n.apply(gr,t))})}function pe(u,c){return function(t,e,n){if(n&&Be(t,e,n)&&(e=gr),1==(e=Pe(e,n,3)).length){var i=function(t,e,n,i){for(var r=-1,o=t.length,s=i,a=s;++r<o;){var l=t[r],u=+e(l);n(u,s)&&(s=u,a=l)}return a}(t=di(t)?t:Qe(t),e,u,c);if(!t.length||i!==c)return i}return r=e,o=u,l=a=s=c,St(t,function(t,e,n){var i=+r(t,e,n);(o(i,a)||i===s&&i===l)&&(a=i,l=t)}),l;var r,o,s,a,l}}function fe(r,o){return function(t,e,n){if(e=Pe(e,n,3),di(t)){var i=Do(t,e,o);return-1<i?t[i]:gr}return _t(t,e,r)}}function ve(i){return function(t,e,n){return t&&t.length?Do(t,e=Pe(e,n,3),i):-1}}function ge(i){return function(t,e,n){return _t(t,e=Pe(e,n,3),i,!0)}}function me(l){return function(){for(var r,o=arguments.length,t=l?o:-1,e=0,s=M(o);l?t--:++t<o;){var n=s[e++]=arguments[t];if("function"!=typeof n)throw new y(Lr);!r&&Q.prototype.thru&&"wrapper"==Ie(n)&&(r=new Q([],!0))}for(t=r?-1:o;++t<o;){var i=Ie(n=s[t]),a="wrapper"==i?Re(n):gr;r=a&&We(a[0])&&a[1]==(xr|wr|Er|_r)&&!a[4].length&&1==a[9]?r[Ie(a[0])].apply(r,a[3]):1==n.length&&We(n)?r[i]():r.thru(n)}return function(){var t=arguments,e=t[0];if(r&&1==t.length&&di(e)&&e.length>=Pr)return r.plant(e).value();for(var n=0,i=o?s[n].apply(this,t):e;++n<o;)i=s[n].call(this,i);return i}}}function ye(i,r){return function(t,e,n){return"function"==typeof e&&n===gr&&di(t)?i(t,e):r(t,te(e,n,3))}}function be(i){return function(t,e,n){return"function"==typeof e&&n===gr||(e=te(e,n,3)),i(t,e,Vi)}}function Ae(i){return function(t,e,n){return"function"==typeof e&&n===gr||(e=te(e,n,3)),i(t,e)}}function we(s){return function(t,r,e){var o={};return r=Pe(r,e,3),Pt(t,function(t,e,n){var i=r(t,e,n);t=s?t:i,o[e=s?i:e]=t}),o}}function Se(i){return function(t,e,n){return t=Vo(t),(i?t:"")+_e(t,e,n)+(i?"":t)}}function Ee(i){var r=ui(function(t,e){var n=Xo(e,r.placeholder);return Oe(t,i,gr,e,n)});return r}function Te(u,c){return function(t,e,n,i){var r,o,s,a,l=arguments.length<3;return"function"==typeof e&&i===gr&&di(t)?u(t,e,n,l):(r=t,o=Pe(e,i,4),s=n,a=l,c(r,function(t,e,n){s=a?(a=!1,t):o(s,t,e,n)}),s)}}function xe(d,p,f,v,g,m,y,b,A,w){var S=p&xr,E=p&yr,T=p&br,x=p&wr,_=p&Ar,C=p&Sr,k=T?gr:ce(d);return function t(){for(var e=arguments.length,n=e,i=M(e);n--;)i[n]=arguments[n];if(v&&(i=ne(i,v,g)),m&&(i=ie(i,m,y)),x||C){var r=t.placeholder,o=Xo(i,r);if((e-=o.length)<w){var s=b?it(b):gr,a=H(w-e,0);p|=x?Er:Tr,p&=~(x?Tr:Er),_||(p&=~(yr|br));var l=[d,p,f,x?i:gr,x?o:gr,x?gr:i,x?gr:o,s,A,a],u=xe.apply(gr,l);return We(d)&&Ke(u,l),u.placeholder=r,u}}var c=E?f:this,h=T?c[d]:d;return b&&(i=function(t,e){for(var n=t.length,i=V(e.length,n),r=it(t);i--;){var o=e[i];t[i]=je(o,n)?r[o]:gr}return t}(i,b)),S&&A<i.length&&(i.length=A),this&&this!==Io&&this instanceof t&&(h=k||ce(d)),h.apply(c,i)}}function _e(t,e,n){var i=t.length;if((e=+e)<=i||!D(e))return"";var r=e-i;return Ki(n=null==n?" ":n+"",P(r/n.length)).slice(0,r)}function Ce(s,t,a,l){var u=t&yr,c=ce(s);return function t(){for(var e=-1,n=arguments.length,i=-1,r=l.length,o=M(r+n);++i<r;)o[i]=l[i];for(;n--;)o[i++]=arguments[++e];return(this&&this!==Io&&this instanceof t?c:s).apply(u?a:this,o)}}function ke(t){var n=r[t];return function(t,e){return(e=e!==gr&&+e||0)?(e=E(10,e),n(t*e)/e):n(t)}}function Me(o){return function(t,e,n,i){var r=Pe(n);return null==n&&r===gt?Qt(t,e,o):Zt(t,e,r(n,i,1),o)}}function Oe(t,e,n,i,r,o,s,a){var l=e&br;if(!l&&"function"!=typeof t)throw new y(Lr);var u=i?i.length:0;if(u||(e&=~(Er|Tr),i=r=gr),u-=r?r.length:0,e&Tr){var c=i,h=r;i=r=gr}var d,p,f,v=l?gr:Re(t),g=[t,e,n,i,r,c,h,o,s,a];if(v&&(function(t,e){var n=t[1],i=e[1],r=n|i,o=r<xr,s=i==xr&&n==wr||i==xr&&n==_r&&t[7].length<=e[8]||i==(xr|_r)&&n==wr;if(o||s){i&yr&&(t[2]=e[2],r|=n&yr?0:Ar);var a=e[3];if(a){var l=t[3];t[3]=l?ne(l,a,e[4]):it(a),t[4]=l?Xo(t[3],Dr):it(e[4])}(a=e[5])&&(l=t[5],t[5]=l?ie(l,a,e[6]):it(a),t[6]=l?Xo(t[5],Dr):it(e[6])),(a=e[7])&&(t[7]=it(a)),i&xr&&(t[8]=null==t[8]?e[8]:V(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}}(g,v),e=g[1],a=g[9]),g[9]=null==a?l?0:t.length:H(a-u,0)||0,e==yr)var m=(d=g[0],p=g[2],f=ce(d),function t(){return(this&&this!==Io&&this instanceof t?f:d).apply(p,arguments)});else m=e!=Er&&e!=(yr|Er)||g[4].length?xe.apply(gr,g):Ce.apply(gr,g);return(v?Wt:Ke)(m,g)}function Pe(t,e,n){var i=K.callback||nr;return i=i===nr?gt:i,n?i(t,e,n):i}var Re=X?function(t){return X.get(t)}:lr;function Ie(t){for(var e=t.name+"",n=J[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Le(t,e,n){var i=K.indexOf||un;return i=i===un?No:i,t?i(t,e,n):i}var De=jt("length");function Ne(t){for(var e=Ui(t),n=e.length;n--;)e[n][2]=Ge(e[n][1]);return e}function He(t,e){var n=null==t?gr:t[e];return mi(n)?n:gr}function Ve(t,e,n){null==t||Ue(e,t)||(t=1==(e=tn(e)).length?t:Lt(t,zt(e,0,-1)),e=hn(e));var i=null==t?t:t[e];return null==i?gr:i.apply(t,n)}function Fe(t){return null!=t&&ze(De(t))}function je(t,e){return t="number"==typeof t||To.test(t)?+t:-1,e=null==e?Y:e,-1<t&&t%1==0&&t<e}function Be(t,e,n){if(gi(n)){var i=typeof e;if("number"==i?Fe(n)&&je(e,n.length):"string"==i&&e in n){var r=n[e];return t==t?t===r:r!=r}}}function Ue(t,e){var n=typeof t;return!!("string"==n&&fo.test(t)||"number"==n)||!di(t)&&(!po.test(t)||null!=e&&t in Ze(e))}function We(t){var e=Ie(t),n=K[e];if("function"==typeof n&&e in Z.prototype){if(t===n)return 1;var i=Re(n);return i&&t===i[0]}}function ze(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Y}function Ge(t){return t==t&&!gi(t)}function qe(t,e){t=Ze(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function Ye(t,i){var r={};return Ot(t,function(t,e,n){i(t,e,n)&&(r[e]=t)}),r}var Xe,Je,Ke=(Je=Xe=0,function(t,e){var n=qn(),i=Or-(n-Je);if(Je=n,0<i){if(++Xe>=Mr)return t}else Xe=0;return Wt(t,e)});function $e(t){for(var e=Vi(t),n=e.length,i=n&&t.length,r=!!i&&ze(i)&&(di(t)||hi(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&je(a,i)||b.call(t,a))&&s.push(a)}return s}function Qe(t){return null==t?[]:Fe(t)?gi(t)?t:d(t):zi(t)}function Ze(t){return gi(t)?t:d(t)}function tn(t){if(di(t))return t;var r=[];return Vo(t).replace(vo,function(t,e,n,i){r.push(n?i.replace(bo,"$1"):e||t)}),r}function en(t){return t instanceof Z?t.clone():new Q(t.__wrapped__,t.__chain__,it(t.__actions__))}var nn=ui(function(t,e){return Yo(t)&&Fe(t)?wt(t,Ct(e,!1,!0)):[]});function rn(t,e,n){return t&&t.length?((n?Be(t,e,n):null==e)&&(e=1),zt(t,e<0?0:e)):[]}function on(t,e,n){var i=t?t.length:0;return i?((n?Be(t,e,n):null==e)&&(e=1),zt(t,0,(e=i-(+e||0))<0?0:e)):[]}var sn=ve(),an=ve(!0);function ln(t){return t?t[0]:gr}function un(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?H(i+n,0):n;else if(n){var r=Qt(t,e);return r<i&&(e==e?e===t[r]:t[r]!=t[r])?r:-1}return No(t,e,n||0)}var cn=ui(function(t){for(var e=t.length,n=e,i=M(c),r=Le(),o=r===No,s=[];n--;){var a=t[n]=Fe(a=t[n])?a:[];i[n]=o&&120<=a.length?le(n&&a):null}var l=t[0],u=-1,c=l?l.length:0,h=i[0];t:for(;++u<c;)if(a=l[u],(h?nt(h,a):r(s,a,0))<0){for(n=e;--n;){var d=i[n];if((d?nt(d,a):r(t[n],a,0))<0)continue t}h&&h.push(a),s.push(a)}return s});function hn(t){var e=t?t.length:0;return e?t[e-1]:gr}var dn=ui(function(t,e){var n=ft(t,e=Ct(e));return Bt(t,e.sort(Lo)),n});function pn(t){return rn(t,1)}var fn=Me(),vn=Me(!0);var gn=ui(function(t){return Xt(Ct(t,!1,!0))});function mn(t,e,n,i){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(n=Be(t,e,i=n)?gr:e,e=!1);var r=Pe();return null==n&&r===gt||(n=r(n,i,3)),(e&&Le()===No?function(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],l=e?e(a,i,t):a;i&&n===l||(n=l,s[++o]=a)}return s}:Xt)(t,n)}function yn(t){if(!t||!t.length)return[];var e=-1,n=0;t=st(t,function(t){return Fe(t)&&(n=H(t.length,n),1)});for(var i=M(n);++e<n;)i[e]=at(t,jt(e));return i}function bn(t,e,n){if(!t||!t.length)return[];var i=yn(t);return null==e?i:(e=te(e,n,4),at(i,function(t){return ut(t,e,gr,!0)}))}var An=ui(function(t,e){return Fe(t)?wt(t,e):[]});var wn=ui(yn);function Sn(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||di(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}var En=ui(function(t){var e=t.length,n=2<e?t[e-2]:gr,i=1<e?t[e-1]:gr;return 2<e&&"function"==typeof n?e-=2:(n=1<e&&"function"==typeof i?(--e,i):gr,i=gr),t.length=e,bn(t,n,i)});function Tn(t){var e=K(t);return e.__chain__=!0,e}function xn(t,e,n){return e.call(n,t)}var _n=ui(function(e){return e=Ct(e),this.thru(function(t){return function(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,s=M(i+o);++n<i;)s[n]=t[n];for(;++r<o;)s[n++]=e[r];return s}(di(t)?t:[Ze(t)],e)})});var Cn=ui(function(t,e){return ft(t,Ct(e))}),kn=re(function(t,e,n){b.call(t,n)?++t[n]:t[n]=1});function Mn(t,e,n){var i=di(t)?ot:Tt;return n&&Be(t,e,n)&&(e=gr),"function"==typeof e&&n===gr||(e=Pe(e,n,3)),i(t,e)}function On(t,e,n){return(di(t)?st:xt)(t,e=Pe(e,n,3))}var Pn=fe(St),Rn=fe(Et,!0);var In=ye(rt,St),Ln=ye(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},Et),Dn=re(function(t,e,n){b.call(t,n)?t[n].push(e):t[n]=[e]});function Nn(t,e,n,i){var r=t?De(t):0;return ze(r)||(r=(t=zi(t)).length),n="number"!=typeof n||i&&Be(e,n,i)?0:n<0?H(r+n,0):n||0,"string"==typeof t||!di(t)&&wi(t)?n<=r&&-1<t.indexOf(e,n):!!r&&-1<Le(t,e,n)}var Hn=re(function(t,e,n){t[n]=e}),Vn=ui(function(t,n,i){var r=-1,o="function"==typeof n,s=Ue(n),a=Fe(t)?M(t.length):[];return St(t,function(t){var e=o?n:s&&null!=t?t[n]:gr;a[++r]=e?e.apply(t,i):Ve(t,n,i)}),a});function Fn(t,e,n){return(di(t)?at:Ht)(t,e=Pe(e,n,3))}var jn=re(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var Bn=Te(ut,St),Un=Te(function(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n},Et);function Wn(t,e,n){if(n?Be(t,e,n):null==e)return 0<(i=(t=Qe(t)).length)?t[Ut(0,i-1)]:gr;var i,r=-1,o=Ti(t),s=(i=o.length)-1;for(e=V(!(e<0)&&+e||0,i);++r<e;){var a=Ut(r,s),l=o[a];o[a]=o[r],o[r]=l}return o.length=e,o}function zn(t,e,n){var i=di(t)?ct:Gt;return n&&Be(t,e,n)&&(e=gr),"function"==typeof e&&n===gr||(e=Pe(e,n,3)),i(t,e)}var Gn=ui(function(t,e){if(null==t)return[];var n=e[2];return n&&Be(e[0],e[1],n)&&(e.length=1),Yt(t,Ct(e),[])});var qn=F||function(){return(new n).getTime()};function Yn(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new y(Lr);var i=t;t=e,e=i}return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=gr),n}}var Xn=ui(function(t,e,n){var i=yr;if(n.length){var r=Xo(n,Xn.placeholder);i|=Er}return Oe(t,i,e,n,r)}),Jn=ui(function(t,e){for(var n=-1,i=(e=e.length?Ct(e):Ni(t)).length;++n<i;){var r=e[n];t[r]=Oe(t[r],yr,t)}return t}),Kn=ui(function(t,e,n){var i=yr|br;if(n.length){var r=Xo(n,Kn.placeholder);i|=Er}return Oe(e,i,t,n,r)}),$n=he(wr),Qn=he(Sr);function Zn(i,r,t){var o,s,a,l,u,c,h,d=0,p=!1,f=!0;if("function"!=typeof i)throw new y(Lr);if(r=!(r<0)&&+r||0,!0===t){var v=!0;f=!1}else gi(t)&&(v=!!t.leading,p="maxWait"in t&&H(+t.maxWait||0,r),f="trailing"in t?!!t.trailing:f);function e(t,e){e&&w(e),s=c=h=gr,t&&(d=qn(),a=i.apply(u,o),c||s||(o=u=gr))}function g(){var t=r-(qn()-l);t<=0||r<t?e(h,s):c=_(g,t)}function m(){e(f,c)}function n(){if(o=arguments,l=qn(),u=this,h=f&&(c||!v),!1===p)var t=v&&!c;else{s||v||(d=l);var e=p-(l-d),n=e<=0||p<e;n?(s=s&&w(s),d=l,a=i.apply(u,o)):s=s||_(m,e)}return n&&c?c=w(c):c||r===p||(c=_(g,r)),t&&(n=!0,a=i.apply(u,o)),!n||c||s||(o=u=gr),a}return n.cancel=function(){c&&w(c),s&&w(s),d=0,s=c=h=gr},n}var ti=ui(function(t,e){return At(t,1,e)}),ei=ui(function(t,e,n){return At(t,e,n)}),ni=me(),ii=me(!0);function ri(r,o){if("function"!=typeof r||o&&"function"!=typeof o)throw new y(Lr);var s=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=s.cache;if(n.has(e))return n.get(e);var i=r.apply(this,t);return s.cache=n.set(e,i),i};return s.cache=new ri.Cache,s}var oi=ui(function(n,i){if(i=Ct(i),"function"!=typeof n||!ot(i,Ho))throw new y(Lr);var r=i.length;return ui(function(t){for(var e=V(t.length,r);e--;)t[e]=i[e](t[e]);return n.apply(this,t)})});var si=Ee(Er),ai=Ee(Tr),li=ui(function(t,e){return Oe(t,_r,gr,gr,gr,Ct(e))});function ui(o,s){if("function"!=typeof o)throw new y(Lr);return s=H(s===gr?o.length-1:+s||0,0),function(){for(var t=arguments,e=-1,n=H(t.length-s,0),i=M(n);++e<n;)i[e]=t[s+e];switch(s){case 0:return o.call(this,i);case 1:return o.call(this,t[0],i);case 2:return o.call(this,t[0],t[1],i)}var r=M(s+1);for(e=-1;++e<s;)r[e]=t[e];return r[s]=i,o.apply(this,r)}}function ci(t,e){return e<t}function hi(t){return Yo(t)&&Fe(t)&&b.call(t,"callee")&&!T.call(t,"callee")}var di=L||function(t){return Yo(t)&&ze(t.length)&&A.call(t)==Hr};function pi(t,e,n,i){var r=(n="function"==typeof n?te(n,i,3):gr)?n(t,e):gr;return r===gr?Dt(t,e,n):!!r}function fi(t){return Yo(t)&&"string"==typeof t.message&&A.call(t)==jr}function vi(t){return gi(t)&&A.call(t)==Br}function gi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function mi(t){return null!=t&&(vi(t)?f.test(c.call(t)):Yo(t)&&Eo.test(t))}function yi(t){return"number"==typeof t||Yo(t)&&A.call(t)==Ur}function bi(t){var e,n;return!(!Yo(t)||A.call(t)!=Wr||hi(t)||!(b.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(Ot(t,function(t,e){n=e}),n===gr||b.call(t,n))}function Ai(t){return gi(t)&&A.call(t)==zr}function wi(t){return"string"==typeof t||Yo(t)&&A.call(t)==Gr}function Si(t){return Yo(t)&&ze(t.length)&&!!Po[A.call(t)]}function Ei(t,e){return t<e}function Ti(t){var e=t?De(t):0;return ze(e)?e?it(t):[]:zi(t)}function xi(t){return vt(t,Vi(t))}var _i=oe(function o(s,a,l,u,c){if(!gi(s))return s;var h=Fe(a)&&(di(a)||Si(a)),d=h?gr:Hi(a);return rt(d||a,function(t,e){if(d&&(t=a[e=t]),Yo(t))!function(t,e,n,i,r,o,s){for(var a=o.length,l=e[n];a--;)if(o[a]==l)return t[n]=s[a];var u=t[n],c=r?r(u,l,n,t,e):gr,h=c===gr;h&&(Fe(c=l)&&(di(l)||Si(l))?c=di(u)?u:Fe(u)?it(u):[]:bi(l)||hi(l)?c=hi(u)?xi(u):bi(u)?u:{}:h=!1),o.push(l),s.push(c),h?t[n]=i(c,l,r,o,s):(c==c?c!==u:u==u)&&(t[n]=c)}(s,a,e,o,l,u=u||[],c=c||[]);else{var n=s[e],i=l?l(n,t,e,s,a):gr,r=i===gr;r&&(i=t),i===gr&&(!h||e in s)||!r&&(i==i?i===n:n!=n)||(s[e]=i)}}),s}),Ci=oe(function(t,e,n){return n?dt(t,e,n):pt(t,e)});var ki=de(Ci,function(t,e){return t===gr?e:t}),Mi=de(_i,function t(e,n){return e===gr?n:_i(e,n,t)}),Oi=ge(Pt),Pi=ge(Rt),Ri=be(kt),Ii=be(Mt),Li=Ae(Pt),Di=Ae(Rt);function Ni(t){return It(t,Vi(t))}var Hi=N?function(t){var e=null==t?gr:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Fe(t)?$e(t):gi(t)?N(t):[]}:$e;function Vi(t){if(null==t)return[];gi(t)||(t=d(t));var e=t.length;e=e&&ze(e)&&(di(t)||hi(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,o=M(e),s=0<e;++i<e;)o[i]=i+"";for(var a in t)s&&je(a,e)||"constructor"==a&&(r||!b.call(t,a))||o.push(a);return o}var Fi=we(!0),ji=we(),Bi=ui(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=at(Ct(e),s),qe(t,wt(Vi(t),e));var i=te(e[0],e[1],3);return Ye(t,function(t,e,n){return!i(t,e,n)})});function Ui(t){t=Ze(t);for(var e=-1,n=Hi(t),i=n.length,r=M(i);++e<i;){var o=n[e];r[e]=[o,t[o]]}return r}var Wi=ui(function(t,e){return null==t?{}:"function"==typeof e[0]?Ye(t,te(e[0],e[1],3)):qe(t,Ct(e))});function zi(t){return Jt(t,Hi(t))}var Gi=ue(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)});function qi(t){return(t=Vo(t))&&t.replace(xo,Uo).replace(yo,"")}var Yi=ue(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});var Xi=Se(),Ji=Se(!0);function Ki(t,e){var n="";if(t=Vo(t),(e=+e)<1||!t||!D(e))return n;for(;e%2&&(n+=t),t+=t,e=I(e/2););return n}var $i=ue(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Qi=ue(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});function Zi(t,e,n){var i=t;return(t=Vo(t))?(n?Be(i,e,n):null==e)?t.slice(Jo(t),Ko(t)+1):(e+="",t.slice(Fo(t,e),jo(t,e)+1)):t}function tr(t,e,n){return n&&Be(t,e,n)&&(e=gr),(t=Vo(t)).match(e||ko)||[]}var er=ui(function(t,e){try{return t.apply(gr,e)}catch(t){return fi(t)?t:new i(t)}});function nr(t,e,n){return n&&Be(t,e,n)&&(e=gr),Yo(t)?rr(t):gt(t,e)}function ir(t){return t}function rr(t){return Vt(mt(t,!0))}var or=ui(function(e,n){return function(t){return Ve(t,e,n)}}),sr=ui(function(e,n){return function(t){return Ve(e,t,n)}});function ar(i,t,e){if(null==e){var n=gi(t),r=n?Hi(t):gr,o=r&&r.length?It(t,r):gr;(o?o.length:n)||(o=!1,e=t,t=i,i=this)}o=o||It(t,Hi(t));var s=!0,a=-1,l=vi(i),u=o.length;!1===e?s=!1:gi(e)&&"chain"in e&&(s=e.chain);for(;++a<u;){var c=o[a],h=t[c];i[c]=h,l&&(i.prototype[c]=function(n){return function(){var t=this.__chain__;if(s||t){var e=i(this.__wrapped__);return(e.__actions__=it(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e}return n.apply(i,lt([this.value()],arguments))}}(h))}return i}function lr(){}function ur(t){return Ue(t)?jt(t):(n=(e=t)+"",e=tn(e),function(t){return Lt(t,e,n)});var e,n}var cr,hr=ke("ceil"),dr=ke("floor"),pr=pe(ci,U),fr=pe(Ei,W),vr=ke("round");return K.prototype=$.prototype,(Q.prototype=yt($.prototype)).constructor=Q,(Z.prototype=yt($.prototype)).constructor=Z,tt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},tt.prototype.get=function(t){return"__proto__"==t?gr:this.__data__[t]},tt.prototype.has=function(t){return"__proto__"!=t&&b.call(this.__data__,t)},tt.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},et.prototype.push=function(t){var e=this.data;"string"==typeof t||gi(t)?e.set.add(t):e.hash[t]=!0},ri.Cache=tt,K.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new y(Lr);var n=t;t=e,e=n}return t=D(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},K.ary=function(t,e,n){return n&&Be(t,e,n)&&(e=gr),e=t&&null==e?t.length:H(+e||0,0),Oe(t,xr,gr,gr,gr,gr,e)},K.assign=Ci,K.at=Cn,K.before=Yn,K.bind=Xn,K.bindAll=Jn,K.bindKey=Kn,K.callback=nr,K.chain=Tn,K.chunk=function(t,e,n){e=(n?Be(t,e,n):null==e)?1:H(I(e)||1,1);for(var i=0,r=t?t.length:0,o=-1,s=M(P(r/e));i<r;)s[++o]=zt(t,i,i+=e);return s},K.compact=function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r},K.constant=function(t){return function(){return t}},K.countBy=kn,K.create=function(t,e,n){var i=yt(t);return n&&Be(t,e,n)&&(e=gr),e?pt(i,e):i},K.curry=$n,K.curryRight=Qn,K.debounce=Zn,K.defaults=ki,K.defaultsDeep=Mi,K.defer=ti,K.delay=ei,K.difference=nn,K.drop=rn,K.dropRight=on,K.dropRightWhile=function(t,e,n){return t&&t.length?Kt(t,Pe(e,n,3),!0,!0):[]},K.dropWhile=function(t,e,n){return t&&t.length?Kt(t,Pe(e,n,3),!0):[]},K.fill=function(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Be(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=null!=n&&+n||0)<0&&(n=r<-n?0:r+n),(i=i===gr||r<i?r:+i||0)<0&&(i+=r),r=i<n?0:i>>>0,n>>>=0;n<r;)t[n++]=e;return t}(t,e,n,i)):[]},K.filter=On,K.flatten=function(t,e,n){var i=t?t.length:0;return n&&Be(t,e,n)&&(e=!1),i?Ct(t,e):[]},K.flattenDeep=function(t){return t&&t.length?Ct(t,!0):[]},K.flow=ni,K.flowRight=ii,K.forEach=In,K.forEachRight=Ln,K.forIn=Ri,K.forInRight=Ii,K.forOwn=Li,K.forOwnRight=Di,K.functions=Ni,K.groupBy=Dn,K.indexBy=Hn,K.initial=function(t){return on(t,1)},K.intersection=cn,K.invert=function(t,e,n){n&&Be(t,e,n)&&(e=gr);for(var i=-1,r=Hi(t),o=r.length,s={};++i<o;){var a=r[i],l=t[a];e?b.call(s,l)?s[l].push(a):s[l]=[a]:s[l]=a}return s},K.invoke=Vn,K.keys=Hi,K.keysIn=Vi,K.map=Fn,K.mapKeys=Fi,K.mapValues=ji,K.matches=rr,K.matchesProperty=function(t,e){return Ft(t,mt(e,!0))},K.memoize=ri,K.merge=_i,K.method=or,K.methodOf=sr,K.mixin=ar,K.modArgs=oi,K.negate=function(t){if("function"!=typeof t)throw new y(Lr);return function(){return!t.apply(this,arguments)}},K.omit=Bi,K.once=function(t){return Yn(2,t)},K.pairs=Ui,K.partial=si,K.partialRight=ai,K.partition=jn,K.pick=Wi,K.pluck=function(t,e){return Fn(t,ur(e))},K.property=ur,K.propertyOf=function(e){return function(t){return Lt(e,tn(t),t+"")}},K.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=Le(),r=t.length;++n<r;)for(var o=0,s=t[n];-1<(o=i(e,s,o));)C.call(e,o,1);return e},K.pullAt=dn,K.range=function(t,e,n){n&&Be(t,e,n)&&(e=n=gr),t=+t||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,r=H(P((e-t)/((n=null==n?1:+n||0)||1)),0),o=M(r);++i<r;)o[i]=t,t+=n;return o},K.rearg=li,K.reject=function(t,i,e){var n=di(t)?st:xt;return i=Pe(i,e,3),n(t,function(t,e,n){return!i(t,e,n)})},K.remove=function(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],s=t.length;for(e=Pe(e,n,3);++r<s;){var a=t[r];e(a,r,t)&&(i.push(a),o.push(r))}return Bt(t,o),i},K.rest=pn,K.restParam=ui,K.set=function(t,e,n){if(null==t)return t;for(var i=e+"",r=-1,o=(e=null!=t[i]||Ue(e,t)?[i]:tn(e)).length,s=o-1,a=t;null!=a&&++r<o;){var l=e[r];gi(a)&&(r==s?a[l]=n:null==a[l]&&(a[l]=je(e[r+1])?[]:{})),a=a[l]}return t},K.shuffle=function(t){return Wn(t,W)},K.slice=function(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Be(t,e,n)&&(e=0,n=i),zt(t,e,n)):[]},K.sortBy=function(t,i,e){if(null==t)return[];e&&Be(t,i,e)&&(i=gr);var r=-1;return i=Pe(i,e,3),qt(Ht(t,function(t,e,n){return{criteria:i(t,e,n),index:++r,value:t}}),Bo)},K.sortByAll=Gn,K.sortByOrder=function(t,e,n,i){return null==t?[]:(i&&Be(e,n,i)&&(n=gr),di(e)||(e=null==e?[]:[e]),di(n)||(n=null==n?[]:[n]),Yt(t,e,n))},K.spread=function(e){if("function"!=typeof e)throw new y(Lr);return function(t){return e.apply(this,t)}},K.take=function(t,e,n){return t&&t.length?((n?Be(t,e,n):null==e)&&(e=1),zt(t,0,e<0?0:e)):[]},K.takeRight=function(t,e,n){var i=t?t.length:0;return i?((n?Be(t,e,n):null==e)&&(e=1),zt(t,(e=i-(+e||0))<0?0:e)):[]},K.takeRightWhile=function(t,e,n){return t&&t.length?Kt(t,Pe(e,n,3),!1,!0):[]},K.takeWhile=function(t,e,n){return t&&t.length?Kt(t,Pe(e,n,3)):[]},K.tap=function(t,e,n){return e.call(n,t),t},K.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new y(Lr);return!1===n?i=!1:gi(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Zn(t,e,{leading:i,maxWait:+e,trailing:r})},K.thru=xn,K.times=function(t,e,n){if((t=I(t))<1||!D(t))return[];var i=-1,r=M(V(t,z));for(e=te(e,n,1);++i<t;)i<z?r[i]=e(i):e(i);return r},K.toArray=Ti,K.toPlainObject=xi,K.transform=function(t,i,r,e){var n=di(t)||Si(t);if(i=Pe(i,e,4),null==r)if(n||gi(t)){var o=t.constructor;r=n?di(t)?new o:[]:yt(vi(o)?o.prototype:gr)}else r={};return(n?rt:Pt)(t,function(t,e,n){return i(r,t,e,n)}),r},K.union=gn,K.uniq=mn,K.unzip=yn,K.unzipWith=bn,K.values=zi,K.valuesIn=function(t){return Jt(t,Vi(t))},K.where=function(t,e){return On(t,Vt(e))},K.without=An,K.wrap=function(t,e){return Oe(e=null==e?ir:e,Er,gr,[t],[])},K.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Fe(n))var i=i?lt(wt(i,n),wt(n,i)):n}return i?Xt(i):[]},K.zip=wn,K.zipObject=Sn,K.zipWith=En,K.backflow=ii,K.collect=Fn,K.compose=ii,K.each=In,K.eachRight=Ln,K.extend=Ci,K.iteratee=nr,K.methods=Ni,K.object=Sn,K.select=On,K.tail=pn,K.unique=mn,ar(K,K),K.add=function(t,e){return(+t||0)+(+e||0)},K.attempt=er,K.camelCase=Gi,K.capitalize=function(t){return(t=Vo(t))&&t.charAt(0).toUpperCase()+t.slice(1)},K.ceil=hr,K.clone=function(t,e,n,i){return e&&"boolean"!=typeof e&&Be(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?mt(t,e,te(n,i,3)):mt(t,e)},K.cloneDeep=function(t,e,n){return"function"==typeof e?mt(t,!0,te(e,n,3)):mt(t,!0)},K.deburr=qi,K.endsWith=function(t,e,n){e+="";var i=(t=Vo(t)).length;return n=n===gr?i:V(!(n<0)&&+n||0,i),0<=(n-=e.length)&&t.indexOf(e,n)==n},K.escape=function(t){return(t=Vo(t))&&lo.test(t)?t.replace(so,Wo):t},K.escapeRegExp=function(t){return(t=Vo(t))&&mo.test(t)?t.replace(go,zo):t||"(?:)"},K.every=Mn,K.find=Pn,K.findIndex=sn,K.findKey=Oi,K.findLast=Rn,K.findLastIndex=an,K.findLastKey=Pi,K.findWhere=function(t,e){return Pn(t,Vt(e))},K.first=ln,K.floor=dr,K.get=function(t,e,n){var i=null==t?gr:Lt(t,tn(e),e+"");return i===gr?n:i},K.gt=ci,K.gte=function(t,e){return e<=t},K.has=function(t,e){if(null==t)return!1;var n=b.call(t,e);if(!n&&!Ue(e)){if(null==(t=1==(e=tn(e)).length?t:Lt(t,zt(e,0,-1))))return!1;e=hn(e),n=b.call(t,e)}return n||ze(t.length)&&je(e,t.length)&&(di(t)||hi(t))},K.identity=ir,K.includes=Nn,K.indexOf=un,K.inRange=function(t,e,n){return e=+e||0,n===gr?(n=e,e=0):n=+n||0,t>=V(e,n)&&t<H(e,n)},K.isArguments=hi,K.isArray=di,K.isBoolean=function(t){return!0===t||!1===t||Yo(t)&&A.call(t)==Vr},K.isDate=function(t){return Yo(t)&&A.call(t)==Fr},K.isElement=function(t){return!!t&&1===t.nodeType&&Yo(t)&&!bi(t)},K.isEmpty=function(t){return null==t||(Fe(t)&&(di(t)||wi(t)||hi(t)||Yo(t)&&vi(t.splice))?!t.length:!Hi(t).length)},K.isEqual=pi,K.isError=fi,K.isFinite=function(t){return"number"==typeof t&&D(t)},K.isFunction=vi,K.isMatch=function(t,e,n,i){return n="function"==typeof n?te(n,i,3):gr,Nt(t,Ne(e),n)},K.isNaN=function(t){return yi(t)&&t!=+t},K.isNative=mi,K.isNull=function(t){return null===t},K.isNumber=yi,K.isObject=gi,K.isPlainObject=bi,K.isRegExp=Ai,K.isString=wi,K.isTypedArray=Si,K.isUndefined=function(t){return t===gr},K.kebabCase=Yi,K.last=hn,K.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?H(i+n,0):V(n||0,i-1))+1;else if(n){var o=t[r=Qt(t,e,!0)-1];return(e==e?e===o:o!=o)?r:-1}if(e!=e)return qo(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1},K.lt=Ei,K.lte=function(t,e){return t<=e},K.max=pr,K.min=fr,K.noConflict=function(){return Io._=p,this},K.noop=lr,K.now=qn,K.pad=function(t,e,n){e=+e;var i=(t=Vo(t)).length;if(e<=i||!D(e))return t;var r=(e-i)/2,o=I(r);return(n=_e("",P(r),n)).slice(0,o)+t+n},K.padLeft=Xi,K.padRight=Ji,K.parseInt=function(t,e,n){return e=(n?Be(t,e,n):null==e)?0:e&&+e,t=Zi(t),j(t,e||(So.test(t)?16:10))},K.random=function(t,e,n){n&&Be(t,e,n)&&(e=n=gr);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(r=!(e=1)),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=B();return V(t+o*(e-t+S("1e-"+((o+"").length-1))),e)}return Ut(t,e)},K.reduce=Bn,K.reduceRight=Un,K.repeat=Ki,K.result=function(t,e,n){var i=null==t?gr:t[e];return i===gr&&(null==t||Ue(e,t)||(i=null==(t=1==(e=tn(e)).length?t:Lt(t,zt(e,0,-1)))?gr:t[hn(e)]),i=i===gr?n:i),vi(i)?i.call(t):i},K.round=vr,K.runInContext=t,K.size=function(t){var e=t?De(t):0;return ze(e)?e:Hi(t).length},K.snakeCase=$i,K.some=zn,K.sortedIndex=fn,K.sortedLastIndex=vn,K.startCase=Qi,K.startsWith=function(t,e,n){return t=Vo(t),n=null==n?0:V(!(n<0)&&+n||0,t.length),t.lastIndexOf(e,n)==n},K.sum=function(t,e,n){return n&&Be(t,e,n)&&(e=gr),1==(e=Pe(e,n,3)).length?function(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}(di(t)?t:Qe(t),e):(i=e,r=0,St(t,function(t,e,n){r+=+i(t,e,n)||0}),r);var i,r},K.template=function(s,t,e){var n=K.templateSettings;e&&Be(s,t,e)&&(t=e=gr),s=Vo(s),t=dt(pt({},e||t),n,ht);var a,l,i=dt(pt({},t.imports),n.imports,ht),r=Hi(i),o=Jt(i,r),u=0,c=t.interpolate||_o,h="__p += '",d=m((t.escape||_o).source+"|"+c.source+"|"+(c===ho?Ao:_o).source+"|"+(t.evaluate||_o).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Oo+"]")+"\n";s.replace(d,function(t,e,n,i,r,o){return n=n||i,h+=s.slice(u,o).replace(Co,Go),e&&(a=!0,h+="' +\n__e("+e+") +\n'"),r&&(l=!0,h+="';\n"+r+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+t.length,t}),h+="';\n";var f=t.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(l?h.replace(no,""):h).replace(io,"$1").replace(ro,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=er(function(){return g(r,p+"return "+h).apply(gr,o)});if(v.source=h,fi(v))throw v;return v},K.trim=Zi,K.trimLeft=function(t,e,n){var i=t;return(t=Vo(t))?(n?Be(i,e,n):null==e)?t.slice(Jo(t)):t.slice(Fo(t,e+"")):t},K.trimRight=function(t,e,n){var i=t;return(t=Vo(t))?(n?Be(i,e,n):null==e)?t.slice(0,Ko(t)+1):t.slice(0,jo(t,e+"")+1):t},K.trunc=function(t,e,n){n&&Be(t,e,n)&&(e=gr);var i=Cr,r=kr;if(null!=e)if(gi(e)){var o="separator"in e?e.separator:o;i="length"in e?+e.length||0:i,r="omission"in e?Vo(e.omission):r}else i=+e||0;if(i>=(t=Vo(t)).length)return t;var s=i-r.length;if(s<1)return r;var a=t.slice(0,s);if(null==o)return a+r;if(Ai(o)){if(t.slice(s).search(o)){var l,u,c=t.slice(0,s);for(o.global||(o=m(o.source,(wo.exec(o)||"")+"g")),o.lastIndex=0;l=o.exec(c);)u=l.index;a=a.slice(0,null==u?s:u)}}else if(t.indexOf(o,s)!=s){var h=a.lastIndexOf(o);-1<h&&(a=a.slice(0,h))}return a+r},K.unescape=function(t){return(t=Vo(t))&&ao.test(t)?t.replace(oo,$o):t},K.uniqueId=function(t){var e=++h;return Vo(t)+e},K.words=tr,K.all=Mn,K.any=zn,K.contains=Nn,K.eq=pi,K.detect=Pn,K.foldl=Bn,K.foldr=Un,K.head=ln,K.include=Nn,K.inject=Bn,ar(K,(cr={},Pt(K,function(t,e){K.prototype[e]||(cr[e]=t)}),cr),!1),K.sample=Wn,K.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Wn(t,e)}):Wn(this.value())},K.VERSION=mr,rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){K[t].placeholder=K}),rt(["drop","take"],function(i,r){Z.prototype[i]=function(t){var e=this.__filtered__;if(e&&!r)return new Z(this);t=null==t?1:H(I(t)||0,0);var n=this.clone();return e?n.__takeCount__=V(n.__takeCount__,t):n.__views__.push({size:t,type:i+(n.__dir__<0?"Right":"")}),n},Z.prototype[i+"Right"]=function(t){return this.reverse()[i](t).reverse()}}),rt(["filter","map","takeWhile"],function(t,e){var i=e+1,r=i!=Ir;Z.prototype[t]=function(t,e){var n=this.clone();return n.__iteratees__.push({iteratee:Pe(t,e,1),type:i}),n.__filtered__=n.__filtered__||r,n}}),rt(["first","last"],function(t,e){var n="take"+(e?"Right":"");Z.prototype[t]=function(){return this[n](1).value()[0]}}),rt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Z.prototype[t]=function(){return this.__filtered__?new Z(this):this[n](1)}}),rt(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Vt:ur;Z.prototype[t]=function(t){return this[n](i(t))}}),Z.prototype.compact=function(){return this.filter(ir)},Z.prototype.reject=function(e,t){return e=Pe(e,t,1),this.filter(function(t){return!e(t)})},Z.prototype.slice=function(t,e){t=null!=t&&+t||0;var n=this;return n.__filtered__&&(0<t||e<0)?new Z(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==gr&&(n=(e=+e||0)<0?n.dropRight(-e):n.take(e-t)),n)},Z.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Z.prototype.toArray=function(){return this.take(W)},Pt(Z.prototype,function(h,t){var d=/^(?:filter|map|reject)|While$/.test(t),p=/^(?:first|last)$/.test(t),f=K[p?"take"+("last"==t?"Right":""):t];f&&(K.prototype[t]=function(){var e=p?[1]:arguments,n=this.__chain__,t=this.__wrapped__,i=!!this.__actions__.length,r=t instanceof Z,o=e[0],s=r||di(t);function a(t){return p&&n?f(t,1)[0]:f.apply(gr,lt([t],e))}s&&d&&"function"==typeof o&&1!=o.length&&(r=s=!1);var l={func:xn,args:[a],thisArg:gr},u=r&&!i;if(p&&!n)return u?((t=t.clone()).__actions__.push(l),h.call(t)):f.call(gr,this.value())[0];if(p||!s)return this.thru(a);t=u?t:new Z(this);var c=h.apply(t,e);return c.__actions__.push(l),new Q(c,n)})}),rt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?u:a)[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);K.prototype[t]=function(){var e=arguments;return r&&!this.__chain__?n.apply(this.value(),e):this[i](function(t){return n.apply(t,e)})}}),Pt(Z.prototype,function(t,e){var n=K[e];if(n){var i=n.name+"";(J[i]||(J[i]=[])).push({name:e,func:n})}}),J[xe(gr,br).name]=[{name:"wrapper",func:gr}],Z.prototype.clone=function(){var t=new Z(this.__wrapped__);return t.__actions__=it(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=it(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=it(this.__views__),t},Z.prototype.reverse=function(){if(this.__filtered__){var t=new Z(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Z.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=di(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=V(e,t+s);break;case"takeRight":t=H(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,p=V(l,this.__takeCount__);if(!n||r<Pr||r==l&&p==l)return $t(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var v=-1,g=t[u+=e];++v<h;){var m=c[v],y=m.iteratee,b=m.type,A=y(g);if(b==Ir)g=A;else if(!A){if(b==Rr)continue t;break t}}f[d++]=g}return f},K.prototype.chain=function(){return Tn(this)},K.prototype.commit=function(){return new Q(this.value(),this.__chain__)},K.prototype.concat=_n,K.prototype.plant=function(t){for(var e,n=this;n instanceof $;){var i=en(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},K.prototype.reverse=function(){function t(t){return t.reverse()}var e=this.__wrapped__;if(e instanceof Z){var n=e;return this.__actions__.length&&(n=new Z(this)),(n=n.reverse()).__actions__.push({func:xn,args:[t],thisArg:gr}),new Q(n,this.__chain__)}return this.thru(t)},K.prototype.toString=function(){return this.value()+""},K.prototype.run=K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=function(){return $t(this.__wrapped__,this.__actions__)},K.prototype.collect=K.prototype.map,K.prototype.head=K.prototype.first,K.prototype.select=K.prototype.filter,K.prototype.tail=K.prototype.rest,K}();Io._=Qo,(b=function(){return Qo}.call(A,w,A,m))===gr||(m.exports=b)}).call(this)}).call(this,w(43)(t),w(42))},function(t,e,g){"use strict";var n;void 0===(n=function(t){function e(t,e){var n=v.slice(e);return n.unshift(t),h.formatSrcUrl(n.join("/"))}function n(t){var n=c.rest(arguments);return function(){var e=c.toArray(arguments);return n[t](function(t){return t.apply(null,e)})}}function i(t){return t+"."}function r(t,e){return e.replace(t,"")}function o(t,e){return t===e}function s(t,e){return e.charAt(0)[t]()+e.slice(1)}function a(t,e){return[t,e,t].join("")}function l(t){return"{"===t.charAt(0)&&(t=JSON.parse(t)),t}function u(t){return t.split("=").map(decodeURIComponent).map(l)}var c=g(0),h=g(45),d=g(4),p=g(5),f=/[\u0600-\u06FF]/,v={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(t,e,n){return function t(e,n,i){if(null==e||null==n)return i;if(0===n.length)return null!=e?e:i;var r,o,s=c.first(n),a=c.rest(n),l=c.isString(s),u=l&&"$"===s.charAt(0)?"prop":"get";return l&&-1<s.indexOf("[")&&(r=s.split("["),a.unshift(parseInt(r[1])),s=c.first(r)),t(s=null!=e[s]&&c.isFunction(e[s])?e[s]():null!=e[s]?e[s]:e[u]&&e[u]((o=s,"get"==u?o:o.slice(1))),a,i)}(t,c.isString(e)?e.split("."):e,n)},fix:function(t,e){return+t.toFixed(null!=e?e:5)},toSeconds:function(t){return t/1e3},toMilliseconds:function(t){return v.fix(1e3*t,0)},formatSecondsAsTime:function(t,e){function n(t){return t<10?"0"+t:t}var i,r=Math.floor(t/3600),o=Math.floor((t-3600*r)/60),s=Math.floor(t-3600*r-60*o);if(i=[o=n(o),s=n(s)],1<=r)i.unshift(r);else if(e){return'<span class="transparent no-wid">00:</span>'+i.join(":")}return i.join(":")},hexify:function(t){return"#"+t.replace(/0x|#/,"")},opacify:function(t){return t/100},rgbify:function(t,e){var n=this.hexify(t).replace("#",""),i=parseInt(n,16),r=[i>>16&255,i>>8&255,255&i],o=null!=e,s="rgb"+(o?"a":"");return o&&r.push(e),[s,"(",r.join(","),")"].join("")},toRgba:function(t,e){return v.rgbify(t,v.opacify(e))},octToDec:function(t){return t/255},decToPct:function(t,e){var n=v.fix(100*t);return e?n+"%":n},stopPct:function(t){return v.decToPct(v.octToDec(t))},pctToDec:function(t,e){return v.fix(parseFloat(t)/100,e)},add:function(t,e){return(t||0)+(e||0)},sum:function(){return c.reduce(arguments,v.add,0)},upperCaseFirst:c.partial(s,"toUpperCase"),lowerCaseFirst:c.partial(s,"toLowerCase"),slice:c.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return e(d.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return e(d.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(t,e,n){return Math.max(Math.min(n,e),t)},areOverlapping:function(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top},getRectIntersection:function(t,e){var n=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom),r=Math.max(t.left,e.left),o=Math.min(t.right,e.right);return v.areOverlapping(t,e)&&{top:n,left:r,bottom:i,right:o,width:o-r,height:i-n}},isWithinRange:function(t,e,n){return t<=n&&n<=e},hasProp:function(t,e){if(null==t)return!1;for(var n,i=t,r=e.split(".");n=r.shift();){if(null==i[n])return!1;i=i[n]}return!0},not:function(t){return function(){return!t.apply(this,arguments)}},take:function(t,e,n){return function(){return e.apply(n,c.take(arguments,t))}},invertPercent:function(t){return 1-t},andify:c.partial(n,"every"),orify:c.partial(n,"some"),is:o,isTrue:c.partial(o,!0),isFalse:c.partial(o,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(t,e,n){return new t(n,e)},createSuper:function(e){return function(t){return e.prototype[t]}},cloneDeeply:function(t){return JSON.parse(JSON.stringify(t))},buildEventNamespace:function(t){return".ds"+(t||"")},namespaceEvent:function(t,e){return t+v.buildEventNamespace(e)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},hypot:function(t,e){return Math.sqrt(t*t+e*e)},dist:function(t,e,n,i){var r=t-n,o=e-i;return this.hypot(r,o)},degToRad:function(t){return t*d.math.TO_RADIANS},radToDeg:function(t){return t*d.math.TO_DEGREES},normalizeDeg:function(t){for(var e=t;e<0;)e+=360;return e%360},stripTags:function(t,e,n){var i=document.createElement("div"),r=n?["<",n,">"].join(""):"",o=r.replace("<","</");return i.innerHTML=t,e?c(i.querySelectorAll(e)).map(function(t){return[r,t.innerHTML,o].join("")}).join(""):i.textContent},stripTagsMobile:function(t,e,n){return p.deviceView.isClassicMobile?v.stripTags(t,e,n):t},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},camelCaseAttr:function(t,e){return(t=e?t:t.toLowerCase()).replace(/-(.)/g,function(t,e){return e.toUpperCase()})},stripPlayer:c.partial(r,i(d.refs.PLAYER)),stripChoice:c.partial(r,i(d.refs.CHOICES)),stripStatement:c.partial(r,i(d.refs.STMTS)),prefixWithPlayer:function(t){return d.refs.PLAYER+"."+v.stripPlayer(t)},parseParams:function(t){return t=t||window.location.search.substr(1),c.object(t.split("&").map(function(t){return t.split("=")}))},applyMethod:function(t,e){var n=c.slice(arguments,2);return e=c.isArray(e)?e:[e],n.unshift(e,t),c.invoke.apply(c,n)},pxify:function(t){return[t,"px"].join("")},ptify:function(t){return[t,"pt"].join("")},shallowEqual:function(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0},doubleQuote:c.partial(a,'"'),quote:c.partial(a,"'"),toCssUrl:function(t){return["url(",this.quote(t),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var t;return t=this.getWindowSearch().split("&"),c.zipObject(t.map(u))},rotatePoint:function(t,e,n,i,r){r=v.degToRad(r);var o=t-n,s=e-i,a=Math.cos(r),l=Math.sin(r);return{x:a*o-l*s+n,y:l*o+a*s+i}},pointInRect:function(t,e,n){var i=n[0][0],r=n[0][1],o=n[1][0],s=n[1][1];return i<=t&&t<=o&&r<=e&&e<=s},showTimer:function(t,n){c(t.refs).pick(function(t,e){return 0===e.indexOf("timer")&&t!==n}).forOwn(function(t){t.onHide()}).value()},dateToString:function(t){if(null==t)return"";return[["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getDate(),", ",t.getFullYear()].join("")},timeToString:function(t){if(null==t)return"";var e=t.getHours(),n=t.getMinutes(),i="am";return n<10&&(n="0"+n),12<e&&(e-=12,i="pm"),[e,":",n," ",i].join("")},parseUrl:function(t){var e=document.createElement("a");return e.href=t,c.pick(e,["protocol","hostname","port","pathname","search","hash","host"])},hasArabicCharacters:function(t){return f.test(t)},ellipsize:function(t,e){return null==t||t.length<=e?t:[t.substr(0,e),"…"].join("")},generateHash:function(t){var e,n=0,i=t.length;for(e=0;e<i;e++)n=31*n+t.charCodeAt(e),n|=0;return n},multiply:c.curry(function(t,e){return t*e}),juxt:function(t){return function(){var e=arguments;return t.map(function(t){return t.apply(null,e)})}}};return v}.call(e,g,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(11);return n(0).extend({},e.Events)}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={ds:{FRAME_DATA_LOADED:"ds:frameLoaded",PRESO_LOADED:"ds:presoLoaded",PRESO_READY:"ds:presoReady"},actionlink:{EVENT:"actionlink:event",VIEWED:"actionlink:viewed"},animation:{CREATED:"animation:created",DESTROYED:"animation:destroyed"},app:{COMPLETE:"app:complete",BRANDING_COLOR:"app:brandingColor",PRESENTATION_POSITION:"app:presentationPosition",SHOW_LOADER:"app:showLoader",HIDE_LOADER:"app:hideLoader"},audioClip:{ENDED:"audioClip:ended",TIME_UPDATE:"audioClip:timeUpdate"},captions:{SHOW_BUTTON:"captions:showbutton",HIDE_BUTTON:"captions:hidebutton",ENABLED:"captions:enabled",ENABLE:"captions:enable",ADD:"captions:add",REMOVE:"captions:remove"},controlLayout:{CHANGED:"controllayout:changed",UPDATE:"controlLayout:update"},controlOptions:{CHANGED:"controlOptions:changed",RESET:"controlOptions:reset"},course:{COMPLETED:"course:completed",VIEWED:"course:viewed",MANUALLY_COMPLETED:"course:manuallyCompleted"},customlink:{EVENT:"customlink:event"},currTimeline:{TICK:"currTimeline:tick"},data:{INITIALIZED:"data:initialized",UPDATED:"data:updated"},detection:{VISIBILITY_HIDDEN:"detection:visibilityhidden",VISIBILITY_SHOWN:"detection:visibilityshown",ORIENTATION_CHANGE:"detection:orientationChange"},draw:{RESET:"draw:reset",RESET_COMPLETE:"draw:resetcomplete",EXIT:"draw:exit"},error:{INTERFACE:"error:interface"},frame:{LAYOUT_READY:"frame:layoutReady",REFLOW:"frame:reflow",MODEL_READY:"frame:modelReady",SCALE:"frame:scale",FONT_SCALE:"font:scale"},frameModel:{LAYOUT_CHANGED:"frameData:layoutChanged",CHROMELESS_CHANGED:"frameData:chromelessChanged"},glossary:{UPDATE:"glossary:update",REFRESH_VIEW:"glossary:refreshView"},hamburger:{TOGGLE:"hamburger:toggle"},interaction:{EVALUATED:"interaction:evaluated",VIEWED:"interaction:viewed"},keyManager:{FRAME_CONTROL_KEY:"keyManager:frameControlKey"},layer:{HIDDEN:"hidden",HIDE_OTHER_LAYERS:"hideOtherLayers",STACKING_CHANGED:"layer:stackingChanged",ACTIVATED:"activated",TIMELINE_ACTIVATED:"layer:timelineActivated",PAUSE_TIMELINE:"layer:pauseTimeline",PLAYING:"layer:playing"},layout:{CHANGED:"layout:changed"},loader:{MUTE:"loader:mute",UNMUTE:"loader:unmute",HIDE:"loader:hide",SHOW:"loader:show",SILENCE:"loader:silence",REMOVE_TITLE:"loader:removeTitle"},main:{PREPARE_AUDIO:"main:prepareAudio"},media:{CURRENT_TIME:"media:currentTime"},menuLinksListItem:{ITEM_SELECTED:"menuLinksListItem:itemSelected",TOGGLE:"menuLinksListItem:toggle"},messageWindow:{SHOWN:"messageWindow:shown"},mobile:{PRESENTATION_VISIBLE:"mobileChromeKiller:presentationVisible",ENTER_THUMB_VIEW:"mobileStartOverlay:enterThumbView",EXIT_THUMB_VIEW:"mobileStartOverlay:exitThumbView",MENU_OPEN:"uiMobile:menuOpen",OUTLINE_SHOWN:"panelsMobile:outlineShown",NOTES_SHOWN:"panelsMobile:notesShown"},navcontrols:{CHANGED:"navcontrols:changed"},navData:{UPDATE:"navData:update",REFRESH_VIEW:"navData:refreshView",SELECT_FIRST_SLIDE_LINK:"navData:selectFirstSlideLink"},player:{RESET:"player:reset",CLOSING:"player:closing",ERROR:"player:error",MENU_OPTIONS:"player:menuOptions",ENABLE_KEYBOARD_SHORTCUTS:"player:enableKeyboardShortcuts",INITIALIZED:"player:initialized",ACCESSIBLE_TEXT_CHANGED:"player:accessibleTextChanged",TOGGLE_PLAYBACK:"player:togglePlayback",SEEK:"player:seek"},popup:{SHOW:"popup:show",HIDE:"popup:hide",TOGGLE:"popup:toggle",EMAIL:"popup:email"},presentation:{ENTER_FULLSCREEN:"presentation:enterFullscreen",EXIT_FULLSCREEN:"presentation:exitFullscreen",ON_OBJECT_EVENT:"presentation:onobjectevent"},preview:{NOTIFY:"preview:notify"},quiz:{INTERACTION_ANSWERED:"quiz:interactionAnswered",COMPLETED:"quiz:completed",RETRIED:"quiz:retried"},renderTree:{DESTROYED:"renderTree:destroyed"},request:{START:"start:requesting",NEXT_SLIDE:"nextSlide:requesting",PREV_SLIDE:"prevSlide:requesting",NEXT_DRAW_SLIDE:"nextDrawSlide:requesting",PREV_HISTORY_GROUP:"prevHistoryGroup:requesting"},resources:{LINK_CLICKED:"resources:linkClicked",UPDATE_DESCRIPTION:"resources:updateDescription",UPDATE:"resources:update",REFRESH_VIEW:"resources:refreshView"},resume:{SET_DATA:"resume:setdata",RESET:"resume:reset",APPLIED:"resume:applied",COMPLETE:"resume:complete",RESET_DATA:"resume:resetData"},scheme:{CHANGED:"scheme:changed"},search:{START:"search:start",CLEAR:"search:clear",BLUR:"search:blur",SHOW:"search:show",UPDATE_PANEL:"search:updatePanel"},sidebar:{ACTIVE_TAB_SET:"sidebar:activeTabSet",SHOW_SEARCH:"sidebar:showSearch",HIDE_SEARCH:"sidebar:hideSearch",RESIZING:"sidebar:resizing",FORCE_OPEN:"sidebar:forceOpen",OPEN:"sidebar:open",CLOSE:"sidebar:close"},playbackControls:{TIMELINE_CHANGED:"playbackControls:timelineChanged"},slide:{WILL_CHANGE:"slide:willChange",CHANGE:"change:slides",READY:"slide:ready",STARTED:"slide:started",VIEWED:"slide:viewed",TRANSITION_STARTED:"slide:transitionStarted",ON_TRANSITION_IN:"slide:ontransitionin",CURRENT_TIMELINE:"slide:currentTimeline",PAUSE_TIMELINE:"slide:pauseTimeline",PLAY_TIMELINE:"slide:playTimeline",HAS_MOUNTED:"slide:hasMounted",HAS_CHANGED:"slide:hasChanged",ALL_TIMELINES_COMPLETE:"slide:allTimelinesComplete",ARIA_TOGGLE:"slide:ariaToggle",SLIDE_NUMBERS_UPDATED:"slide:slideNumbersUpdated",ZOOMED:"slide:zoomed",PREVENT_SWIPE:"slide:preventSwipe",ALLOW_SWIPE:"slide:allowSwipe"},slideWindow:{CLEAR_HISTORY:"slideWindow:clearHistory"},slideContainer:{POSITIONED:"slideContainer:positioned"},slideObject:{FOCUS:"slideobject:focus",TRANSFORM_DIRTY:"slideobject:transformdirty",TOGGLE_VISIBILITY:"slideobject:toggleVisibility",ON_TRANSITION_IN:"ontransitionin"},startOverlay:{READY:"startOverlay:ready"},status:{UPDATED:"status:updated"},strings:{UPDATE_STRINGS:"strings:updateStrings"},swipe:{CHANGED:"swipe:changed"},tab:{SHOW:"tab:show",HIDE:"tab:hide"},tabLink:{SHOW_PANEL:"tabLink:showPanel",PANEL_SHOWN:"tabLink:panelShown",HIDE_PANEL:"tabLink:hidePanel"},threeSixtyImage:{EDIT_MODE_CHANGED:"threeSixtyImage:editModeChanged",MARKER_UPDATED:"threeSixtyImage:markerUpdated"},timeline:{PLAYING:"timeline:playing",PAUSED:"timeline:paused",BEFORE_RESET:"timeline:beforereset",RESET:"timeline:reset",TICK:"timeline:tick",ENDED:"timeline:ended",COMPLETE:"timeline:complete",BEFORE_SEEK_UPDATE:"timeline:beforeSeekUpdate",AFTER_SEEK_UPDATE:"timeline:afterSeekUpdate",SEEK_START:"timeline:seekStart",SEEK_END:"timeline:seekEnd",CHANGED:"timeline:changed",CURRENT_TIMELINE:"timeline:currentTimeline"},timer:{SHOW:"timer:show",HIDE:"timer:hide",SHOWN:"timer:shown",HIDDEN:"timer:hidden",COMPLETE:"timer:complete"},tincan:{STATEMENT:"tincan:statement"},topbar:{CLOSED_SIDEBAR:"topbar:closedSidebar",OPENED_SIDEBAR:"topbar:openedSidebar"},topEllipsesPanel:{HIDE:"topEllipsesPanel:hide",PANEL_SHOWN:"topEllipsesPanel:panelShown",HIDE_PANEL:"topEllipsesPanel:hidePanel"},topTabs:{OPEN_DROPDOWN:"topTabs:openDropDown",OPEN_PANEL:"topTabs:openPanel"},topTabsItem:{ACTIVATE:"topTabsItem:activate",HIDE:"topTabsItem:hide"},touchHelper:{TOUCH_START:"touchHelper:touchStart"},transcript:{CHANGED:"transcript:changed"},tween:{UPDATE:"tween:update"},variable:{CHANGED:"variable:changed",REFRESH_VIEW:"variable:refreshView"},video:{STATE_CHANGED:"video:stateChanged"},elso:{TOGGLE_EXPANDED:"elso:toggleExpanded",SHOW_CONTENT_START:"elso:showContentStart",HIDE_CONTENT_COMPLETE:"elso:hideContentCompelete"},volume:{CHANGED:"volume:changed",CHANGE_CURRENT:"change:currentVolume"},window:{CLOSING:"window:closing",CLOSED:"window:closed",CREATED:"window:created",OPEN_EXTERNAL:"externalWindow:open",MAIN_CREATED:"mainWindow:created",MAIN_CHANGED:"mainWindow:slideChanged",SCALE:"window:scale",AFTER_SCALE:"window:afterScale",STACKING_CHANGED:"window:stackingChanged",ZOOM_MODE_CHANGED:"window:zoomModeChanged"},windowManager:{CREATED:"windowManager:created",TOP_MOST_CHANGED:"windowManager:topMostChanged"}};return Object.freeze(e),Object.freeze(e.actionlink),Object.freeze(e.animation),Object.freeze(e.app),Object.freeze(e.audioClip),Object.freeze(e.captions),Object.freeze(e.controlLayout),Object.freeze(e.course),Object.freeze(e.customlink),Object.freeze(e.data),Object.freeze(e.detection),Object.freeze(e.draw),Object.freeze(e.error),Object.freeze(e.hamburger),Object.freeze(e.interaction),Object.freeze(e.keyManager),Object.freeze(e.layer),Object.freeze(e.layout),Object.freeze(e.loader),Object.freeze(e.media),Object.freeze(e.menuLinksListItem),Object.freeze(e.mobile),Object.freeze(e.navcontrols),Object.freeze(e.player),Object.freeze(e.popup),Object.freeze(e.presentation),Object.freeze(e.preview),Object.freeze(e.quiz),Object.freeze(e.request),Object.freeze(e.resources),Object.freeze(e.resume),Object.freeze(e.scheme),Object.freeze(e.search),Object.freeze(e.sidebar),Object.freeze(e.slide),Object.freeze(e.slideContainer),Object.freeze(e.status),Object.freeze(e.swipe),Object.freeze(e.timeline),Object.freeze(e.timer),Object.freeze(e.topbar),Object.freeze(e.topTabsItem),Object.freeze(e.tween),Object.freeze(e.variable),Object.freeze(e.volume),Object.freeze(e.window),Object.freeze(e.windowManager),e}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=window.globals||{},n=window.location.protocol+"//",i=window.location.host,r=window.location.pathname.split(/\/+/).slice(0,-1).join("/"),o=e.DATA_PATH_BASE+"/html5/data/js",s=n+i+r+e.DATA_PATH_BASE+"/html5/lib/scripts",a=n+i+r+e.DATA_PATH_BASE+"/html5/lib/stylesheets",l={slideLocation:s+"/slides.min.js",frameLocations:{MOBILE:s+"/frame.mobile.min.js",DESKTOP:s+"/frame.desktop.min.js"},cssLocations:{MOBILE:a+"/mobile.min.css",DESKTOP:a+"/desktop.min.css"},player:{},LINE_BREAK_REGEX:/\n|\r/,theme:{},setThemeConstant:function(t,e){l.theme[t]=e},strings:{PROJECT_TITLE:"project-title"},els:{PRESO:"preso",LIB:"lib",MASK_LIB:"mask-library"},SVG_HIT:"svgHit",RECT_HIT:"rectHit",GROUP_HIT:"groupHit",SLIDE_HIT:"slideHit",PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[e.DATA_PATH_BASE,r].join(""),PRESENTATION_DATA_URL:[r,o].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,DESKTOP_LOADER_DELAY:200,XAPI_RETRY_INTERVALS_MS:[100,400,400,600,600],LIGHTBOX_SCALAR:.85,UNIFIED_PORTRAIT_UI_SIZE:65,UNIFIED_LANDSCAPE_UI_SIZE:58,UNIFIED_LIGHTBOX_UI_SIZE:50,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,ANIMATION_DURATION:300,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS_XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CURRENT_SLIDE:"_currentSlide",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},reviewResetTypes:{ALL:"all",INCORRECTONLY:"incorrectonly"},dynamicTabEls:{},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,HALF_PI:.5*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126},TINY_VIDEO:"data:video/mp4;base64, AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=",TINY_AUDIO:"data:audio/mp3;base64,//MgxAAAAANIAAAAAExBTUUzLjk3VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIsQnAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//MgxE8AAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIMR2AAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/8yDEnQAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHOWVmMTRlNzg4YzVhNDQ5AAAAAAAAAAAAAAAAAAAAYjZiYWQ3ZjY2NjFkZWZhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="};return Object.freeze(l),Object.freeze(l.refs),Object.freeze(l.varTypes),Object.freeze(l.statuses),Object.freeze(l.tabIndices),Object.freeze(l.math),Object.freeze(l.keys),l}.call(e,n,e,t))||(t.exports=i)},function(t,e,H){"use strict";var n;void 0===(n=function(t){function e(t){return"1"===c[t]}function n(){var t=L.orientation;t.value=window.innerWidth>window.innerHeight?"landscape":"portrait",L.innerHeight=window.innerHeight,L.innerWidth=window.innerWidth,D(),t.value===t.prev&&!L.forceHideWarning||("portrait"===t.value?(document.body.classList.remove("is-landscape"),document.body.classList.add("is-portrait"),t.isPortrait=!0,t.isLandscape=!1):(document.body.classList.add("is-landscape"),document.body.classList.remove("is-portrait"),t.isPortrait=!1,t.isLandscape=!0),a.trigger(s.detection.ORIENTATION_CHANGE,{orientation:t.value}),t.prev=t.value)}var i,r,o=H(29),s=H(3),a=H(2),l=H(46),u=H(6).addWindowListener,c=window.globals&&window.globals.parsedParams||{},h=e("forcemobile"),d=e("devicepreview"),p=e("phone"),f=e("noframe"),v=e("enableFs"),g=c.videocontrolsfont,m=window.navigator.userAgent.toLowerCase(),y="ActiveXObject"in window||null!=window.MSBlobBuilder,b=window.isMobile.apple.device,A=b?parseInt((/os[x\s]+([0-9]+)_/.exec(m)||/version\/([0-9]+)/.exec(m))[1]):NaN,w=b&&m.indexOf("version")<0,S="file:"===document.location.protocol,E=null!=window.vInterfaceObject&&window.autoSpider,T=E&&h&&d,x=(i=document.createElement("canvas"),r=i.getContext("webgl")||i.getContext("experimental-webgl"),(i=null)!=r),_=window.globals,C=_.deviceView,k=_.themeName,M=window,O=M.isMobile,P=M.isMobile.apple.tablet,R="classic"===k,I="unified"===k,L={device:{isDesktop:O.desktop,isMobile:O.mobile,isPhone:O.phone,isTablet:O.tablet},deviceView:{isDesktop:C.desktop,isMobile:C.mobile,isPhone:C.phone,isTablet:C.tablet,isClassicMobile:R&&C.mobile,isClassicDesktop:R&&C.desktop,isUnifiedMobile:I&&C.mobile,isUnifiedDesktop:I&&C.desktop},theme:{isClassic:R,isUnified:I},os:{isAndroid:window.isMobile.android.device,isIOS:b,iOSVersion:A,isIosPhoneBefore10:O.phone&&A<10,isMac:o.mac},browser:{isWebKit:m.includes("webkit"),isSafariMac:!(!o.mac||!o.safari),safariVersion:function(){if(o.safari){var t=/\/([\d]+)([.\d]+|[\w\d]+)\ssafari/.exec(m);if(null!==t)return parseInt(t[1])}return NaN}(),isFF:m.includes("firefox"),isChrome:o.chrome,isWebView:w,isUIWebView:w&&!window.indexedDB,isIE:y,isIE10:m.includes("msie s10"),isIE11:y&&null!=window.msCrypto&&!window.ActiveXObject,isEdge:y&&null==window.msCrypto&&x},env:{is360:E,isDevicePreview:T,isMobilePreview:h,isPhonePreview:T&&p,isRise:null!=window.vInterfaceObject&&window.vInterfaceObject.isRise,isInIframe:window.top!==window.self,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),isFileProtocol:S,enableFs:v&&T&&!p,hideFrame:f,videoControlsFont:null!=g&&"'"+window.decodeURIComponent(g)+"'"},capabilities:{hasAudioApi:l&&(!S||O.mobile),isMemoryDeficientDevice:P&&(768===screen.height||768===screen.width)},orientation:{forceHideWarning:!1,prev:null}},D=L.os.isAndroid?function(){var t=window.screen,e=t.width<t.height?"portrait":"landscape",n=L.orientation;n.forceHideWarning=n.value!==e}:function(){};if(L.device.isMobile&&L.env.isInIframe){document.body.style.position="fixed";var N=function(){document.body.style.width=window.innerWidth+"px",document.body.style.height=window.innerHeight+"px"};u("resize",N),N()}return L.isRise&&(document.body.classList.add("is-rise"),document.body.styles.background="transparent"),L.isMobile&&!L.theme.isUnified&&document.getElementById("preso").setAttribute("class",""),n(),u("orientationchange",n),L}.call(e,H,e,t))||(t.exports=n)},function(t,e,m){"use strict";var n;void 0===(n=function(t){function a(t,e,n){return((p[t]||{})[e]||{})[n]}function r(t,e,n,i,r){var o=4<arguments.length&&void 0!==r?r:"on",s=t===window&&("resize"===e||"orientationchange"===e);i=!!i&&!s;var a=h.get(t),l=p[a]=p[a]||{},u=l[e]=l[e]||{},c=u[i]=u[i]||{callbacks:{before:new Set,on:new Set,after:new Set},listener:null,customEvent:s};return d.reduce(function(t,e){return c.callbacks[e].has(n)||t},!1)||(c.callbacks[o].add(n),null===c.listener&&(c.listener=function(e){return d.forEach(function(t){return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(c.callbacks[t])).forEach(function(t){return t(e)})})},s||t.addEventListener(e,c.listener,i))),function(){return v(t,e,n,i)}}function o(t,e,n){var i=a(t,e,!1);null!=i&&i.listener(n)}function s(t){l!==window.innerWidth||u!==window.innerHeight?(f=null,g()):t-f<1e3?window.requestAnimationFrame(s):f=null}var e=m(2),n=m(3),h=new Map([[document,"document"],[document.body,"body"],[window,"window"]]),d=["before","on","after"],p={},i=window,l=i.lastWidth,u=i.lastHeight,c=void 0,f=void 0,v=function(t,e,n,i){var r=3<arguments.length&&void 0!==i&&i,o=h.get(t),s=a(o,e,r);null!=s&&(d.forEach(function(t){return s.callbacks[t].delete(n)}),s.customEvent||0!==d.reduce(function(t,e){return s.callbacks[e].size+t},0)||t.removeEventListener(e,n,r))},g=function(t){var e,n,i,r=0<arguments.length&&void 0!==t?t:{};e=r,n=window.innerWidth>window.innerHeight,c!==n&&(c=n,o("window","orientationchange",e)),i=r,l===window.innerWidth&&u===window.innerHeight||(l=window.innerWidth,u=window.innerHeight,o("window","resize",i)),null==f&&(f=window.performance.now(),window.requestAnimationFrame(s))};return window.addEventListener("orientationchange",g),window.addEventListener("resize",g),e.on(n.window.ZOOM_MODE_CHANGED,function(){o("window","resize",null)}),{addBodyListener:function(t,e,n,i){return r(document.body,t,e,n,i)},removeBodyListener:function(t,e,n){return v(document.body,t,e,n)},addDocumentListener:function(t,e,n,i){return r(document,t,e,n,i)},removeDocumentListener:function(t,e,n){return v(document,t,e,n)},addWindowListener:function(t,e,n,i){return r(window,t,e,n,i)},removeWindowListener:function(t,e,n){return v(window,t,e,n)}}}.call(e,m,e,t))||(t.exports=n)},function(t,e,y){"use strict";var n;void 0===(n=function(t){function i(t,e,n){var i=[];for(e=e||d.alwaysTrue;t&&1===t.nodeType&&(i.push(t),null==n||!n(t));)t=t.parentNode;return i.slice(1).filter(e)}function n(t,e){return m.closest(t,function(t){return m.hasClass(t,e)})}function e(t,e){return!!n(t,e)}function r(t,e){return e.tagName.toLowerCase()===t.toLowerCase()}function o(t){return null==t?"":h.isString(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t}function s(t,e){if(null!=t.classList)t.classList.remove(e);else{var n=t.getAttribute("class").split();t.setAttribute("class",h.without(n,e).join(" "))}}function a(t,e){if(null!=t.classList)t.classList.add(e);else{var n=t.getAttribute("class").split();n.includes(e)||n.push(e),t.setAttribute("class",n.join())}}function l(t,e,n){var i=["<",t];return e&&h.isPlainObject(e)&&h.forOwn(e,function(t,e){i.push(" ",e,'="',o(t),'"')},i),i.push(!0===n||!0===e?" />":">"),i.join("")}var h=y(0),d=y(1),u=(y(15),y(4)),c=y(10),p=y(6).addBodyListener,f=function(t,e,n){t.removeEventListener(e,n)},v=function(t,e){if(null!=t.classList)return t.classList.contains(e);var n=t.getAttribute("class");return null!=n&&n.split(" ").includes(e)},g=h.partialRight(function(t,e,n){return t.classList.add(e),setTimeout(function(){t.classList.remove(e)},n)},"button-tapped",u.MOBILE_ANIMATION_DURATION),m={on:function(t,e,n,i){return t.addEventListener(e,n,!!i),h.partial(f,t,e,n)},off:f,parentNodesOf:i,closest:function(t,e,n){return(e=e||d.alwaysTrue)(t)?t:i(t,e,n)[0]},isNodeOfType:r,isInput:function(t){return r("input",t)||r("textarea",t)},isLink:h.partial(r,"a"),isVideoNode:h.partial(r,"video"),isIconNode:function(t){return v(t,"svg-icon-wrapper")},isSlideObject:function(t){return v(t,"slide-object")},selectAllByRef:function(n,t){[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.querySelectorAll("[data-ref]"))).forEach(function(t){var e=t.classList[0];null!=e&&(n[h.camelCase(e)+"El"]=t)})},setAttributes:function(n,t){return h.forOwn(t,function(t,e){n.setAttribute(e,t)}),n},setStyles:function(n,t){return h.forOwn(t,function(t,e){n.style[e]=t}),n},getScrollRecommendation:function(t,e){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.height>i.height||i.top>n.top?t.scrollTop-(i.top-n.top):i.bottom<n.bottom?t.scrollTop+(n.bottom-i.bottom):-1},resizeToFit:function(t,r,e,o){var s=!!h.isFinite(e)&&r.length>e,a=t.getBoundingClientRect().width,l=a,u=0,c=l/r.length;o=o||0,h(r).map(function(t,e){t.style.width="";var n=t.getBoundingClientRect().width+o;return u+=n,{el:t,width:n}}).sortBy("width").forEach(function(t,e){var n=e+1,i=Math.min(t.width,c);a<u?(t.el.style.width=d.pxify(i-o),c=(l-=i)/(r.length-n)):s&&(t.el.style.width=d.pxify(t.width+(l-u)/r.length))}).value()},hasClass:v,addClass:a,removeClass:s,toggleClasses:function(t,e,n,i){var r=i?[a,s]:[s,a];r[0](t,e),r[1](t,n)},writeNode:l,writeCloseNode:function(t){return l(t).replace("<","</")},tappedClass:g,trigger:function(t,e,n){if(n=n||{ignoreDisabled:!0},null!=t){var i,r,o,s=(i=e,(o=document.createEvent("Event")).initEvent(i,!0,!0),h.defaults(o,r),o);return n.ignoreDisabled&&t.disabled||t.dispatchEvent(s),s}},getParentFrame:function(){try{for(var t,e=window.parent.document.getElementsByTagName("iframe"),n=e.length,i=0;i<n;i++)if((t=e[i]).contentDocument===document)return t}catch(t){}},getParentWithClass:n,isWithin:e,isWithinSlide:function(t){return e(t,"slide")},isWithinShadowDom:function(t){return e(t,"acc-shadow-dom")},mapShadowToModel:function(t){if(null==t)return null;var e=t;if(m.isWithinShadowDom(e)){for(;null!==e&&null==e.dataset.represents;)e=e.parentElement;return null==e?null:c.resolvePath(e.dataset.represents)}return null},xmlEncodeValue:o,updateMousePosition:function(t){null!=t.pageX&&null!=t.pageY&&(m.mouseX=t.pageX,m.mouseY=t.pageY)},mouseX:0,mouseY:0};return p("mousemove",function(t){m.updateMousePosition(t)}),p("touchstart",function(t){t.touches&&0<t.touches.length&&(m.mouseX=t.touches[0].pageX,m.mouseY=t.touches[0].pageY)},!0),m}.call(e,y,e,t))||(t.exports=n)},function(t,e,u){"use strict";var n;void 0===(n=function(t){function e(t,e){return e.state()===t}var n=u(0),o=u(67),s=u(1),i="pending",r="resolved",a="rejected",l={Deferred:function(){return new o},when:function(){var t=s.slice(arguments),e=new o,n=t.length;return t.forEach(function(t){t.then(function(){0==--n&&e.resolve()}).catch(function(){0<=--n&&(e.reject(),n=0)})}),e.promise()},after:function(){function e(t){r.push(t),i.length===r.length&&n.resolve.apply(n,i)}var n=new o,i=s.slice(arguments),r=[];return i.length?i.forEach(function(t){t.always(function(){e(t)})}):n.resolve(),n.promise()},isPending:n.partial(e,i),isResolved:n.partial(e,r),isRejected:n.partial(e,a),promiseToVow:function(t){var e=l.Deferred();return t.then(e.resolve).catch(e.reject),e.promise()}};return l}.call(e,u,e,t))||(t.exports=n)},function(t,e,i){"use strict";var n;void 0===(n=function(t){var r=i(0),n=i(47),e=r.curry(function(t,e,n,i){t([e,"::",n," - ",r.slice(arguments,3).join(" ")].join(""))},4);return{throwFatal:e(function(t){throw new Error(t)}),throwError:e(function(t){var e=n.debugMode?"error":"warn";console[e](t),n.throwError()}),throwErrorSoft:e(function(t){n.debugMode&&console.warn(t)}),warn:e(function(t){console.warn(t)}),backtick:function(t){return["`",t,"`"].join("")}}}.call(e,i,e,t))||(t.exports=n)},function(t,e,k){"use strict";var n;void 0===(n=function(t){function e(t){return i.test(t)}var a=k(0),n=k(9),r=k(4),i=/^RAND/,o={};o.string=o.object=o.boolean=function(t){return t},o.num=o.number=function(t){return e(t)?t:parseFloat(t)},o.var=o.variable=function(t,e){var n=a.identity,i=this.resolvePath(t,e,{optional:!0});return null!=i&&("number"===i.type()&&(n=parseFloat),i=n(i.value())),i},o.property=function(t,e){return this.resolvePath(t,e,{optional:!0})},o.drawid=function(t,e){return this.resolvePath(t,e,{optional:!0})},o.param=function(t,e,n){return this.getRef(n.params[t],e,n)},o.valueref=function(t,e,n){return this.getRef(a.findWhere(n.iterables,{name:t}),e,n)},o.actparam=function(t,e,n){return n[t]},o.default=function(t,e){return this.getRef(t,e)};function l(t){return t.replace(y,"")}function u(t){return m.test(t)}function s(t){return t.split(r.PATH_DELIMITER)}function c(r,o){var s;return a.find(r.resolveables,function(t){var e,n,i=r.get(t);return!!i&&(!(s=i.isCollection?i.get(o):i.id===o?i:i[o])&&(e=t,n=r,a.has(n.resolvers,e))&&(s=r.resolvers[t].call(r,o,i)),s)},r),s}function h(t,e){var n,i,r="$"===e?b:A;return i=e+(n=t.replace(r,"").split(".")).pop(),n.push(i),n.join(".")}var d,p=n.throwError("resolver"),f=p("resolvePath"),v=p("getRef"),g=p("findReference"),m=/\$/,y=/\#/,b=/\$/g,A=/\#/g,w=/^\$/,S=/^\#/,E=new RegExp("^"+r.refs.PLAYER),T=function(t){return t.replace(m,"")},x=a.partialRight(h,"$"),_=a.partialRight(h,"#"),C={initialize:function(){d=DS.presentation},getPresentationContext:function(){return DS.presentation},getSlideBankSlideInstance:function(e){var n=null;return d.scenes().some(function(t){return t.slidedraws().some(function(t){return t.slides().some(function(t){return t.id===e&&(n=t),null!=n}),null!=n}),null!=n}),n},resolvePath:function(t,e,n){var i,r;if(t)return null==d&&null!=DS.presentation&&this.initialize(DS.presentation),r=t,S.test(r)&&-1!==r.indexOf(".")?t=_(t):(i=t,w.test(i)&&-1!==i.indexOf(".")&&(t=x(t))),n=n||{},e&&a.isPlainObject(e)&&(n=e,e=void 0),this.resolvePathArray(s(t),e,n);f("Must provide a path to resolve")},resolvePathArray:function(n,t,e){var i=n.shift();switch(i){case r.refs.PLAYER:t=d;break;case r.refs.PLAYER_VARS:t=d.playerVars();break;case r.refs.PARENT:t=t.getClosestParentRef();break;case r.refs.CHILDREN:t=t.getChildren();break;case r.refs.SELF:t=t.getClosestThisRef();break;case r.refs.CURRENT_SLIDE:t=this.resolvePath(d.prop("CurrentSlideId"),d);break;default:t=C.findReference(i,t)}return null==t?e.optional?void 0:void f("Path did not resolve at:",i):n.length?a.isArray(t)?a(t).map(function(t){var e=n.slice();return C.resolvePathArray(e,t,{optional:!0})}).compact().value():C.resolvePathArray(n,t,e):t},findReference:function(t,e){if(t){var n,i,r,o,s;if(e)return e.isCollection&&e.get(t)?e.get(t):u(t)?e.prop(T(t)):(r=t,y.test(r)?(i=l(t),e.getVariableProp&&(n=e.getVariableProp(i))?n.value():e.variables().get(l(t))):e.isModel||null==e[t]?c(e,t)||(e.id===t?e:(s=t,(o=e).prop&&o.hasOwnPlayerProp(T(s))?e.prop(t):void 0)):e[t]);g("Context must be defined.")}else g("Cannot find a reference with no ID")},getRef:function(t,e,n){if(t){if(t.type)return(o[t.type]||o.default).call(this,t.value,e,n);v("Type is undefined for the provided reference")}else v("No reference passed in")}};return C.normalizePropRef=T,C.isPropRef=u,C.splitPath=s,C.joinPath=function(t){return t.join(r.PATH_DELIMITER)},C.isRelativePath=function(t){return!E.test(t)},C.isRandomToken=e,C.resolveAbsolutePathWithFilter=function(t,e){var n,i;return t=t.split("."),n=a.first(t.splice(0,1)),t.some(function(t){return n+="."+t,i=C.resolvePath(n),e(i)})?i:null},C}.call(e,k,e,t))||(t.exports=n)},function(t,e,n){var i,r,o;i=this,r=function(t,a,S,e){var n=t.Backbone,i=[],r=i.slice;a.VERSION="1.1.2",a.$=e,a.noConflict=function(){return t.Backbone=n,this},a.emulateHTTP=!1,a.emulateJSON=!1;var o=a.Events={on:function(t,e,n){return h(this,"on",t,[e,n])&&e&&(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this})),this},once:function(t,e,n){if(!h(this,"once",t,[e,n])||!e)return this;var i=this,r=S.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n)},off:function(t,e,n){var i,r,o,s,a,l,u,c;if(!this._events||!h(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events=void 0,this;for(a=0,l=(s=t?[t]:S.keys(this._events)).length;a<l;a++)if(t=s[a],o=this._events[t]){if(this._events[t]=i=[],e||n)for(u=0,c=o.length;u<c;u++)r=o[u],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!h(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&s(n,e),i&&s(i,arguments),this},stopListening:function(t,e,n){var i=this._listeningTo;if(!i)return this;var r=!e&&!n;for(var o in n||"object"!=typeof e||(n=this),t&&((i={})[t._listenId]=t),i)(t=i[o]).off(e,n,this),(r||S.isEmpty(t._events))&&delete this._listeningTo[o];return this}},l=/\s+/,h=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},s=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};S.each({listenTo:"on",listenToOnce:"once"},function(r,t){o[t]=function(t,e,n){var i=this._listeningTo||(this._listeningTo={});return n||"object"!=typeof e||(n=this),(i[t._listenId||(t._listenId=S.uniqueId("l"))]=t)[r](e,n,this),this}}),o.bind=o.on,o.unbind=o.off,S.extend(a,o);var E=a.Model=function(t,e){var n=t||{};e=e||{},this.cid=S.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=S.defaults({},n,S.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};S.extend(E.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return S.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return S.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,o,s,a,l,u,c;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n=n||{},!this._validate(r,n))return!1;for(i in o=n.unset,a=n.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=S.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]),r)e=r[i],S.isEqual(c[i],e)||s.push(i),S.isEqual(u[i],e)?delete this.changed[i]:this.changed[i]=e,o?delete c[i]:c[i]=e;if(!a){s.length&&(this._pending=n);for(var h=0,d=s.length;h<d;h++)this.trigger("change:"+s[h],this,c[s[h]],n)}if(l)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,S.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,S.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!S.isEmpty(this.changed):S.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&S.clone(this.changed);var e,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in t)S.isEqual(i[r],e=t[r])||((n=n||{})[r]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return S.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?S.clone(e):{}).parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t){if(!n.set(n.parse(t,e),e))return!1;i&&i(n,t,e),n.trigger("sync",n,t,e)},R(this,e),this.sync("read",this,e)},save:function(t,e,n){var i,r,o,s=this.attributes;if(null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,n=S.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=S.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var a=this,l=n.success;return n.success=function(t){a.attributes=s;var e=a.parse(t,n);if(n.wait&&(e=S.extend(i||{},e)),S.isObject(e)&&!a.set(e,n))return!1;l&&l(a,t,n),a.trigger("sync",a,t,n)},R(this,n),"patch"==(r=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=i),o=this.sync(r,this,n),i&&n.wait&&(this.attributes=s),o},destroy:function(e){e=e?S.clone(e):{};function n(){i.trigger("destroy",i,i.collection,e)}var i=this,r=e.success;if(e.success=function(t){(e.wait||i.isNew())&&n(),r&&r(i,t,e),i.isNew()||i.trigger("sync",i,t,e)},this.isNew())return e.success(),!1;R(this,e);var t=this.sync("delete",this,e);return e.wait||n(),t},url:function(){var t=S.result(this,"urlRoot")||S.result(this.collection,"url")||P();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},S.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=S.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,S.extend(e,{validationError:n})),!1)}});S.each(["keys","values","pairs","invert","pick","omit"],function(e){E.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.attributes),S[e].apply(S,t)}});var u=a.Collection=function(t,e){(e=e||{}).model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,S.extend({silent:!0},e))},T={add:!0,remove:!0,merge:!0},c={add:!0,remove:!1};S.extend(u.prototype,o,{model:E,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return a.sync.apply(this,arguments)},add:function(t,e){return this.set(t,S.extend({merge:!1},e,c))},remove:function(t,e){var n,i,r,o,s=!S.isArray(t);for(e=e||{},n=0,i=(t=s?[t]:S.clone(t)).length;n<i;n++)(o=t[n]=this.get(t[n]))&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o,e));return s?t[0]:t},set:function(t,e){(e=S.defaults({},e,T)).parse&&(t=this.parse(t,e));var n,i,r,o,s,a,l,u=!S.isArray(t);t=u?t?[t]:[]:S.clone(t);var c=e.at,h=this.model,d=this.comparator&&null==c&&!1!==e.sort,p=S.isString(this.comparator)?this.comparator:null,f=[],v=[],g={},m=e.add,y=e.merge,b=e.remove,A=!(d||!m||!b)&&[];for(n=0,i=t.length;n<i;n++){if(r=(s=t[n]||{})instanceof E?o=s:s[h.prototype.idAttribute||"id"],a=this.get(r))b&&(g[a.cid]=!0),y&&(s=s===o?o.attributes:s,e.parse&&(s=a.parse(s,e)),a.set(s,e),d&&!l&&a.hasChanged(p)&&(l=!0)),t[n]=a;else if(m){if(!(o=t[n]=this._prepareModel(s,e)))continue;f.push(o),this._addReference(o,e)}o=a||o,!A||!o.isNew()&&g[o.id]||A.push(o),g[o.id]=!0}if(b){for(n=0,i=this.length;n<i;++n)g[(o=this.models[n]).cid]||v.push(o);v.length&&this.remove(v,e)}if(f.length||A&&A.length)if(d&&(l=!0),this.length+=f.length,null!=c)for(n=0,i=f.length;n<i;n++)this.models.splice(c+n,0,f[n]);else{A&&(this.models.length=0);var w=A||f;for(n=0,i=w.length;n<i;n++)this.models.push(w[n])}if(l&&this.sort({silent:!0}),!e.silent){for(n=0,i=f.length;n<i;n++)(o=f[n]).trigger("add",o,this,e);(l||A&&A.length)&&this.trigger("sort",this,e)}return u?t[0]:t},reset:function(t,e){e=e||{};for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,S.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,S.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,S.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(n,t){return S.isEmpty(n)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var e in n)if(n[e]!==t.get(e))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t=t||{},S.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(S.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return S.invoke(this.models,"get",t)},fetch:function(n){void 0===(n=n?S.clone(n):{}).parse&&(n.parse=!0);var i=n.success,r=this;return n.success=function(t){var e=n.reset?"reset":"set";r[e](t,n),i&&i(r,t,n),r.trigger("sync",r,t,n)},R(this,n),this.sync("read",this,n)},create:function(t,n){if(n=n?S.clone(n):{},!(t=this._prepareModel(t,n)))return!1;n.wait||this.add(t,n);var i=this,r=n.success;return n.success=function(t,e){n.wait&&i.add(t,n),r&&r(t,e,n)},t.save(null,n),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof E)return t;var n=new(((e=e?S.clone(e):{}).collection=this).model)(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_addReference:function(t,e){null!=(this._byId[t.cid]=t).id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});S.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],function(e){u.prototype[e]=function(){var t=r.call(arguments);return t.unshift(this.models),S[e].apply(S,t)}});S.each(["groupBy","countBy","sortBy","indexBy"],function(i){u.prototype[i]=function(e,t){var n=S.isFunction(e)?e:function(t){return t.get(e)};return S[i](this.models,n,t)}});var d=a.View=function(t){this.cid=S.uniqueId("view"),t=t||{},S.extend(this,S.pick(t,f)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},p=/^(\S+)\s*(.*)$/,f=["model","collection","el","id","attributes","className","tagName","events"];S.extend(d.prototype,o,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof a.$?t:a.$(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(t){if(!(t=t||S.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(S.isFunction(n)||(n=this[t[e]]),n){var i=e.match(p),r=i[1],o=i[2];n=S.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n):this.$el.on(r,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(S.result(this,"el"),!1);else{var t=S.extend({},S.result(this,"attributes"));this.id&&(t.id=S.result(this,"id")),this.className&&(t.class=S.result(this,"className"));var e=a.$("<"+S.result(this,"tagName")+">").attr(t);this.setElement(e,!1)}}}),a.sync=function(t,e,n){var i=g[t];S.defaults(n=n||{},{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var r={type:i,dataType:"json"};if(n.url||(r.url=S.result(e,"url")||P()),null!=n.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(n.attrs||e.toJSON(n))),n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),n.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){r.type="POST",n.emulateJSON&&(r.data._method=i);var o=n.beforeSend;n.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",i),o)return o.apply(this,arguments)}}"GET"===r.type||n.emulateJSON||(r.processData=!1),"PATCH"===r.type&&v&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var s=n.xhr=a.ajax(S.extend(r,n));return e.trigger("request",e,s,n),s};var v=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),g={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var m=a.Router=function(t){(t=t||{}).routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},y=/\((.*?)\)/g,b=/(\(\?)?:\w+/g,A=/\*\w+/g,w=/[\-{}\[\]+?.,\\\^$|#\s]/g;S.extend(m.prototype,o,{initialize:function(){},route:function(n,i,r){S.isRegExp(n)||(n=this._routeToRegExp(n)),S.isFunction(i)&&(r=i,i=""),r=r||this[i];var o=this;return a.history.route(n,function(t){var e=o._extractParameters(n,t);o.execute(r,e),o.trigger.apply(o,["route:"+i].concat(e)),o.trigger("route",i,e),a.history.trigger("route",o,i,e)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,e){return a.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=S.result(this,"routes");for(var t,e=S.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(w,"\\$&").replace(y,"(?:$1)?").replace(b,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return S.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var x=a.History=function(){this.handlers=[],S.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,C=/^\/+|\/+$/g,k=/msie [\w.]+/,M=/\/$/,O=/#.*$/;x.started=!1,S.extend(x.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(_,"")},start:function(t){if(x.started)throw new Error("Backbone.history has already been started");x.started=!0,this.options=S.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment(),n=document.documentMode,i=k.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);if(this.root=("/"+this.root+"/").replace(C,"/"),i&&this._wantsHashChange){var r=a.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=r.hide().appendTo("body")[0].contentWindow,this.navigate(e)}this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&o.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),x.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),S.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(t,e){if(!x.started)return!1;e&&!0!==e||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(O,""),this.fragment!==t){if(""===(this.fragment=t)&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),a.history=new x;E.extend=u.extend=m.extend=d.extend=x.extend=function(t,e){var n,i=this;n=t&&S.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},S.extend(n,i,e);function r(){this.constructor=n}return r.prototype=i.prototype,n.prototype=new r,t&&S.extend(n.prototype,t),n.__super__=i.prototype,n};var P=function(){throw new Error('A "url" property or function must be specified')},R=function(e,n){var i=n.error;n.error=function(t){i&&i(e,t,n),e.trigger("error",e,t,n)}};return a},o=n(0),r(i,e,o)},function(t,e,n){"use strict";var i;void 0===(i=function(t){n(17);return n(31),n(32),TweenLite.defaultOverwrite=!1,TweenLite}.call(e,n,e,t))||(t.exports=i)},function(t,e,a){"use strict";var n;void 0===(n=function(t){var e,n=a(0),i=a(4),r=a(3),o=a(8),s=a(2);return new(a(35).extend({accessibleTextVar:null,shorthand:["currentLayout","currentVolume","accessibleTextOn"],subscriptions:((e={})[r.app.COMPLETE]="onAppComplete",e[r.controlLayout.CHANGED]="onLayoutChanged",e),initialize:function(){n.bindAll(this,"setAccessibleTextFromVar"),this.appCompleteDfd=new o.Deferred,this.setVolume(i.DEFAULT_VOLUME)},connectVariables:function(t){if(null!=t){this.accessibleTextVar=t;var e=this.accessibleTextVar.value();this.accessibleTextOn(e),this.accessibleTextVar.on("change:value",this.setAccessibleTextFromVar),e&&this.onToggleAccessibleText(e)}},setAccessibleTextFromVar:function(t){this.onToggleAccessibleText(t.value())},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(n.toArray(arguments).reduce(function(t,e){return t[e]=null,t},{})),this},onLayoutChanged:function(t,e){this.currentLayout(t),this.trigger(r.layout.CHANGED,this,t,e)},setVolume:function(t){this.volumeToggle=!1,this.currentVolume(t),s.trigger(r.volume.CHANGED,t)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle;var t=this.volumeToggle?0:this.lastVolume;this.currentVolume(t),s.trigger(r.volume.CHANGED,t)},onToggleAccessibleText:function(t){var e=null==t?!this.accessibleTextOn():t;this.accessibleTextOn(e),null!=this.accessibleTextVar&&this.accessibleTextVar.value()!==e?this.accessibleTextVar.changeValue(e):this.trigger(DS.events.player.ACCESSIBLE_TEXT_CHANGED,e)}}))}.call(e,a,e,t))||(t.exports=n)},function(t,e,c){"use strict";var n;void 0===(n=function(t){function g(t){return null!=t&&t.includes("MessageWnd")}function l(t){return null!=t&&t.includes("Lightbox")}var m,e,o=c(0),y=c(1),u=c(4),n=c(11),b=c(50),a=c(25),i=c(24),A=c(3),w=c(2),r=c(13),S=c(55),E=c(9),T=E.warn("windowManager"),x="_current",s=o.extend({subscriptions:((e={})[A.window.CLOSING]="onCloseWindowById",e[A.request.NEXT_SLIDE]="onRequestingNextSlide",e[A.request.PREV_SLIDE]="onRequestingPrevSlide",e[A.request.NEXT_DRAW_SLIDE]="onRequestingNextDrawSlide",e[A.request.PREV_HISTORY_GROUP]="onRequestingPrevHistoryGroup",e[A.window.STACKING_CHANGED]="onTopMostWindowChanged",e),initialize:function(){m=DS.presentation.display(),this.addSubscriptions(),this.windows=[],this.windows.push(this.getOrCreateWindow(u.refs.FRAME)),b.setWindowManager(this),w.trigger(A.window.MAIN_CREATED,this.getMainWindow())},getCurrentWindow:function(){return o.last(this.windows)},getCurrentWindowId:function(){return s.getCurrentWindow().getId()},getMainWindow:function(){return o.first(this.windows)},getCurrentWindowSlide:function(){var t=this.getCurrentWindow();return t&&t.state.currentSlide},removeWindow:function(t){return this.windows=o.without(this.windows,t),this},removeAllButMainWindow:function(){this.windows.forEach(function(t){var e=t.getId();e!==u.refs.FRAME&&w.trigger(A.window.CLOSING,e)})},addWindow:function(t){return this.removeWindow(t),this.windows.push(t),this},getOrCreateWindow:function(t){var e=this.getCurrentWindow();t=t===x?e.getId():t;var n=this.findWindowById(t);if(n)return n!==e&&n.frame.moveToTop(),n;if(e){var i=e.getCurrentSlide();i&&i.onPauseTimeline()}var r,o=DS.frame.createWindow(t),s={id:t,model:m.getWindowById(t),isMainWindow:t===u.refs.FRAME,lightboxed:l(t),hasControls:null!=(r=t)&&r.includes("Controls"),onPinchZoom:o.onPinchZoom,getPinchZoomBounds:o.getPinchZoomBounds,getWinScale:o.getWinScale},a=DS.renderEngine.createWindowFor(o.el,g(t),s,o.captionEl);return a.frame=o,a},findWindowById:function(e){return e===x||null==e?this.getCurrentWindow():this.windows.find(function(t){return t.getId()===e})},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveSlideToOtherWindow:function(n,t){var i=t.props.model.windowId;n.replaceSlideWith(t);var r=function(t){var e=this.findWindowById(i);t===n&&(null!=e&&e.rebuildCurSlide(),w.off(A.window.CLOSED,r))}.bind(this);return w.on(A.window.CLOSED,r),this},isMultiWindowSlide:function(e){return o.initial(this.windows).some(function(t){return(t.getCurrentSlide()||{}).absoluteId===e.absoluteId})},onMainWindowCreated:function(t){this.addWindow(t),b.setWindowManager(this)},onCloseWindowById:function(t){var e,n,i=this.findWindowById(t);i&&(i.el&&(e=i.el.parentNode)&&(e.classList.remove("opaque"),DS.renderEngine.closeWindow(e,i.frame.captionEl),i.frame.close()),this.removeWindow(i),w.trigger(A.window.CLOSED,i),null!=(n=this.getCurrentWindowSlide())&&(n.onPlayTimeline(),w.trigger(A.slide.STARTED,n.absoluteId,n,this.getCurrentWindowId())),this.updatePrevHistoryVar(),b.savePresentationData())},onTopMostWindowChanged:function(t){this.topMostWindow=t,this.trigger(A.windowManager.TOP_MOST_CHANGED)},getTopMostWindowId:function(){return this.topMostWindow},loadSlide:function(t,e,n){var i=o.isString(t)?t:t.absoluteId,r=S.loadSlide(t,this.getCurrentWindowSlide());return r.then(e.bind(this)),w.trigger(A.slide.HAS_CHANGED,y.stripPlayer(i),n),r},onRequestingPrevSlide:function(){var t=this.getCurrentWindow().getPrevSlide();null!=t&&this.onRequestingSlide(t.absoluteId,null,"pop")},onRequestingPrevHistoryGroup:function(){var t=this.getCurrentWindow().getPrevHistoryGroup();null!=t&&this.onRequestingSlide(t.absoluteId,null,"popGroup")},onRequestingNextDrawSlide:function(){var t,e=this.getCurrentWindowSlide(),n=e.getSlideDraw();n&&((t=n.getNextSlideId(e))?this.onRequestingNextSlide(t):n.performExitAction())},onRequestingNextSlide:function(t,e){var n=this.getCurrentWindowSlide();n||(t=t||S.getEntrypoint()),t?this.onRequestingSlide(t,e,"push"):n.executePlayerEvent("onnextslide")},isNewLightBox:function(t,e){return null!=t&&!(g(t)||!l(t)||t===e.displayName)},onRequestingSlide:function(t,e,n){var i,r,o,s,a,l,u,c,h,d=this,p=this.getCurrentWindowSlide(),f=this.getCurrentWindow(),v=this.isNewLightBox(e,f);if(null!=f&&f.forceTransition(),null==(s=S.getSlide(t,this.getCurrentWindowSlide()))){if(m.parent.isPreview())return void w.trigger(A.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");T("onRequestingSlide","could not resolve slide",E.backtick(t),"so defaulting to entry point"),s=S.getSlide(S.getEntrypoint())}if((o=null!=p&&p.absoluteId===s.absoluteId||y.getPath(this.findWindowById(e),"getCurrentSlide")===s)&&!v)s.restart();else{if(null!=p&&(a=p,l=s,u=v||g(e),h={_ActTargetSlideId:l.absoluteId,_ActTargetSlideNavIndex:DS.utils.getPath(l,"navIndex")},a.executePlayerEvent("onbeforeslidejump",h),(c=!h.cancel)&&w.trigger(A.slide.WILL_CHANGE,a,l,u),!c))return;if(null!=p&&!p.slideReady)return this.findWindowById(e)===this.getCurrentWindow()&&(p.destroyed=!0),void w.once(A.slide.READY,function(){d.onRequestingSlide(t,e,n)});i=this.getOrCreateWindow(e||x,s),this.addWindow(i),r=this.loadSlide(s,function(t){d.updateWindowHistory(i,"push"===n?t:null,"popGroup"===n)}),o&&v&&w.trigger(A.loader.HIDE),i.setSlideLoading(r),null!=p&&i!==f&&r.then(function(){b.savePresentationData()})}},updateWindowHistory:function(t,e,n){var i,r=!!e;i=null!=(e=e||t[n?"getPrevHistoryGroup":"getPrevSlide"]())&&this.isMultiWindowSlide(e)&&null!==e.currView,t.prepareToUpdateSlide(i),r?t.pushHistory(e):t[n?"popHistoryGroup":"popHistory"](),this.updatePrevHistoryVar(),i&&(e.onPlayTimeline(),this.moveSlideToOtherWindow(t,e.currView))},updatePrevHistoryVar:function(){DS.presentation.playerVars().variables().get("hasPrevHistory").value(null!=this.getCurrentWindow().getPrevSlide())},getResumeData:function(){return this.windows.reduce(function(t,e){return t+a.create(e.getResumeData())},"")},setResumeData:function(t){var e=new a({fullString:t}),n=e.encodedString();for(this.resumeWindowQueue=[];n.length;)this.setWindowAndHistory(n),n=(e=e.reChunk()).encodedString()},setWindowAndHistory:function(t){var e=new a({fullString:t}),n=e.getUnsignedValue(),i=this.resolveSlideFromResumeData(e.remainder()),r=new a({fullString:i.data}),o=this.createSlideHistoryArray(r.encodedString());0===o.length&&o.push(i.slide),this.restoreOrQueueWindow(n,o)},restoreOrQueueWindow:function(t,e){this.restoringWindow?this.resumeWindowQueue.push({idx:t,history:e}):(this.restoringWindow=!0,this.setLoadedWindow(t,e))},setLoadedWindow:function(t,n){var i=this.getWindowFromIndex(t,n),e=n.pop(),r=this.loadSlide(e.absoluteId,function(t){var e;i.setPreviousHistory(n),this.updateWindowHistory(i,t),this.restoringWindow=0<this.resumeWindowQueue.length,this.restoringWindow&&(t.pauseForResume=!0,e=this.resumeWindowQueue.shift(),this.setLoadedWindow(e.idx,e.history))});i.setSlideLoading(r)},getWindowFromIndex:function(t){var e,n;return 0===t?e=this.getMainWindow():(n=m.windows().at(t-1).id,e=this.getOrCreateWindow(n),this.addWindow(e)),e},createSlideHistoryArray:function(t){for(var e,n=[];t.length;)e=this.resolveSlideFromResumeData(t),n.push(e.slide),t=e.data;return n},resolveSlideFromResumeData:function(t){return this["1"===t.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData"](t.slice(1))},getSlideFromResumeData:function(t){var e=new a({fullString:t}),n=e.reChunk(),i=e.getUnsignedValue(),r=n.getUnsignedValue();return{slide:S.getSlideFromIndices(r,i),data:n.remainder()}},getDrawFromResumeData:function(t){var e=new a({fullString:t}),n=e.reChunk(),i=n.reChunk(),r=e.getUnsignedValue(),o=n.getUnsignedValue(),s=i.getUnsignedValue();return{slide:S.getDrawFromIndices(s,o,r),data:i.remainder()}}},n.Events,i);return r.windowManager=s}.call(e,c,e,t))||(t.exports=n)},function(t,e,u){"use strict";var n;void 0===(n=function(t){var e=u(0),n=u(6).addWindowListener,o=u(52),s=u(1),i=u(5),r=u(3),a=u(2),l={scaleValue:1,zoomMode:!1,zoomVar:null,enableZoomMode:function(t){this.zoomMode=t,null!=this.zoomVar&&this.zoomVar.value()!==t?this.zoomVar.changeValue(t):a.trigger(r.window.ZOOM_MODE_CHANGED)},setZoomModeVariable:function(t){this.enableZoomMode(t.value())},initialize:function(){e.bindAll(this,"scale","sendWindowScale","setZoomModeVariable"),this.isShowAll()&&!i.deviceView.isClassicMobile?this.startScaling():n("resize",this.sendWindowScale)},connectVariables:function(t){if(null!=t){this.zoomVar=t;var e=this.zoomVar.value();e&&this.enableZoomMode(e),this.zoomVar.on("change:value",this.setZoomModeVariable)}},isShowAll:function(){return"show all"===window.globals.scale},sendWindowScale:function(){a.trigger(r.window.SCALE),a.trigger(r.window.AFTER_SCALE)},setWindowScale:function(t){this.windowScale=t},getWindowScale:function(){return this.windowScale},startScaling:function(){this.scale(),n("resize",this.scale)},getScaledFontSize:function(){return o.player.getFontScale()*this.getScale()},queueScale:function(){this.pending||(this.pending=!0,window.requestAnimationFrame(this.scale))},scale:function(){this.scaleValue=this.calcScale(),this.sendWindowScale(),this.pending=!1},calcScale:function(){var t=this.getWindowDimensions(),e=t.height,n=t.width,i=e/o.presentation.display().height(),r=n/o.presentation.display().width();return s.fix(Math.min(i,r),5)},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}};return s.scaleVal=function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=t*l.getScale();return e?Math.round(n):n},l}.call(e,u,e,t))||(t.exports=n)},function(t,e,a){"use strict";var n;void 0===(n=function(t){var e=void 0,n=void 0,i=void 0,r=void 0,o=void 0,s=void 0;return s=a(5).device.isMobile?(i=n="touchstart",r="touchmove",o=e="touchend"):(e="click",n="mousedown",i="mouseenter",r="mousemove",o="mouseup","mouseleave"),Object.freeze({clickOrTouchEnd:e,downOrTouchStart:n,enterOrTouchStart:i,moveOrTouchMove:r,upOrTouchEnd:o,leaveOrTouchEnd:s})}.call(e,a,e,t))||(t.exports=n)},function(t,e,n){
/*!
 * GSAP 3.6.1
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return"string"==typeof t}function T(t){return"function"==typeof t}function C(t){return"number"==typeof t}function o(t){return void 0===t}function k(t){return"object"==typeof t}function D(t){return!1!==t}function e(){return"undefined"!=typeof window}function M(t){return T(t)||E(t)}function i(t){return(At=ve(t,se))&&fn}function x(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function O(t,e){return!e&&console.warn(t)}function a(t,e){return t&&(se[t]=e)&&At&&(At[t]=e)||se}function P(){return 0}function N(t){var e,n,i=t[0];if(k(i)||T(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=pe.length;n--&&!pe[n].targetTest(i););e=pe[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new He(t[n],e)))||t.splice(n,1);return t}function H(t){return t._gsap||N(Ae(t))[0]._gsap}function s(t,e,n){return(n=t[e])&&T(n)?t[e]():o(n)&&t.getAttribute&&t.getAttribute(e)||n}function v(t,e){return(t=t.split(",")).forEach(e)||t}function j(t){return Math.round(1e5*t)/1e5||0}function l(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n}function u(t,e,n){var i,r=C(t[1]),o=(r?2:1)+(e<2?0:1),s=t[o];if(r&&(s.duration=t[1]),s.parent=n,e){for(i=s;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=D(n.vars.inherit)&&n.parent;s.immediateRender=D(i.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return s}function V(){var t,e,n=le.length,i=le.slice(0);for(ue={},t=le.length=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function r(t,e,n,i){le.length&&V(),t.render(e,n,i),le.length&&V()}function c(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(re).length<2?e:E(t)?t.trim():t}function h(t){return t}function F(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}function d(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])}function p(t,e){for(var n in e)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=k(e[n])?p(t[n]||(t[n]={}),e[n]):e[n]);return t}function B(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i}function R(t){var e=t.parent||gt,n=t.keyframes?d:F;if(D(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t}function g(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,o=e._next;r?r._next=o:t[n]===e&&(t[n]=o),o?o._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null}function U(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function f(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t}function m(t){return t._repeat?ge(t._tTime,t=t.duration()+t._rDelay)*t:0}function y(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function I(t){return t._end=j(t._start+(t._tDur/Math.abs(t._ts||t._rts||zt)||0))}function b(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=j(n._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),I(t),n._dirty||f(n,t)),t}function L(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=y(t.rawTime(),e),(!e._dur||ye(0,e.totalDuration(),n)-e._tTime>zt)&&e.render(n,!0)),f(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;t._zTime=-zt}}function A(t,e,n,i){return e.parent&&U(e),e._start=j(n+e._delay),e._end=j(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function t(e,n,i,r,o){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s,a=e[r];if(o)for(s=n[o];a&&a[o]>s;)a=a._prev;a?(n._next=a._next,a._next=n):(n._next=e[i],e[i]=n),n._next?n._next._prev=n:e[r]=n,n._prev=a,n.parent=n._dp=e}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||L(t,e),t}function W(t,e){return(se.ScrollTrigger||x("scrollTrigger",e))&&se.ScrollTrigger.create(e,t)}function w(t,e,n,i){return ze(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&St!==Ce.frame?(le.push(t),t._lazy=[e,i],1):void 0:1}function S(t,e,n,i){var r=t._repeat,o=j(e)||0,s=t._tTime/t._tDur;return s&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:j(o*(r+1)+t._rDelay*r):o,s&&!i?b(t,t._tTime=t._tDur*s):t.parent&&I(t),n||f(t.parent,t),t}function z(t){return t instanceof je?f(t):S(t,t._dur)}function G(t,e){var n,i,r=t.labels,o=t._recent||me,s=t.duration()>=Wt?o.endTime(!1):t._dur;return E(e)&&(isNaN(e)||e in r)?"<"===(n=e.charAt(0))||">"===n?("<"===n?o._start:o.endTime(0<=o._repeat))+(parseFloat(e.substr(1))||0):(n=e.indexOf("="))<0?(e in r||(r[e]=s),r[e]):(i=+(e.charAt(n-1)+e.substr(n+1)),1<n?G(t,e.substr(0,n-1))+i:s+i):null==e?s:+e}function q(t,e){return t||0===t?e(t):e}function Y(t){if("string"!=typeof t)return"";var e=oe.exec(t);return e?t.substr(e.index+e[0].length):""}function X(t,e){return t&&k(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&k(t[0]))&&!t.nodeType&&t!==mt}function J(t){return t.sort(function(){return.5-Math.random()})}function K(t){if(T(t))return t;var f=k(t)?t:{each:t},v=Ie(f.ease),g=f.from||0,m=parseFloat(f.base)||0,y={},e=0<g&&g<1,b=isNaN(g)||e,A=f.axis,w=g,S=g;return E(g)?w=S={center:.5,edges:.5,end:1}[g]||0:!e&&b&&(w=g[0],S=g[1]),function(t,e,n){var i,r,o,s,a,l,u,c,h,d=(n||f).length,p=y[d];if(!p){if(!(h="auto"===f.grid?0:(f.grid||[1,Wt])[1])){for(u=-Wt;u<(u=n[h++].getBoundingClientRect().left)&&h<d;);h--}for(p=y[d]=[],i=b?Math.min(h,d)*w-.5:g%h,r=b?d*S/h-.5:g/h|0,c=Wt,l=u=0;l<d;l++)o=l%h-i,s=r-(l/h|0),p[l]=a=A?Math.abs("y"===A?s:o):Xt(o*o+s*s),u<a&&(u=a),a<c&&(c=a);"random"===g&&J(p),p.max=u-c,p.min=c,p.v=d=(parseFloat(f.amount)||parseFloat(f.each)*(d<h?d-1:A?"y"===A?d/h:h:Math.max(h,d/h))||0)*("edges"===g?-1:1),p.b=d<0?m-d:m,p.u=Y(f.amount||f.each)||0,v=v&&d<0?Re(v):v}return d=(p[t]-p.min)/p.max||0,j(p.b+(v?v(d):d)*p.v)+p.u}}function $(n){var i=n<1?Math.pow(10,(n+"").length-2):1;return function(t){var e=Math.round(parseFloat(t)/n)*n*i;return(e-e%1)/i+(C(t)?0:Y(t))}}function Q(l,t){var u,c,e=Qt(l);return!e&&k(l)&&(u=e=l.radius||Wt,l.values?(l=Ae(l.values),(c=!C(l[0]))&&(u*=u)):l=$(l.increment)),q(t,e?T(l)?function(t){return c=l(t),Math.abs(c-t)<=u?c:t}:function(t){for(var e,n,i=parseFloat(c?t.x:t),r=parseFloat(c?t.y:0),o=Wt,s=0,a=l.length;a--;)(e=c?(e=l[a].x-i)*e+(n=l[a].y-r)*n:Math.abs(l[a]-i))<o&&(o=e,s=a);return s=!u||o<=u?l[s]:t,c||s===t||C(t)?s:s+Y(t)}:$(l))}function Z(t,e,n,i){return q(Qt(t)?!e:!0===n?!!(n=0):!i,function(){return Qt(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i})}function tt(e,n,t){return q(t,function(t){return e[~~n(t)]})}function et(t){for(var e,n,i,r,o=0,s="";~(e=t.indexOf("random(",o));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?re:Zt),s+=t.substr(o,e-o)+Z(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),o=i+1;return s+t.substr(o,t.length-o)}function nt(t,e,n){var i,r,o,s=t.labels,a=Wt;for(i in s)(r=s[i]-e)<0==!!n&&r&&a>(r=Math.abs(r))&&(o=i,a=r);return o}function it(t){return U(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&Se(t,"onInterrupt"),t}function rt(t,e,n){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Ee+.5|0}function ot(t,e,n){var i,r,o,s,a,l,u,c,h,d,p=t?C(t)?[t>>16,t>>8&Ee,t&Ee]:0:Te.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Te[t])p=Te[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(i=t.charAt(1))+i+(r=t.charAt(2))+r+(o=t.charAt(3))+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&Ee,p&Ee,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ee,t&Ee]}else if("hsl"===t.substr(0,3))if(p=d=t.match(Zt),e){if(~t.indexOf("="))return p=t.match(te),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=p[1]/100,i=2*(l=p[2]/100)-(r=l<=.5?l*(a+1):l+a-l*a),3<p.length&&(p[3]*=1),p[0]=rt(s+1/3,i,r),p[1]=rt(s,i,r),p[2]=rt(s-1/3,i,r);else p=t.match(Zt)||Te.transparent;p=p.map(Number)}return e&&!d&&(i=p[0]/Ee,r=p[1]/Ee,o=p[2]/Ee,l=((u=Math.max(i,r,o))+(c=Math.min(i,r,o)))/2,u===c?s=a=0:(h=u-c,a=.5<l?h/(2-u-c):h/(u+c),s=u===i?(r-o)/h+(r<o?6:0):u===r?(o-i)/h+2:(i-r)/h+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*l+.5)),n&&p.length<4&&(p[3]=1),p}function st(t){var n=[],i=[],r=-1;return t.split(xe).forEach(function(t){var e=t.match(ee)||[];n.push.apply(n,e),i.push(r+=e.length+1)}),n.c=i,n}function at(t,e,n){var i,r,o,s,a="",l=(t+a).match(xe),u=e?"hsla(":"rgba(",c=0;if(!l)return t;if(l=l.map(function(t){return(t=ot(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),n&&(o=st(t),(i=n.c).join(a)!==o.c.join(a)))for(s=(r=t.replace(xe,"1").split(ee)).length-1;c<s;c++)a+=r[c]+(~i.indexOf(c)?l.shift()||u+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!r)for(s=(r=t.split(xe)).length-1;c<s;c++)a+=r[c]+l[c];return a+r[s]}function lt(t){var e,n=t.join(" ");if(xe.lastIndex=0,xe.test(n))return e=_e.test(n),t[1]=at(t[1],e),t[0]=at(t[0],e,st(t[1])),!0}function ut(t){var e=(t+"").split("("),n=Me[e[0]];return n&&1<e.length&&n.config?n.config.apply(null,~t.indexOf("{")?[function t(e){for(var n,i,r,o={},s=e.substr(1,e.length-3).split(":"),a=s[0],l=1,u=s.length;l<u;l++)i=s[l],n=l!==u-1?i.lastIndexOf(","):i.length,r=i.substr(0,n),o[a]=isNaN(r)?r.replace(Pe,"").trim():+r,a=i.substr(n+1).trim();return o}(e[1])]:function t(e){var n=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",n);return e.substring(n,~r&&r<i?e.indexOf(")",i+1):i)}(t).split(",").map(c)):Me._CE&&Oe.test(t)?Me._CE("",t):n}function ct(t,e){for(var n,i=t._first;i;)i instanceof je?ct(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?ct(i.timeline,e):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=e)),i=i._next}function ht(t,n,i,e){void 0===i&&(i=function t(e){return 1-n(1-e)}),void 0===e&&(e=function t(e){return e<.5?n(2*e)/2:1-n(2*(1-e))/2});var r,o={easeIn:n,easeOut:i,easeInOut:e};return v(t,function(t){for(var e in Me[t]=se[t]=o,Me[r=t.toLowerCase()]=i,o)Me[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Me[t+"."+e]=o[e]}),o}function dt(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function pt(n,t,e){function i(t){return 1===t?1:r*Math.pow(2,-10*t)*Kt((t-s)*o)+1}var r=1<=t?t:1,o=(e||(n?.3:.45))/(t<1?t:1),s=o/Gt*(Math.asin(1/r)||0),a="out"===n?i:"in"===n?function(t){return 1-i(1-t)}:dt(i);return o=Gt/o,a.config=function(t,e){return pt(n,t,e)},a}function ft(e,n){function i(t){return t?--t*t*((n+1)*t+n)+1:0}void 0===n&&(n=1.70158);var t="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:dt(i);return t.config=function(t){return ft(e,t)},t}var vt,gt,mt,yt,bt,At,wt,St,Et,Tt,xt,_t,Ct,kt,Mt,Ot,Pt,Rt,It,Lt,Dt,Nt,Ht,Vt,Ft,jt,Bt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ut={duration:.5,overwrite:!1,delay:0},Wt=1e8,zt=1/Wt,Gt=2*Math.PI,qt=Gt/4,Yt=0,Xt=Math.sqrt,Jt=Math.cos,Kt=Math.sin,$t="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Qt=Array.isArray,Zt=/(?:-?\.?\d|\.)+/gi,te=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ee=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ne=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ie=/[+-]=-?[.\d]+/,re=/[#\-+.]*\b[a-z\d-=+%.]+/gi,oe=/[\d.+\-=]+(?:e[-+]\d*)*/i,se={},ae={},le=[],ue={},ce={},he={},de=30,pe=[],fe="",ve=function t(e,n){for(var i in n)e[i]=n[i];return e},ge=function t(e,n){var i=Math.floor(e/=n);return e&&i===e?i-1:i},me={_start:0,endTime:P},ye=function t(e,n,i){return i<e?e:n<i?n:i},be=[].slice,Ae=function t(e,n){return!E(e)||n||!yt&&ke()?Qt(e)?function t(e,n,i){return void 0===i&&(i=[]),e.forEach(function(t){return E(t)&&!n||X(t,1)?i.push.apply(i,Ae(t)):i.push(t)})||i}(e,n):X(e)?be.call(e,0):e?[e]:[]:be.call(bt.querySelectorAll(e),0)},we=function t(e,n,i,r,o){var s=n-e,a=r-i;return q(o,function(t){return i+((t-e)/s*a||0)})},Se=function t(e,n,i){var r,o,s=e.vars,a=s[n];if(a)return r=s[n+"Params"],o=s.callbackScope||e,i&&le.length&&V(),r?a.apply(o,r):a.call(o)},Ee=255,Te={aqua:[0,Ee,Ee],lime:[0,Ee,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ee],navy:[0,0,128],white:[Ee,Ee,Ee],olive:[128,128,0],yellow:[Ee,Ee,0],orange:[Ee,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ee,0,0],pink:[Ee,192,203],cyan:[0,Ee,Ee],transparent:[Ee,Ee,Ee,0]},xe=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Te)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),_e=/hsl[a]?\(/,Ce=(Pt=Date.now,Rt=500,It=33,Lt=Pt(),Dt=Lt,Ht=Nt=1e3/240,kt={time:0,frame:0,tick:function t(){Le(!0)},deltaRatio:function t(e){return Mt/(1e3/(e||60))},wake:function t(){wt&&(!yt&&e()&&(mt=yt=window,bt=mt.document||{},se.gsap=fn,(mt.gsapVersions||(mt.gsapVersions=[])).push(fn.version),i(At||mt.GreenSockGlobals||!mt.gsap&&mt||{}),Ct=mt.requestAnimationFrame),xt&&kt.sleep(),_t=Ct||function(t){return setTimeout(t,Ht-1e3*kt.time+1|0)},Tt=1,Le(2))},sleep:function t(){(Ct?mt.cancelAnimationFrame:clearTimeout)(xt),Tt=0,_t=P},lagSmoothing:function t(e,n){Rt=e||1e8,It=Math.min(n,Rt,0)},fps:function t(e){Nt=1e3/(e||240),Ht=1e3*kt.time+Nt},add:function t(e){Vt.indexOf(e)<0&&Vt.push(e),ke()},remove:function t(e){var n;~(n=Vt.indexOf(e))&&Vt.splice(n,1)&&n<=Ot&&Ot--},_listeners:Vt=[]}),ke=function t(){return!Tt&&Ce.wake()},Me={},Oe=/^[\d.\-M][\d.\-,\s]/,Pe=/["']/g,Re=function t(e){return function(t){return 1-e(1-t)}},Ie=function t(e,n){return e&&(T(e)?e:Me[e]||ut(e))||n};function Le(t){var e,n,i,r,o=Pt()-Dt,s=!0===t;if(Rt<o&&(Lt+=o-It),(0<(e=(i=(Dt+=o)-Lt)-Ht)||s)&&(r=++kt.frame,Mt=i-1e3*kt.time,kt.time=i/=1e3,Ht+=e+(Nt<=e?4:Nt-e),n=1),s||(xt=_t(Le)),n)for(Ot=0;Ot<Vt.length;Ot++)Vt[Ot](i,Mt,r,t)}function De(t){return t<jt?Ft*t*t:t<.7272727272727273?Ft*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?Ft*(t-=2.25/2.75)*t+.9375:Ft*Math.pow(t-2.625/2.75,2)+.984375}v("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;ht(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},function(t){return 1-Math.pow(1-t,n)},function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2})}),Me.Linear.easeNone=Me.none=Me.Linear.easeIn,ht("Elastic",pt("in"),pt("out"),pt()),Ft=7.5625,jt=1/2.75,ht("Bounce",function(t){return 1-De(1-t)},De),ht("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),ht("Circ",function(t){return-(Xt(1-t*t)-1)}),ht("Sine",function(t){return 1===t?1:1-Jt(t*qt)}),ht("Back",ft("in"),ft("out"),ft()),Me.SteppedEase=Me.steps=se.SteppedEase={config:function t(e,n){void 0===e&&(e=1);var i=1/e,r=e+(n?0:1),o=n?1:0;return function(t){return((r*ye(0,.99999999,t)|0)+o)*i}}},Ut.ease=Me["quad.out"],v("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return fe+=t+","+t+"Params,"});var Ne,He=function t(e,n){this.id=Yt++,(e._gsap=this).target=e,this.harness=n,this.get=n?n.get:s,this.set=n?n.getSetter:tn},Ve=((Ne=Fe.prototype).delay=function t(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},Ne.duration=function t(e){return arguments.length?this.totalDuration(0<this._repeat?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},Ne.totalDuration=function t(e){return arguments.length?(this._dirty=0,S(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Ne.totalTime=function t(e,n){if(ke(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(b(this,e),!i._dp||i.parent||L(i,this);i.parent;)i.parent._time!==i._start+(0<=i._ts?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&e<this._tDur||this._ts<0&&0<e||!this._tDur&&!e)&&A(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===zt||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),r(this,e,n)),this},Ne.time=function t(e,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+m(this))%this._dur||(e?this._dur:0),n):this._time},Ne.totalProgress=function t(e,n){return arguments.length?this.totalTime(this.totalDuration()*e,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Ne.progress=function t(e,n){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+m(this),n):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Ne.iteration=function t(e,n){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*i,n):this._repeat?ge(this._tTime,i)+1:1},Ne.timeScale=function t(e){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?y(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-zt?0:this._rts,function t(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e}(this.totalTime(ye(-this._delay,this._tDur,n),!0))},Ne.paused=function t(e){return arguments.length?(this._ps!==e&&((this._ps=e)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ke(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=zt)&&Math.abs(this._zTime)!==zt))),this):this._ps},Ne.startTime=function t(e){if(arguments.length){this._start=e;var n=this.parent||this._dp;return!n||!n._sort&&this.parent||A(n,this,e-this._delay),this}return this._start},Ne.endTime=function t(e){return this._start+(D(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},Ne.rawTime=function t(e){var n=this.parent||this._dp;return n?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?y(n.rawTime(e),this):this._tTime:this._tTime},Ne.globalTime=function t(e){for(var n=this,i=arguments.length?e:n.rawTime();n;)i=n._start+i/(n._ts||1),n=n._dp;return i},Ne.repeat=function t(e){return arguments.length?(this._repeat=e===1/0?-2:e,z(this)):-2===this._repeat?1/0:this._repeat},Ne.repeatDelay=function t(e){return arguments.length?(this._rDelay=e,z(this)):this._rDelay},Ne.yoyo=function t(e){return arguments.length?(this._yoyo=e,this):this._yoyo},Ne.seek=function t(e,n){return this.totalTime(G(this,e),D(n))},Ne.restart=function t(e,n){return this.play().totalTime(e?-this._delay:0,D(n))},Ne.play=function t(e,n){return null!=e&&this.seek(e,n),this.reversed(!1).paused(!1)},Ne.reverse=function t(e,n){return null!=e&&this.seek(e||this.totalDuration(),n),this.reversed(!0).paused(!1)},Ne.pause=function t(e,n){return null!=e&&this.seek(e,n),this.paused(!0)},Ne.resume=function t(){return this.paused(!1)},Ne.reversed=function t(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-zt:0)),this):this._rts<0},Ne.invalidate=function t(){return this._initted=this._act=0,this._zTime=-zt,this},Ne.isActive=function t(){var e,n=this.parent||this._dp,i=this._start;return!(n&&!(this._ts&&this._initted&&n.isActive()&&(e=n.rawTime(!0))>=i&&e<this.endTime(!0)-zt))},Ne.eventCallback=function t(e,n,i){var r=this.vars;return 1<arguments.length?(n?(r[e]=n,i&&(r[e+"Params"]=i),"onUpdate"===e&&(this._onUpdate=n)):delete r[e],this):r[e]},Ne.then=function t(i){var r=this;return new Promise(function(e){function t(){var t=r.then;r.then=null,T(n)&&(n=n(r))&&(n.then||n===r)&&(r.then=t),e(n),r.then=t}var n=T(i)?i:h;r._initted&&1===r.totalProgress()&&0<=r._ts||!r._tTime&&r._ts<0?t():r._prom=t})},Ne.kill=function t(){it(this)},Fe);function Fe(t,e){var n=t.parent||gt;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,S(this,+t.duration,1,1),this.data=t.data,Tt||Ce.wake(),n&&A(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}F(Ve.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var je=function(i){function t(t,e){var n;return void 0===t&&(t={}),(n=i.call(this,t,e)||this).labels={},n.smoothChildTiming=!!t.smoothChildTiming,n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=D(t.sortChildren),n.parent&&L(n.parent,_(n)),t.scrollTrigger&&W(_(n),t.scrollTrigger),n}n(t,i);var e=t.prototype;return e.to=function t(e,n,i,r){return new Xe(e,u(arguments,0,this),G(this,C(n)?r:i)),this},e.from=function t(e,n,i,r){return new Xe(e,u(arguments,1,this),G(this,C(n)?r:i)),this},e.fromTo=function t(e,n,i,r,o){return new Xe(e,u(arguments,2,this),G(this,C(n)?o:r)),this},e.set=function t(e,n,i){return n.duration=0,n.parent=this,R(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new Xe(e,n,G(this,i),1),this},e.call=function t(e,n,i){return A(this,Xe.delayedCall(0,e,n),G(this,i))},e.staggerTo=function t(e,n,i,r,o,s,a){return i.duration=n,i.stagger=i.stagger||r,i.onComplete=s,i.onCompleteParams=a,i.parent=this,new Xe(e,i,G(this,o)),this},e.staggerFrom=function t(e,n,i,r,o,s,a){return i.runBackwards=1,R(i).immediateRender=D(i.immediateRender),this.staggerTo(e,n,i,r,o,s,a)},e.staggerFromTo=function t(e,n,i,r,o,s,a,l){return r.startAt=i,R(r).immediateRender=D(r.immediateRender),this.staggerTo(e,n,r,o,s,a,l)},e.render=function t(e,n,i){var r,o,s,a,l,u,c,h,d,p,f,v,g=this._time,m=this._dirty?this.totalDuration():this._tDur,y=this._dur,b=this!==gt&&m-zt<e&&0<=e?m:e<zt?0:e,A=this._zTime<0!=e<0&&(this._initted||!y);if(b!==this._tTime||i||A){if(g!==this._time&&y&&(b+=this._time-g,e+=this._time-g),r=b,d=this._start,u=!(h=this._ts),A&&(y||(g=this._zTime),!e&&n||(this._zTime=e)),this._repeat){if(f=this._yoyo,l=y+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*l+e,n,i);if(r=j(b%l),b===m?(a=this._repeat,r=y):((a=~~(b/l))&&a===b/l&&(r=y,a--),y<r&&(r=y)),p=ge(this._tTime,l),!g&&this._tTime&&p!==a&&(p=a),f&&1&a&&(r=y-r,v=1),a!==p&&!this._lock){var w=f&&1&p,S=w===(f&&1&a);if(a<p&&(w=!w),g=w?0:y,this._lock=1,this.render(g||(v?0:j(a*l)),n,!y)._lock=0,!n&&this.parent&&Se(this,"onRepeat"),this.vars.repeatRefresh&&!v&&(this.invalidate()._lock=1),g&&g!==this._time||u!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,m=this._tDur,S&&(this._lock=2,g=w?y:-1e-4,this.render(g,!0)),this._lock=0,!this._ts&&!u)return this;ct(this,v)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function t(e,n,i){var r;if(n<i)for(r=e._first;r&&r._start<=i;){if(!r._dur&&"isPause"===r.data&&r._start>n)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(!r._dur&&"isPause"===r.data&&r._start<n)return r;r=r._prev}}(this,j(g),j(r)))&&(b-=r-(r=c._start)),this._tTime=b,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,g=0),g||!r||n||Se(this,"onStart"),g<=r&&0<=e)for(o=this._first;o;){if(s=o._next,(o._act||r>=o._start)&&o._ts&&c!==o){if(o.parent!==this)return this.render(e,n,i);if(o.render(0<o._ts?(r-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(r-o._start)*o._ts,n,i),r!==this._time||!this._ts&&!u){c=0,s&&(b+=this._zTime=-zt);break}}o=s}else{o=this._last;for(var E=e<0?e:r;o;){if(s=o._prev,(o._act||E<=o._end)&&o._ts&&c!==o){if(o.parent!==this)return this.render(e,n,i);if(o.render(0<o._ts?(E-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(E-o._start)*o._ts,n,i),r!==this._time||!this._ts&&!u){c=0,s&&(b+=this._zTime=E?-zt:zt);break}}o=s}}if(c&&!n&&(this.pause(),c.render(g<=r?0:-zt)._zTime=g<=r?1:-1,this._ts))return this._start=d,I(this),this.render(e,n,i);this._onUpdate&&!n&&Se(this,"onUpdate",!0),(b===m&&m>=this.totalDuration()||!b&&g)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||(!e&&y||!(b===m&&0<this._ts||!b&&this._ts<0)||U(this,1),n||e<0&&!g||!b&&!g||(Se(this,b===m?"onComplete":"onReverseComplete",!0),!this._prom||b<m&&0<this.timeScale()||this._prom())))}return this},e.add=function t(e,n){var i=this;if(C(n)||(n=G(this,n)),!(e instanceof Ve)){if(Qt(e))return e.forEach(function(t){return i.add(t,n)}),this;if(E(e))return this.addLabel(e,n);if(!T(e))return this;e=Xe.delayedCall(0,e)}return this!==e?A(this,e,n):this},e.getChildren=function t(e,n,i,r){void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===r&&(r=-Wt);for(var o=[],s=this._first;s;)s._start>=r&&(s instanceof Xe?n&&o.push(s):(i&&o.push(s),e&&o.push.apply(o,s.getChildren(!0,n,i)))),s=s._next;return o},e.getById=function t(e){for(var n=this.getChildren(1,1,1),i=n.length;i--;)if(n[i].vars.id===e)return n[i]},e.remove=function t(e){return E(e)?this.removeLabel(e):T(e)?this.killTweensOf(e):(g(this,e),e===this._recent&&(this._recent=this._last),f(this))},e.totalTime=function t(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=j(Ce.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts))),i.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},e.addLabel=function t(e,n){return this.labels[e]=G(this,n),this},e.removeLabel=function t(e){return delete this.labels[e],this},e.addPause=function t(e,n,i){var r=Xe.delayedCall(0,n||P,i);return r.data="isPause",this._hasPause=1,A(this,r,G(this,e))},e.removePause=function t(e){var n=this._first;for(e=G(this,e);n;)n._start===e&&"isPause"===n.data&&U(n),n=n._next},e.killTweensOf=function t(e,n,i){for(var r=this.getTweensOf(e,i),o=r.length;o--;)Ue!==r[o]&&r[o].kill(e,n);return this},e.getTweensOf=function t(e,n){for(var i,r=[],o=Ae(e),s=this._first,a=C(n);s;)s instanceof Xe?l(s._targets,o)&&(a?(!Ue||s._initted&&s._ts)&&s.globalTime(0)<=n&&s.globalTime(s.totalDuration())>n:!n||s.isActive())&&r.push(s):(i=s.getTweensOf(o,n)).length&&r.push.apply(r,i),s=s._next;return r},e.tweenTo=function t(e,n){n=n||{};var i=this,r=G(i,e),o=n.startAt,s=n.onStart,a=n.onStartParams,l=n.immediateRender,u=Xe.to(i,F({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:n.duration||Math.abs((r-(o&&"time"in o?o.time:i._time))/i.timeScale())||zt,onStart:function t(){i.pause();var e=n.duration||Math.abs((r-i._time)/i.timeScale());u._dur!==e&&S(u,e,0,1).render(u._time,!0,!0),s&&s.apply(u,a||[])}},n));return l?u.render(0):u},e.tweenFromTo=function t(e,n,i){return this.tweenTo(n,F({startAt:{time:G(this,e)}},i))},e.recent=function t(){return this._recent},e.nextLabel=function t(e){return void 0===e&&(e=this._time),nt(this,G(this,e))},e.previousLabel=function t(e){return void 0===e&&(e=this._time),nt(this,G(this,e),1)},e.currentLabel=function t(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+zt)},e.shiftChildren=function t(e,n,i){void 0===i&&(i=0);for(var r,o=this._first,s=this.labels;o;)o._start>=i&&(o._start+=e,o._end+=e),o=o._next;if(n)for(r in s)s[r]>=i&&(s[r]+=e);return f(this)},e.invalidate=function t(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return i.prototype.invalidate.call(this)},e.clear=function t(e){void 0===e&&(e=!0);for(var n,i=this._first;i;)n=i._next,this.remove(i),i=n;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),f(this)},e.totalDuration=function t(e){var n,i,r,o=0,s=this,a=s._last,l=Wt;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-e:e));if(s._dirty){for(r=s.parent;a;)n=a._prev,a._dirty&&a.totalDuration(),l<(i=a._start)&&s._sort&&a._ts&&!s._lock?(s._lock=1,A(s,a,i-a._delay,1)._lock=0):l=i,i<0&&a._ts&&(o-=i,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-Infinity),l=0),a._end>o&&a._ts&&(o=a._end),a=n;S(s,s===gt&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function t(e){if(gt._ts&&(r(gt,y(e,gt)),St=Ce.frame),Ce.frame>=de){de+=Bt.autoSleep||120;var n=gt._first;if((!n||!n._ts)&&Bt.autoSleep&&Ce._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||Ce.sleep()}}},t}(Ve);function Be(t,e,n,i,r,o){var s,a,l,u;if(ce[t]&&!1!==(s=new ce[t]).init(r,s.rawVars?e[t]:function t(e,n,i,r,o){if(T(e)&&(e=Ge(e,o,n,i,r)),!k(e)||e.style&&e.nodeType||Qt(e)||$t(e))return E(e)?Ge(e,o,n,i,r):e;var s,a={};for(s in e)a[s]=Ge(e[s],o,n,i,r);return a}(e[t],i,r,o,n),n,i,o)&&(n._pt=a=new un(n._pt,r,t,0,1,s.render,s,0,s.priority),n!==Et))for(l=n._ptLookup[n._targets.indexOf(r)],u=s._props.length;u--;)l[s._props[u]]=a;return s}F(je.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ue,We=function t(e,n,i,r,o,s,a,l,u){T(r)&&(r=r(o||0,e,s));var c,h=e[n],d="get"!==i?i:T(h)?u?e[n.indexOf("set")||!T(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():h,p=T(h)?u?Ze:Qe:$e;if(E(r)&&(~r.indexOf("random(")&&(r=et(r)),"="===r.charAt(1)&&(r=parseFloat(d)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(Y(d)||0))),d!==r)return isNaN(d*r)?(h||n in e||x(n,r),function t(e,n,i,r,o,s,a){var l,u,c,h,d,p,f,v,g=new un(this._pt,e,n,0,1,rn,null,o),m=0,y=0;for(g.b=i,g.e=r,i+="",(f=~(r+="").indexOf("random("))&&(r=et(r)),s&&(s(v=[i,r],e,n),i=v[0],r=v[1]),u=i.match(ne)||[];l=ne.exec(r);)h=l[0],d=r.substring(m,l.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),h!==u[y++]&&(p=parseFloat(u[y-1])||0,g._pt={_next:g._pt,p:d||1===y?d:",",s:p,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-p,m:c&&c<4?Math.round:0},m=ne.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=a,(ie.test(r)||f)&&(g.e=0),this._pt=g}.call(this,e,n,d,r,p,l||Bt.stringFilter,u)):(c=new un(this._pt,e,n,+d||0,r-(d||0),"boolean"==typeof h?nn:en,0,p),u&&(c.fp=u),a&&c.modifier(a,this,e),this._pt=c)},ze=function t(e,n){var i,r,o,s,a,l,u,c,h,d,p,f,v,g=e.vars,m=g.ease,y=g.startAt,b=g.immediateRender,A=g.lazy,w=g.onUpdate,S=g.onUpdateParams,E=g.callbackScope,T=g.runBackwards,x=g.yoyoEase,_=g.keyframes,C=g.autoRevert,k=e._dur,M=e._startAt,O=e._targets,P=e.parent,R=P&&"nested"===P.data?P.parent._targets:O,I="auto"===e._overwrite&&!vt,L=e.timeline;if(!L||_&&m||(m="none"),e._ease=Ie(m,Ut.ease),e._yEase=x?Re(Ie(!0===x?m:x,Ut.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),!L){if(f=(c=O[0]?H(O[0]).harness:0)&&g[c.prop],i=B(g,ae),M&&M.render(-1,!0).kill(),y)if(U(e._startAt=Xe.set(O,F({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:D(A),startAt:null,delay:0,onUpdate:w,onUpdateParams:S,callbackScope:E,stagger:0},y))),b){if(0<n)C||(e._startAt=0);else if(k&&!(n<0&&M))return void(n&&(e._zTime=n))}else!1===C&&(e._startAt=0);else if(T&&k)if(M)C||(e._startAt=0);else if(n&&(b=!1),o=F({overwrite:!1,data:"isFromStart",lazy:b&&D(A),immediateRender:b,stagger:0,parent:P},i),f&&(o[c.prop]=f),U(e._startAt=Xe.set(O,o)),b){if(!n)return}else t(e._startAt,zt);for(e._pt=0,A=k&&D(A)||A&&!k,r=0;r<O.length;r++){if(u=(a=O[r])._gsap||N(O)[r]._gsap,e._ptLookup[r]=d={},ue[u.id]&&le.length&&V(),p=R===O?r:R.indexOf(a),c&&!1!==(h=new c).init(a,f||i,e,p,R)&&(e._pt=s=new un(e._pt,a,h.name,0,1,h.render,h,0,h.priority),h._props.forEach(function(t){d[t]=s}),h.priority&&(l=1)),!c||f)for(o in i)ce[o]&&(h=Be(o,i,e,p,a,R))?h.priority&&(l=1):d[o]=s=We.call(e,a,o,"get",i[o],p,R,0,g.stringFilter);e._op&&e._op[r]&&e.kill(a,e._op[r]),I&&e._pt&&(Ue=e,gt.killTweensOf(a,d,e.globalTime(0)),v=!e.parent,Ue=0),e._pt&&A&&(ue[u.id]=1)}l&&ln(e),e._onInit&&e._onInit(e)}e._from=!L&&!!g.runBackwards,e._onUpdate=w,e._initted=(!e._op||e._pt)&&!v},Ge=function t(e,n,i,r,o){return T(e)?e.call(n,i,r,o):E(e)&&~e.indexOf("random(")?et(e):e},qe=fe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Ye=(qe+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Xe=function(x){function o(t,e,n,i){var r;"number"==typeof e&&(n.duration=e,e=n,n=null);var o,s,a,l,u,c,h,d,p=(r=x.call(this,i?e:R(e),n)||this).vars,f=p.duration,v=p.delay,g=p.immediateRender,m=p.stagger,y=p.overwrite,b=p.keyframes,A=p.defaults,w=p.scrollTrigger,S=p.yoyoEase,E=r.parent,T=(Qt(t)||$t(t)?C(t[0]):"length"in e)?[t]:Ae(t);if(r._targets=T.length?N(T):O("GSAP target "+t+" not found. https://greensock.com",!Bt.nullTargetWarn)||[],r._ptLookup=[],r._overwrite=y,b||m||M(f)||M(v)){if(e=r.vars,(o=r.timeline=new je({data:"nested",defaults:A||{}})).kill(),o.parent=o._dp=_(r),o._start=0,b)F(o.vars.defaults,{ease:"none"}),b.forEach(function(t){return o.to(T,t,">")});else{if(l=T.length,h=m?K(m):P,k(m))for(u in m)~qe.indexOf(u)&&((d=d||{})[u]=m[u]);for(s=0;s<l;s++){for(u in a={},e)Ye.indexOf(u)<0&&(a[u]=e[u]);a.stagger=0,S&&(a.yoyoEase=S),d&&ve(a,d),c=T[s],a.duration=+Ge(f,_(r),s,c,T),a.delay=(+Ge(v,_(r),s,c,T)||0)-r._delay,!m&&1===l&&a.delay&&(r._delay=v=a.delay,r._start+=v,a.delay=0),o.to(c,a,h(s,c,T))}o.duration()?f=v=0:r.timeline=0}f||r.duration(f=o.duration())}else r.timeline=0;return!0!==y||vt||(Ue=_(r),gt.killTweensOf(T),Ue=0),E&&L(E,_(r)),(g||!f&&!b&&r._start===j(E._time)&&D(g)&&function t(e){return!e||e._ts&&t(e.parent)}(_(r))&&"nested"!==E.data)&&(r._tTime=-zt,r.render(Math.max(0,-v))),w&&W(_(r),w),r}n(o,x);var t=o.prototype;return t.render=function t(e,n,i){var r,o,s,a,l,u,c,h,d,p=this._time,f=this._tDur,v=this._dur,g=f-zt<e&&0<=e?f:e<zt?0:e;if(v){if(g!==this._tTime||!e||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=e<0){if(r=g,h=this.timeline,this._repeat){if(a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,n,i);if(r=j(g%a),g===f?(s=this._repeat,r=v):((s=~~(g/a))&&s===g/a&&(r=v,s--),v<r&&(r=v)),(u=this._yoyo&&1&s)&&(d=this._yEase,r=v-r),l=ge(this._tTime,a),r===p&&!i&&this._initted)return this;s!==l&&(h&&this._yEase&&ct(h,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=i=1,this.render(j(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(w(this,e<0?e:r,i,n))return this._tTime=0,this;if(v!==this._dur)return this.render(e,n,i)}for(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(r/v),this._from&&(this.ratio=c=1-c),!r||p||n||Se(this,"onStart"),o=this._pt;o;)o.r(c,o.d),o=o._next;h&&h.render(e<0?e:!r&&u?-zt:h._dur*c,n,i)||this._startAt&&(this._zTime=e),this._onUpdate&&!n&&(e<0&&this._startAt&&this._startAt.render(e,!0,i),Se(this,"onUpdate")),this._repeat&&s!==l&&this.vars.onRepeat&&!n&&this.parent&&Se(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),!e&&v||!(g===this._tDur&&0<this._ts||!g&&this._ts<0)||U(this,1),n||e<0&&!p||!g&&!p||(Se(this,g===f?"onComplete":"onReverseComplete",!0),!this._prom||g<f&&0<this.timeScale()||this._prom()))}}else!function t(e,n,i,r){var o,s,a,l=e.ratio,u=n<0||!n&&(!e._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(e)||(e._ts<0||e._dp._ts<0)&&"isFromStart"!==e.data&&"isStart"!==e.data)?0:1,c=e._rDelay,h=0;if(c&&e._repeat&&(h=ye(0,e._tDur,n),s=ge(h,c),a=ge(e._tTime,c),e._yoyo&&1&s&&(u=1-u),s!==a&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||r||e._zTime===zt||!n&&e._zTime){if(!e._initted&&w(e,n,r,i))return;for(a=e._zTime,e._zTime=n||(i?zt:0),i=i||n&&!a,e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=h,o=e._pt;o;)o.r(u,o.d),o=o._next;e._startAt&&n<0&&e._startAt.render(n,!0,!0),e._onUpdate&&!i&&Se(e,"onUpdate"),h&&e._repeat&&!i&&e.parent&&Se(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===u&&(u&&U(e,1),i||(Se(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)}(this,e,n,i);return this},t.targets=function t(){return this._targets},t.invalidate=function t(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),x.prototype.invalidate.call(this)},t.kill=function t(e,n){if(void 0===n&&(n="all"),!(e||n&&"all"!==n))return this._lazy=this._pt=0,this.parent?it(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(e,n,Ue&&!0!==Ue.vars.overwrite)._first||it(this),this.parent&&i!==this.timeline.totalDuration()&&S(this,this._dur*this.timeline._tDur/i,0,1),this}var r,o,s,a,l,u,c,h=this._targets,d=e?Ae(e):h,p=this._ptLookup,f=this._pt;if((!n||"all"===n)&&function t(e,n){for(var i=e.length,r=i===n.length;r&&i--&&e[i]===n[i];);return i<0}(h,d))return"all"===n&&(this._pt=0),it(this);for(r=this._op=this._op||[],"all"!==n&&(E(n)&&(l={},v(n,function(t){return l[t]=1}),n=l),n=function t(e,n){var i,r,o,s,a=e[0]?H(e[0]).harness:0,l=a&&a.aliases;if(!l)return n;for(r in i=ve({},n),l)if(r in i)for(o=(s=l[r].split(",")).length;o--;)i[s[o]]=i[r];return i}(h,n)),c=h.length;c--;)if(~d.indexOf(h[c]))for(l in o=p[c],"all"===n?(r[c]=n,a=o,s={}):(s=r[c]=r[c]||{},a=n),a)(u=o&&o[l])&&("kill"in u.d&&!0!==u.d.kill(l)||g(this,u,"_pt"),delete o[l]),"all"!==s&&(s[l]=1);return this._initted&&!this._pt&&f&&it(this),this},o.to=function t(e,n,i){return new o(e,n,i)},o.from=function t(e,n){return new o(e,u(arguments,1))},o.delayedCall=function t(e,n,i,r){return new o(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},o.fromTo=function t(e,n,i){return new o(e,u(arguments,2))},o.set=function t(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new o(e,n)},o.killTweensOf=function t(e,n,i){return gt.killTweensOf(e,n,i)},o}(Ve);function Je(t,e,n){return t.setAttribute(e,n)}function Ke(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)}F(Xe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),v("staggerTo,staggerFrom,staggerFromTo",function(n){Xe[n]=function(){var t=new je,e=be.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var $e=function t(e,n,i){return e[n]=i},Qe=function t(e,n,i){return e[n](i)},Ze=function t(e,n,i,r){return e[n](r.fp,i)},tn=function t(e,n){return T(e[n])?Qe:o(e[n])&&e.setAttribute?Je:$e},en=function t(e,n){return n.set(n.t,n.p,Math.round(1e4*(n.s+n.c*e))/1e4,n)},nn=function t(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},rn=function t(e,n){var i=n._pt,r="";if(!e&&n.b)r=n.b;else if(1===e&&n.e)r=n.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+r,i=i._next;r+=n.c}n.set(n.t,n.p,r,n)},on=function t(e,n){for(var i=n._pt;i;)i.r(e,i.d),i=i._next},sn=function t(e,n,i,r){for(var o,s=this._pt;s;)o=s._next,s.p===r&&s.modifier(e,n,i),s=o},an=function t(e){for(var n,i,r=this._pt;r;)i=r._next,r.p===e&&!r.op||r.op===e?g(this,r,"_pt"):r.dep||(n=1),r=i;return!n},ln=function t(e){for(var n,i,r,o,s=e._pt;s;){for(n=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:o=s,s=n}e._pt=r},un=(cn.prototype.modifier=function t(e,n,i){this.mSet=this.mSet||this.set,this.set=Ke,this.m=e,this.mt=i,this.tween=n},cn);function cn(t,e,n,i,r,o,s,a,l){this.t=e,this.s=i,this.c=r,this.p=n,this.r=o||en,this.d=s||this,this.set=a||$e,this.pr=l||0,(this._next=t)&&(t._prev=this)}v(fe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ae[t]=1}),se.TweenMax=se.TweenLite=Xe,se.TimelineLite=se.TimelineMax=je,gt=new je({sortChildren:!1,defaults:Ut,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Bt.stringFilter=lt;var hn={registerPlugin:function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(t){return function t(e){var n=(e=!e.name&&e.default||e).name,i=T(e),r=n&&!i&&e.init?function(){this._props=[]}:e,o={init:P,render:on,add:We,kill:an,modifier:sn,rawVars:0},s={targetTest:0,get:0,getSetter:tn,aliases:{},register:0};if(ke(),e!==r){if(ce[n])return;F(r,F(B(e,o),s)),ve(r.prototype,ve(o,B(e,s))),ce[r.prop=n]=r,e.targetTest&&(pe.push(r),ae[n]=1),n=("css"===n?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}a(n,r),e.register&&e.register(fn,r,un)}(t)})},timeline:function t(e){return new je(e)},getTweensOf:function t(e,n){return gt.getTweensOf(e,n)},getProperty:function t(i,e,n,r){E(i)&&(i=Ae(i)[0]);var o=H(i||{}).get,s=n?h:c;return"native"===n&&(n=""),i?e?s((ce[e]&&ce[e].get||o)(i,e,n,r)):function(t,e,n){return s((ce[t]&&ce[t].get||o)(i,t,e,n))}:i},quickSetter:function t(n,e,i){if(1<(n=Ae(n)).length){var r=n.map(function(t){return fn.quickSetter(t,e,i)}),o=r.length;return function(t){for(var e=o;e--;)r[e](t)}}n=n[0]||{};var s=ce[e],a=H(n),l=a.harness&&(a.harness.aliases||{})[e]||e,u=s?function(t){var e=new s;Et._pt=0,e.init(n,i?t+i:t,Et,0,[n]),e.render(1,e),Et._pt&&on(1,Et)}:a.set(n,l);return s?u:function(t){return u(n,l,i?t+i:t,a,1)}},isTweening:function t(e){return 0<gt.getTweensOf(e,!0).length},defaults:function t(e){return e&&e.ease&&(e.ease=Ie(e.ease,Ut.ease)),p(Ut,e||{})},config:function t(e){return p(Bt,e||{})},registerEffect:function t(e){var i=e.name,r=e.effect,n=e.plugins,o=e.defaults,s=e.extendTimeline;(n||"").split(",").forEach(function(t){return t&&!ce[t]&&!se[t]&&O(i+" effect requires "+t+" plugin.")}),he[i]=function(t,e,n){return r(Ae(t),F(e||{},o),n)},s&&(je.prototype[i]=function(t,e,n){return this.add(he[i](t,k(e)?e:(n=e)&&{},this),n)})},registerEase:function t(e,n){Me[e]=Ie(n)},parseEase:function t(e,n){return arguments.length?Ie(e,n):Me},getById:function t(e){return gt.getById(e)},exportRoot:function t(e,n){void 0===e&&(e={});var i,r,o=new je(e);for(o.smoothChildTiming=D(e.smoothChildTiming),gt.remove(o),o._dp=0,o._time=o._tTime=gt._time,i=gt._first;i;)r=i._next,!n&&!i._dur&&i instanceof Xe&&i.vars.onComplete===i._targets[0]||A(o,i,i._start-i._delay),i=r;return A(gt,o,0),o},utils:{wrap:function t(e,n,i){var r=n-e;return Qt(e)?tt(e,t(0,e.length),n):q(i,function(t){return(r+(t-e)%r)%r+e})},wrapYoyo:function t(e,n,i){var r=n-e,o=2*r;return Qt(e)?tt(e,t(0,e.length-1),n):q(i,function(t){return e+(r<(t=(o+(t-e)%o)%o||0)?o-t:t)})},distribute:K,random:Z,snap:Q,normalize:function t(e,n,i){return we(e,n,0,1,i)},getUnit:Y,clamp:function t(e,n,i){return q(i,function(t){return ye(e,n,t)})},splitColor:ot,toArray:Ae,mapRange:we,pipe:function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(t){return n.reduce(function(t,e){return e(t)},t)}},unitize:function t(e,n){return function(t){return e(parseFloat(t))+(n||Y(t))}},interpolate:function t(n,e,i,r){var o=isNaN(n+e)?0:function(t){return(1-t)*n+t*e};if(!o){var s,a,l,u,c,h=E(n),d={};if(!0===i&&(r=1)&&(i=null),h)n={p:n},e={p:e};else if(Qt(n)&&!Qt(e)){for(l=[],u=n.length,c=u-2,a=1;a<u;a++)l.push(t(n[a-1],n[a]));u--,o=function t(e){e*=u;var n=Math.min(c,~~e);return l[n](e-n)},i=e}else r||(n=ve(Qt(n)?[]:{},n));if(!l){for(s in e)We.call(d,n,s,"get",e[s]);o=function t(e){return on(e,d)||(h?n.p:n)}}}return q(i,o)},shuffle:J},install:i,effects:he,ticker:Ce,updateRoot:je.updateRoot,plugins:ce,globalTimeline:gt,core:{PropTween:un,globals:a,Tween:Xe,Timeline:je,Animation:Ve,getCache:H,_removeLinkedListItem:g,suppressOverwrites:function t(e){return vt=e}}};function dn(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n}function pn(t,r){return{name:t,rawVars:1,init:function t(e,i,n){n._onInit=function(t){var e,n;if(E(i)&&(e={},v(i,function(t){return e[t]=1}),i=e),r){for(n in e={},i)e[n]=r(i[n]);i=e}!function t(e,n){var i,r,o,s=e._targets;for(i in n)for(r=s.length;r--;)(o=(o=e._ptLookup[r][i])&&o.d)&&(o._pt&&(o=dn(o,i)),o&&o.modifier&&o.modifier(n[i],e,s[r],i))}(t,i)}}}}v("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return hn[t]=Xe[t]}),Ce.add(je.updateRoot),Et=hn.to({},{duration:0});var fn=hn.registerPlugin({name:"attr",init:function t(e,n,i,r,o){var s,a;for(s in n)(a=this.add(e,"setAttribute",(e.getAttribute(s)||0)+"",n[s],r,o,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function t(e,n){for(var i=n.length;i--;)this.add(e,i,e[i]||0,n[i])}},pn("roundProps",$),pn("modifiers"),pn("snap",Q))||hn;function vn(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function gn(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function mn(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function yn(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)}function bn(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function An(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function wn(t,e,n){return t.style[e]=n}function Sn(t,e,n){return t.style.setProperty(e,n)}function En(t,e,n){return t._gsap[e]=n}function Tn(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n}function xn(t,e,n,i,r){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)}function _n(t,e,n,i,r){var o=t._gsap;o[e]=n,o.renderTransform(r,o)}function Cn(t,e){var n=Kn.createElementNS?Kn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Kn.createElement(t);return n.style?n:Kn.createElement(t)}function kn(t,e,n){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Ti,"-$1").toLowerCase())||i.getPropertyValue(e)||!n&&kn(t,Pi(e)||e,1)||""}function Mn(){(function t(){return"undefined"!=typeof window})()&&window.document&&(Jn=window,Kn=Jn.document,$n=Kn.documentElement,Zn=Cn("div")||{style:{}},Cn("div"),ki=Pi(ki),Mi=ki+"Origin",Zn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ei=!!Pi("perspective"),Qn=1)}function On(t){var e,n=Cn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if($n.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=On}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),$n.removeChild(n),this.style.cssText=o,e}function Pn(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])}function Rn(e){var n;try{n=e.getBBox()}catch(t){n=On.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===On||(n=On.call(e,!0)),!n||n.width||n.x||n.y?n:{x:+Pn(e,["x","cx","x1"])||0,y:+Pn(e,["y","cy","y1"])||0,width:0,height:0}}function In(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Rn(t))}function Ln(t,e){if(e){var n=t.style;e in Ai&&e!==Mi&&(e=ki),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(Ti,"-$1").toLowerCase())):n.removeAttribute(e)}}function Dn(t,e,n,i,r,o){var s=new un(t._pt,e,n,0,1,o?An:bn);return(t._pt=s).b=i,s.e=r,t._props.push(n),s}function Nn(t,e,n,i){var r,o,s,a,l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",c=Zn.style,h=xi.test(e),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(h?"Width":"Height"),f="px"===i,v="%"===i;return i===u||!l||Ri[i]||Ri[u]?l:("px"===u||f||(l=Nn(t,e,n,"px")),a=t.getCTM&&In(t),!v&&"%"!==u||!Ai[e]&&!~e.indexOf("adius")?(c[h?"width":"height"]=100+(f?u:i),o=~e.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,a&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Kn&&o.appendChild||(o=Kn.body),(s=o._gsap)&&v&&s.width&&h&&s.time===Ce.time?j(l/s.width*100):(!v&&"%"!==u||(c.position=kn(t,"position")),o===t&&(c.position="static"),o.appendChild(Zn),r=Zn[p],o.removeChild(Zn),c.position="absolute",h&&v&&((s=H(o)).time=Ce.time,s.width=o[p]),j(f?r*l/100:r&&l?100/r*l:0))):(r=a?t.getBBox()[h?"width":"height"]:t[p],j(v?l/r*100:l/100*r)))}function Hn(t,e,n,i){var r;return Qn||Mn(),e in Ci&&"transform"!==e&&~(e=Ci[e]).indexOf(",")&&(e=e.split(",")[0]),Ai[e]&&"transform"!==e?(r=Hi(t,i),r="transformOrigin"!==e?r[e]:Vi(kn(t,Mi))+" "+r.zOrigin+"px"):(r=t.style[e])&&"auto"!==r&&!i&&!~(r+"").indexOf("calc(")||(r=Li[e]&&Li[e](t,e,n)||kn(t,e)||s(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?Nn(t,e,r,n)+n:r}function Vn(t,e,n,i){if(!n||"none"===n){var r=Pi(e,t,1),o=r&&kn(t,r,1);o&&o!==n?(e=r,n=o):"borderColor"===e&&(n=kn(t,"borderTopColor"))}var s,a,l,u,c,h,d,p,f,v,g,m,y=new un(this._pt,t.style,e,0,1,rn),b=0,A=0;if(y.b=n,y.e=i,n+="","auto"===(i+="")&&(t.style[e]=i,i=kn(t,e)||i,t.style[e]=n),lt(s=[n,i]),i=s[1],l=(n=s[0]).match(ee)||[],(i.match(ee)||[]).length){for(;a=ee.exec(i);)d=a[0],f=i.substring(b,a.index),c?c=(c+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(c=1),d!==(h=l[A++]||"")&&(u=parseFloat(h)||0,g=h.substr((u+"").length),(m="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),p=parseFloat(d),v=d.substr((p+"").length),b=ee.lastIndex-v.length,v||(v=v||Bt.units[e]||g,b===i.length&&(i+=v,y.e+=v)),g!==v&&(u=Nn(t,e,h,v)||0),y._pt={_next:y._pt,p:f||1===A?f:",",s:u,c:m?m*p:p-u,m:c&&c<4||"zIndex"===e?Math.round:0});y.c=b<i.length?i.substring(b,i.length):""}else y.r="display"===e&&"none"===i?An:bn;return ie.test(i)&&(y.e=0),this._pt=y}function Fn(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==i&&"right"!==i||(t=n,n=i,i=t),e[0]=Ii[n]||n,e[1]=Ii[i]||i,e.join(" ")}function jn(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,o=e.t,s=o.style,a=e.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",i=1;else for(r=(a=a.split(",")).length;-1<--r;)n=a[r],Ai[n]&&(i=1,n="transformOrigin"===n?Mi:ki),Ln(o,n);i&&(Ln(o,ki),l&&(l.svg&&o.removeAttribute("transform"),Hi(o,1),l.uncache=1))}}function Bn(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Un(t){var e=kn(t,ki);return Bn(e)?Di:e.substr(7).match(te).map(j)}function Wn(t,e){var n,i,r,o,s=t._gsap||H(t),a=t.style,l=Un(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Di:l:(l!==Di||t.offsetParent||t===$n||s.svg||(r=a.display,a.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,$n.appendChild(t)),l=Un(t),r?a.display=r:Ln(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):$n.removeChild(t))),e&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function zn(t,e,n,i,r,o){var s,a,l,u=t._gsap,c=r||Wn(t,!0),h=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,v=c[0],g=c[1],m=c[2],y=c[3],b=c[4],A=c[5],w=e.split(" "),S=parseFloat(w[0])||0,E=parseFloat(w[1])||0;n?c!==Di&&(a=v*y-g*m)&&(l=S*(-g/a)+E*(v/a)-(v*A-g*b)/a,S=S*(y/a)+E*(-m/a)+(m*A-y*b)/a,E=l):(S=(s=Rn(t)).x+(~w[0].indexOf("%")?S/100*s.width:S),E=s.y+(~(w[1]||w[0]).indexOf("%")?E/100*s.height:E)),i||!1!==i&&u.smooth?(b=S-h,A=E-d,u.xOffset=p+(b*v+A*m)-b,u.yOffset=f+(b*g+A*y)-A):u.xOffset=u.yOffset=0,u.xOrigin=S,u.yOrigin=E,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[Mi]="0px 0px",o&&(Dn(o,u,"xOrigin",h,S),Dn(o,u,"yOrigin",d,E),Dn(o,u,"xOffset",p,u.xOffset),Dn(o,u,"yOffset",f,u.yOffset)),t.setAttribute("data-svg-origin",S+" "+E)}function Gn(t,e,n){var i=Y(e);return j(parseFloat(e)+parseFloat(Nn(t,"x",n+"px",i)))+i}function qn(t,e,n,i,r,o){var s,a,l=360,u=E(r),c=parseFloat(r)*(u&&~r.indexOf("rad")?wi:1),h=o?c*o:c-i,d=i+h+"deg";return u&&("short"===(s=r.split("_")[1])&&(h%=l)!==h%180&&(h+=h<0?l:-l),"cw"===s&&h<0?h=(h+36e9)%l-~~(h/l)*l:"ccw"===s&&0<h&&(h=(h-36e9)%l-~~(h/l)*l)),t._pt=a=new un(t._pt,e,n,i,h,gn),a.e=d,a.u="deg",t._props.push(n),a}function Yn(t,e){for(var n in e)t[n]=e[n];return t}function Xn(t,e,n){var i,r,o,s,a,l,u,c=Yn({},n._gsap),h=n.style;for(r in c.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[ki]=e,i=Hi(n,1),Ln(n,ki),n.setAttribute("transform",o)):(o=getComputedStyle(n)[ki],h[ki]=e,i=Hi(n,1),h[ki]=o),Ai)(o=c[r])!==(s=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(a=Y(o)!==(u=Y(s))?Nn(n,r,o,u):parseFloat(o),l=parseFloat(s),t._pt=new un(t._pt,i,r,a,l-a,vn),t._pt.u=u||0,t._props.push(r));Yn(i,c)}Xe.version=je.version=fn.version="3.6.1",wt=1,e()&&ke();var Jn,Kn,$n,Qn,Zn,ti,ei,ni=Me.Power0,ii=Me.Power1,ri=Me.Power2,oi=Me.Power3,si=Me.Power4,ai=Me.Linear,li=Me.Quad,ui=Me.Cubic,ci=Me.Quart,hi=Me.Quint,di=Me.Strong,pi=Me.Elastic,fi=Me.Back,vi=Me.SteppedEase,gi=Me.Bounce,mi=Me.Sine,yi=Me.Expo,bi=Me.Circ,Ai={},wi=180/Math.PI,Si=Math.PI/180,Ei=Math.atan2,Ti=/([A-Z])/g,xi=/(?:left|right|width|margin|padding|x)/i,_i=/[\s,\(]\S/,Ci={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ki="transform",Mi=ki+"Origin",Oi="O,Moz,ms,Ms,Webkit".split(","),Pi=function t(e,n,i){var r=(n||Zn).style,o=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Oi[o]+e in r););return o<0?null:(3===o?"ms":0<=o?Oi[o]:"")+e},Ri={deg:1,rad:1,turn:1},Ii={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Li={clearProps:function t(e,n,i,r,o){if("isFromStart"!==o.data){var s=e._pt=new un(e._pt,n,i,0,0,jn);return s.u=r,s.pr=-10,s.tween=o,e._props.push(i),1}}},Di=[1,0,0,1,0,0],Ni={},Hi=function t(e,n){var i=e._gsap||new He(e);if("x"in i&&!n&&!i.uncache)return i;var r,o,s,a,l,u,c,h,d,p,f,v,g,m,y,b,A,w,S,E,T,x,_,C,k,M,O,P,R,I,L,D,N=e.style,H=i.scaleX<0,V="deg",F=kn(e,Mi)||"0";return r=o=s=u=c=h=d=p=f=0,a=l=1,i.svg=!(!e.getCTM||!In(e)),m=Wn(e,i.svg),i.svg&&(C=!i.uncache&&!n&&e.getAttribute("data-svg-origin"),zn(e,C||F,!!C||i.originIsAbsolute,!1!==i.smooth,m)),v=i.xOrigin||0,g=i.yOrigin||0,m!==Di&&(w=m[0],S=m[1],E=m[2],T=m[3],r=x=m[4],o=_=m[5],6===m.length?(a=Math.sqrt(w*w+S*S),l=Math.sqrt(T*T+E*E),u=w||S?Ei(S,w)*wi:0,(d=E||T?Ei(E,T)*wi+u:0)&&(l*=Math.abs(Math.cos(d*Si))),i.svg&&(r-=v-(v*w+g*E),o-=g-(v*S+g*T))):(D=m[6],I=m[7],O=m[8],P=m[9],R=m[10],L=m[11],r=m[12],o=m[13],s=m[14],c=(y=Ei(D,R))*wi,y&&(C=x*(b=Math.cos(-y))+O*(A=Math.sin(-y)),k=_*b+P*A,M=D*b+R*A,O=x*-A+O*b,P=_*-A+P*b,R=D*-A+R*b,L=I*-A+L*b,x=C,_=k,D=M),h=(y=Ei(-E,R))*wi,y&&(b=Math.cos(-y),L=T*(A=Math.sin(-y))+L*b,w=C=w*b-O*A,S=k=S*b-P*A,E=M=E*b-R*A),u=(y=Ei(S,w))*wi,y&&(C=w*(b=Math.cos(y))+S*(A=Math.sin(y)),k=x*b+_*A,S=S*b-w*A,_=_*b-x*A,w=C,x=k),c&&359.9<Math.abs(c)+Math.abs(u)&&(c=u=0,h=180-h),a=j(Math.sqrt(w*w+S*S+E*E)),l=j(Math.sqrt(_*_+D*D)),y=Ei(x,_),d=2e-4<Math.abs(y)?y*wi:0,f=L?1/(L<0?-L:L):0),i.svg&&(C=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Bn(kn(e,ki)),C&&e.setAttribute("transform",C))),90<Math.abs(d)&&Math.abs(d)<270&&(H?(a*=-1,d+=u<=0?180:-180,u+=u<=0?180:-180):(l*=-1,d+=d<=0?180:-180)),i.x=r-((i.xPercent=r&&(i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+"px",i.y=o-((i.yPercent=o&&(i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-o)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+"px",i.z=s+"px",i.scaleX=j(a),i.scaleY=j(l),i.rotation=j(u)+V,i.rotationX=j(c)+V,i.rotationY=j(h)+V,i.skewX=d+V,i.skewY=p+V,i.transformPerspective=f+"px",(i.zOrigin=parseFloat(F.split(" ")[2])||0)&&(N[Mi]=Vi(F)),i.xOffset=i.yOffset=0,i.force3D=Bt.force3D,i.renderTransform=i.svg?zi:ei?Wi:Fi,i.uncache=0,i},Vi=function t(e){return(e=e.split(" "))[0]+" "+e[1]},Fi=function t(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Wi(e,n)},ji="0deg",Bi="0px",Ui=") ",Wi=function t(e,n){var i=n||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.z,u=i.rotation,c=i.rotationY,h=i.rotationX,d=i.skewX,p=i.skewY,f=i.scaleX,v=i.scaleY,g=i.transformPerspective,m=i.force3D,y=i.target,b=i.zOrigin,A="",w="auto"===m&&e&&1!==e||!0===m;if(b&&(h!==ji||c!==ji)){var S,E=parseFloat(c)*Si,T=Math.sin(E),x=Math.cos(E);E=parseFloat(h)*Si,S=Math.cos(E),s=Gn(y,s,T*S*-b),a=Gn(y,a,-Math.sin(E)*-b),l=Gn(y,l,x*S*-b+b)}g!==Bi&&(A+="perspective("+g+Ui),(r||o)&&(A+="translate("+r+"%, "+o+"%) "),!w&&s===Bi&&a===Bi&&l===Bi||(A+=l!==Bi||w?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+Ui),u!==ji&&(A+="rotate("+u+Ui),c!==ji&&(A+="rotateY("+c+Ui),h!==ji&&(A+="rotateX("+h+Ui),d===ji&&p===ji||(A+="skew("+d+", "+p+Ui),1===f&&1===v||(A+="scale("+f+", "+v+Ui),y.style[ki]=A||"translate(0, 0)"},zi=function t(e,n){var i,r,o,s,a,l=n||this,u=l.xPercent,c=l.yPercent,h=l.x,d=l.y,p=l.rotation,f=l.skewX,v=l.skewY,g=l.scaleX,m=l.scaleY,y=l.target,b=l.xOrigin,A=l.yOrigin,w=l.xOffset,S=l.yOffset,E=l.forceCSS,T=parseFloat(h),x=parseFloat(d);p=parseFloat(p),f=parseFloat(f),(v=parseFloat(v))&&(f+=v=parseFloat(v),p+=v),p||f?(p*=Si,f*=Si,i=Math.cos(p)*g,r=Math.sin(p)*g,o=Math.sin(p-f)*-m,s=Math.cos(p-f)*m,f&&(v*=Si,a=Math.tan(f-v),o*=a=Math.sqrt(1+a*a),s*=a,v&&(a=Math.tan(v),i*=a=Math.sqrt(1+a*a),r*=a)),i=j(i),r=j(r),o=j(o),s=j(s)):(i=g,s=m,r=o=0),(T&&!~(h+"").indexOf("px")||x&&!~(d+"").indexOf("px"))&&(T=Nn(y,"x",h,"px"),x=Nn(y,"y",d,"px")),(b||A||w||S)&&(T=j(T+b-(b*i+A*o)+w),x=j(x+A-(b*r+A*s)+S)),(u||c)&&(a=y.getBBox(),T=j(T+u/100*a.width),x=j(x+c/100*a.height)),a="matrix("+i+","+r+","+o+","+s+","+T+","+x+")",y.setAttribute("transform",a),E&&(y.style[ki]=a)};v("padding,margin,Width,Radius",function(e,n){var t="Right",i="Bottom",r="Left",a=(n<3?["Top",t,i,r]:["Top"+r,"Top"+t,i+t,i+r]).map(function(t){return n<2?e+t:"border"+t+e});Li[1<n?"border"+e:e]=function(e,t,n,i,r){var o,s;if(arguments.length<4)return o=a.map(function(t){return Hn(e,t,n)}),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(i+"").split(" "),s={},a.forEach(function(t,e){return s[t]=o[e]=o[e]||o[(e-1)/2|0]}),e.init(t,s,r)}});var Gi,qi,Yi,Xi={name:"css",register:Mn,targetTest:function t(e){return e.style&&e.nodeType},init:function t(e,n,i,r,o){var s,a,l,u,c,h,d,p,f,v,g,m,y,b,A,w=this._props,S=e.style,E=i.vars.startAt;for(d in Qn||Mn(),n)if("autoRound"!==d&&(a=n[d],!ce[d]||!Be(d,n,i,r,e,o)))if(c=typeof a,h=Li[d],"function"===c&&(c=typeof(a=a.call(i,r,e,o))),"string"===c&&~a.indexOf("random(")&&(a=et(a)),h)h(this,e,d,a,i)&&(A=1);else if("--"===d.substr(0,2))s=(getComputedStyle(e).getPropertyValue(d)+"").trim(),a+="",xe.lastIndex=0,xe.test(s)||(p=Y(s),f=Y(a)),f?p!==f&&(s=Nn(e,d,s,f)+f):p&&(a+=p),this.add(S,"setProperty",s,a,r,o,0,0,d);else if("undefined"!==c){if(E&&d in E?(s="function"==typeof E[d]?E[d].call(i,r,e,o):E[d],d in Bt.units&&!Y(s)&&(s+=Bt.units[d]),"="===(s+"").charAt(1)&&(s=Hn(e,d))):s=Hn(e,d),u=parseFloat(s),(v="string"===c&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),l=parseFloat(a),d in Ci&&("autoAlpha"===d&&(1===u&&"hidden"===Hn(e,"visibility")&&l&&(u=0),Dn(this,S,"visibility",u?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==d&&"transform"!==d&&~(d=Ci[d]).indexOf(",")&&(d=d.split(",")[0])),g=d in Ai)if(m||((y=e._gsap).renderTransform&&!n.parseTransform||Hi(e,n.parseTransform),b=!1!==n.smoothOrigin&&y.smooth,(m=this._pt=new un(this._pt,S,ki,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===d)this._pt=new un(this._pt,y,"scaleY",y.scaleY,v?v*l:l-y.scaleY),w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){a=Fn(a),y.svg?zn(e,a,0,b,0,this):((f=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&Dn(this,y,"zOrigin",y.zOrigin,f),Dn(this,S,d,Vi(s),Vi(a)));continue}if("svgOrigin"===d){zn(e,a,1,b,0,this);continue}if(d in Ni){qn(this,y,d,u,a,v);continue}if("smoothOrigin"===d){Dn(this,y,"smooth",y.smooth,a);continue}if("force3D"===d){y[d]=a;continue}if("transform"===d){Xn(this,a,e);continue}}else d in S||(d=Pi(d)||d);if(g||(l||0===l)&&(u||0===u)&&!_i.test(a)&&d in S)l=l||0,(p=(s+"").substr((u+"").length))!==(f=Y(a)||(d in Bt.units?Bt.units[d]:p))&&(u=Nn(e,d,s,f)),this._pt=new un(this._pt,g?y:S,d,u,v?v*l:l-u,g||"px"!==f&&"zIndex"!==d||!1===n.autoRound?vn:yn),this._pt.u=f||0,p!==f&&(this._pt.b=s,this._pt.r=mn);else if(d in S)Vn.call(this,e,d,s,a);else{if(!(d in e)){x(d,a);continue}this.add(e,d,e[d],a,r,o)}w.push(d)}A&&ln(this)},get:Hn,aliases:Ci,getSetter:function t(e,n,i){var r=Ci[n];return r&&r.indexOf(",")<0&&(n=r),n in Ai&&n!==Mi&&(e._gsap.x||Hn(e,"x"))?i&&ti===i?"scale"===n?Tn:En:(ti=i||{})&&("scale"===n?xn:_n):e.style&&!o(e.style[n])?wn:~n.indexOf("-")?Sn:tn(e,n)},core:{_removeProperty:Ln,_getMatrix:Wn}};fn.utils.checkPrefix=Pi,Yi=v((Gi="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(qi="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){Ai[t]=1}),v(qi,function(t){Bt.units[t]="deg",Ni[t]=1}),Ci[Yi[13]]=Gi+","+qi,v("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");Ci[e[1]]=Yi[e[0]]}),v("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Bt.units[t]="px"}),fn.registerPlugin(Xi);var Ji=fn.registerPlugin(Xi)||fn,Ki=Ji.core.Tween;if(t.Back=fi,t.Bounce=gi,t.CSSPlugin=Xi,t.Circ=bi,t.Cubic=ui,t.Elastic=pi,t.Expo=yi,t.Linear=ai,t.Power0=ni,t.Power1=ii,t.Power2=ri,t.Power3=oi,t.Power4=si,t.Quad=li,t.Quart=ci,t.Quint=hi,t.Sine=mi,t.SteppedEase=vi,t.Strong=di,t.TimelineLite=je,t.TimelineMax=je,t.TweenLite=Xe,t.TweenMax=Ki,t.default=Ji,t.gsap=Ji,typeof window==="undefined"||window!==t){Object.defineProperty(t,"__esModule",{value:!0})}else{delete t.default}}(e)},function(t,e,n){"use strict";var i;function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){var e,r=[],o={frame:!1,slides:!1},s={SLIDE_ACCESSIBILITY:"slideAccessibility",MULTIPLE_QUIZ_TRACKING:"MultipleQuizTracking",MODERN_PLAYER_REFRESH:"ModernPlayerRefresh",MODERN_PLAYER_CUSTOM_BACKGROUND:"ModernPlayerCustomBackground"},a=(u(e={},s.MODERN_PLAYER_REFRESH,"modernPlayerRefreshEnabled"),u(e,s.MODERN_PLAYER_CUSTOM_BACKGROUND,"modernPlayerCustomBackgroundEnabled"),e);var l={};return{register:function(t,e,i){var n=this;o[t]||null==e||r.push.apply(r,e.filter(function(t){return n=i,(e=t)!==s.MODERN_PLAYER_REFRESH&&e!==s.MODERN_PLAYER_CUSTOM_BACKGROUND||!n||n.isUnified;var e,n})),o[t]=!0,_.every(o,function(t){return t})&&(r.forEach(function(t){n[a[t]]=!0,document.body.classList.add("ff-"+_.kebabCase(t))}),_.forEach(l,function(t,e){n.hasFlag(e)?n[t]=function(t,e,n){return Object.assign(t,n)}:n[t]=function(t,e,n){return Object.assign(t,e)}}),Object.freeze(this))},hasFlag:function(t){return r.includes(t)},constants:s}}.call(e,n,e,t))||(t.exports=i)},function(t,e,b){"use strict";var n;void 0===(n=function(t){var o=b(44),s=b(3),a=b(2),l=(b(1),b(83)),i=b(0);l=window.captionator;function u(t){return null!=t.captions()}function n(t){if(null!=t.isMediaVisible)return t.isMediaVisible();var e=t.isVideo(),n=e?t.props.playerProps.parent.get("isBaseLayer"):t.props.model.parent.get("isBaseLayer"),i=f.getCurrentWindowSlide().slideLayers().getTopMostLayer(),r=!!e&&t.props.slideObjectModel.getLayer()===i,o=t.props.slideVisible&&(t.props.objectVisible||n||r);return e?t.props.slideObjectModel.prop("HiddenByLayer")&&(o=!1):null!=i&&!0===n&&!0===i.get("pauseParent")&&(o=!1),o}function c(t){g=t,null!=p&&p.value()!==g?p.changeValue(g):a.trigger(s.captions.ENABLED,g)}function h(t){var e=t.getCueAsSource();return null!=e&&!i.isEmpty(e.trim())}var d,p,f,v={},g=!1,r=[],m='"Open Sans Full", Helvetica, Arial, sans-serif',y={};return{initialize:function(t,e,n,i){var r=e.getCaptionData().font;d=null!=r?['"',r,'", ',m].join(""):m,f=n,null!=i?(g=(p=i).value(),p.on("change:value",function(t){return c(t.value())}),g&&c(g)):g=!1,v={},t.filter(u).map(function(e){o.scriptSync("read",{id:"caption"},{url:e.captions(),success:function(t){null!=t&&(v[e.id]=l.parseCaptions(decodeURI(t.data)).filter(h))},error:function(t){console.error(t)}})}),a.on(s.slide.STARTED,this.checkHasCaptions),a.on(s.layer.PLAYING,this.checkHasCaptions),a.on(s.layer.STACKING_CHANGED,this.checkHasCaptions),a.on(s.captions.ENABLE,c)},toggleCaptioning:function(){g=p.value(),c(!g)},checkHasCaptions:function(){var t=f.getCurrentWindowSlide();if(null!=t&&!t.isMessageSlide()){var e=(y[t.id]||[]).some(n);a.trigger(e?s.captions.SHOW_BUTTON:s.captions.HIDE_BUTTON)}},isCaptionEnabled:function(){return g},mount:function(t,e){v[t.getAssetId()]&&(null==y[e]&&(y[e]=[]),y[e].push(t))},unmount:function(e,t){var n=i.findIndex(y[t],function(t){return t.getAssetId()===e.getAssetId()});-1!==n&&y[t].splice(n,1)},hasCaptions:function(t){return Array.isArray(t)||(t=[t]),t.some(function(t){return null!=v[t]})},getCaptions:function(t){return v[t]},getCaptionFont:function(){return d},excludeMedia:function(t){-1===r.indexOf(t)&&r.push(t)},includeMedia:function(t){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}.call(e,b,e,t))||(t.exports=n)},function(t,e){t.exports=THREE},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatMessage=function(t,e){var n=e.cmd;"fontSize"===n?t.style.fontSize=e.val+"px":"fontFamily"===n?(t.style.fontFamily="'"+e.val+"'",t.dataset.fontThemeType=e.fontThemeType):(document.execCommand("styleWithCSS",!1,!0),document.execCommand(n,!1,e.val));t.dispatchEvent(new Event("formatMessage"))},e.getSpanStyle=function(t,e){var n={};function i(e){n[e]=function(t){return t["text-decoration-line"].includes(e)}}i(c.UNDERLINE_TEXT_DECORATION),i(c.STRIKEOUT_TEXT_DECORATION);var r=function(t,e,n){var i=document.createNodeIterator(t.commonAncestorContainer,NodeFilter.SHOW_TEXT),r={},o=!0,s=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r[c]=void 0}}catch(t){s=!0,a=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}var h=void 0,d=!1;for(;i.nextNode();){if(!d){if(i.referenceNode!==t.startContainer)continue;d=!0}var p=window.getComputedStyle(i.referenceNode.parentElement);for(var f in r){var v=n.hasOwnProperty(f)?n[f](p):p[f];void 0===r[f]?r[f]=v:r[f]!=v&&(r[f]=null)}for(var g=!1,m=i.referenceNode.parentNode;null!=m&&!g;){if(m.nodeType===Node.ELEMENT_NODE){"OL"===m.nodeName?(void 0===h?h=b.ORDERED:h!==b.ORDERED&&(h=b.NONE),g=!0):"UL"===m.nodeName&&(void 0===h?h=b.UNORDERED:h!==b.UNORDERED&&(h=b.NONE),g=!0)}m=m.parentNode}if(g||(h=b.NONE),i.referenceNode===t.endContainer)break}return r[y]=h,r}(e,Object.values(c),n);function o(t,e){var n=r[t];return null==n?null:e(n)}var s=u(t.dataset.fontThemeType);{if(e.collapsed){var a=window.getComputedStyle(t);return{fontFamily:l(a["font-family"]),fontThemeType:s,fontSize:parseFloat(a["font-size"]),fontIsBold:document.queryCommandState("bold"),fontIsItalic:document.queryCommandState("italic"),fontIsUnderline:document.queryCommandState("underline"),fontIsStrikeout:document.queryCommandState("strikeThrough"),underlineStyle:void 0,foregroundColor:r[c.FOREGROUND_COLOR],backgroundColor:r[c.BACKGROUND_COLOR],underlineColor:r[c.TEXT_DECORATION_COLOR],listType:r[y]}}return{fontFamily:l(r[c.FONT_FAMILY]),fontThemeType:s,fontSize:o(c.FONT_SIZE,function(t){return parseFloat(t)}),fontIsBold:o(c.FONT_WEIGHT,function(t){return"700"===t}),fontIsItalic:o(c.FONT_STYLE,function(t){return"italic"===t}),fontIsUnderline:o(c.UNDERLINE_TEXT_DECORATION,function(t){return t}),fontIsStrikeout:o(c.STRIKEOUT_TEXT_DECORATION,function(t){return t}),underlineStyle:void 0,foregroundColor:r[c.FOREGROUND_COLOR],backgroundColor:r[c.BACKGROUND_COLOR],underlineColor:r[c.TEXT_DECORATION_COLOR],listType:r[y]}}},e.bottomUi=function(t){var e=t.reset,n=t.cancel,i=t.done;return'\n    <div class="three-bottom-ui">\n      <style>\n        .three-bottom-ui {\n          position: fixed;\n          width: 100%;\n          min-height: 20px;\n          padding-top: 20px;\n          background: none;\n          pointer-events: all;\n        }\n\n        .three-bottom-btn {\n          display: inline;\n          color: white;\n          border-radius: 20px;\n          padding: 1em;\n          border: none;\n          background: #949da5;\n          margin-left: 1em;\n          cursor: pointer;\n          min-width: 75px;\n          text-transform: uppercase;\n        }\n\n        .three-bottom-btn:hover {\n          background: #aab4bc;\n        }\n\n        .three-bottom-blue {\n          background: #4e82c7;\n        }\n\n        .three-bottom-blue:hover {\n          background: #329ae0;\n        }\n\n        .three-bottom-middle {\n          text-align: right;\n          width: calc(100% - 65px - 1em);\n          float: left;\n        }\n\n        .three-bottom-ui-reset {\n          float:left;\n          margin-left: 0;\n        }\n\n      </style>\n\n      <button class="three-bottom-ui-reset three-bottom-btn" data-ref>\n        <span>'+e+'</span>\n      </button>\n      <div class="three-bottom-middle">\n        <button class="three-bottom-ui-cancel three-bottom-btn" data-ref>\n          '+n+'\n        </button>\n\n        <button class="three-bottom-ui-done three-bottom-btn three-bottom-blue" data-ref>\n          '+i+"\n        </button>\n      </div>\n    </div>\n    "},e.crosshairsSvg=function(){return'\n  <style>\n    .three-crosshairs {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      width: 40%;\n    }\n    .three-crosshairs path {\n      vector-effect: non-scaling-stroke;\n    }\n\n    .three-lat-lon-pill {\n      position: absolute;\n      bottom: 30px;\n      left: 50%;\n      height: 32px;\n      padding: 0em;\n      border-radius: 500px;\n      transform: translateX(-50%);\n      background: rgba(0, 0, 0, 0.8);\n      color: white;\n      display: flex;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div {\n      flex-grow: 1;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div > div {\n      position: relative;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    .three-lat-lon-text {\n      flex-grow: 100;\n      text-align: center;\n      font-family: sans-serif;\n      text-shadow: 2px 2px rgba(0, 0, 0, 0.3);\n      margin-left: 1.5em;\n      margin-right: 1.5em;\n    }\n  </style>\n  <div class="three-crosshairs" data-ref>\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" viewBox="0 0 218 150">\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-linecap="square" transform="translate(-555 -428)">\n          <path d="M664 537c-18.777681 0-34-15.222319-34-34s15.222319-34 34-34 34 15.222319 34 34-15.222319 34-34 34zm0-11c12.702549 0 23-10.297451 23-23s-10.297451-23-23-23-23 10.297451-23 23 10.297451 23 23 23z"/>\n          <path stroke="#FFF" d="M664 537.5c-19.053824 0-34.5-15.446176-34.5-34.5s15.446176-34.5 34.5-34.5 34.5 15.446176 34.5 34.5-15.446176 34.5-34.5 34.5zm0-12c12.426407 0 22.5-10.073593 22.5-22.5s-10.073593-22.5-22.5-22.5-22.5 10.073593-22.5 22.5 10.073593 22.5 22.5 22.5z"/>\n          <path stroke="#000" stroke-linejoin="square" d="M664 536.5c18.501539 0 33.5-14.998461 33.5-33.5s-14.998461-33.5-33.5-33.5-33.5 14.998461-33.5 33.5 14.998461 33.5 33.5 33.5zm0-10c-12.978692 0-23.5-10.521308-23.5-23.5s10.521308-23.5 23.5-23.5 23.5 10.521308 23.5 23.5-10.521308 23.5-23.5 23.5z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 3.5v28h-3V.5h31v3h-28zM214.5 3.5v28h3V.5h-31v3h28z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 146.5v-28h-3v31h31v-3h-28zM214.5 146.5v-28h3v31h-31v-3h28z"/>\n        </g>\n        <path fill="#FFF" stroke="#000" d="M110.5 74.5h6v2h-6v6h-2v-6h-6v-2h6v-6h2v6z"/>\n      </g>\n    </svg>\n    </div>\n    <div class="three-lat-lon-pill" data-ref>\n      <div class="three-lat-lon-text" data-ref>\n        <div>Initial View: 0°, 0°</div>\n      </div>\n      <div class="three-lat-lon-line"></div>\n    </div>\n  '};var i=n(39),l=i.parseFontFamily,u=i.parseFontThemeType,c=(e.modes={DEFAULT:"default",ADD_MARKER:"addMarker",DRAWING_HOTSPOT:"drawingHotspot",SET_INITIAL_CAMERA_ANGLE:"setInitialCameraAngle",SET_CROP_IMAGE_MEDIA:"setCropImageMedia"},{FONT_FAMILY:"font-family",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",FONT_STYLE:"font-style",FOREGROUND_COLOR:"color",BACKGROUND_COLOR:"background-color",UNDERLINE_TEXT_DECORATION:"underline",STRIKEOUT_TEXT_DECORATION:"line-through",TEXT_DECORATION_COLOR:"text-decoration-color"}),y="list-type",b={NONE:"none",ORDERED:"ordered",UNORDERED:"unordered"};e.BOTTOM_UI_HEIGHT=120},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.IMAGE_MEDIA_TYPE="image",e.VIDEO_MEDIA_TYPE="video",e.AUDIO_MEDIA_TYPE="audio",e.ALL_MEDIA_TYPE="all",e.NO_MEDIA_TYPE="none",e.FOCUS_ON_TITLE="title",e.FOCUS_ON_BODY="body",e.FOCUS_ON_IMAGE="image",e.FOCUS_ON_VIDEO="video",e.FOCUS_ON_AUDIO="audio",e.FOCUS_ON_NONE="none"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),i=n(4).math.TWO_PI,r=n(1),s=e.LEFT_MOUSE_BUTTON_INDEX=0,a=e.RIGHT_MOUSE_BUTTON_INDEX=2;e.angle=function(t,e,n,i){return Math.atan2(e-i,t-n)},e.angleDiff=function(t,e){for(var n=e-t;n<-Math.PI;)n+=i;for(;n>Math.PI;)n-=i;return n},e.getPinchDistance=function(t){var e=t.touches;return 1===e.length?1:r.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)},e.backTextureSettings=function(t,e,n){t.anisotropy=n,t.minfilter=THREE.LinearMipMapLinearFilter,t.magfilter=THREE.LinearFilter,e.transparent=!0,e.blending=THREE.CustomBlending,e.blendEquation=THREE.AddEquation,e.blendSrc=THREE.SrcAlphaFactor,e.blendDst=THREE.OneMinusSrcAlphaFactor,e.depthTest=!1,e.depthWrite=!1},e.textureSettings=function(t,e,n){t.anisotropy=n,t.minfilter=THREE.LinearMipMapLinearFilter,t.magfilter=THREE.LinearFilter,e.transparent=!0,e.blending=THREE.CustomBlending,e.blendSrc=THREE.OneFactor,e.blendDst=THREE.OneMinusSrcAlphaFactor,e.depthTest=!1,e.depthWrite=!1},e.isPanelBody=function(t){return t.classList.contains("panel-body")},e.isPanelTitle=function(t){return t.classList.contains("panel-title")},e.adjustVariable=function(t,e,n){var i={operator:"set",value:{type:"number",value:e}},r=o.resolvePath(t);null!=r&&r.adjust(i,{context:n.model})},e.createBoundingBoxEl=function(){var t=document.createElement("div");return t.classList.add("three-sixty-image-bb"),Object.assign(t.style,{position:"absolute",left:0,top:0,width:"30px",height:"30px",border:"none",display:"none"}),t.innerHTML='\n    <div class="box-handle box-handle-tl"></div>\n    <div class="box-handle box-handle-tr"></div>\n    <div class="box-handle box-handle-br"></div>\n    <div class="box-handle box-handle-bl"></div>\n\n\n    <div class="box-handle non-uniform box-handle-l" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-t" data-axis="y"></div>\n    <div class="box-handle non-uniform box-handle-r" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-b" data-axis="y"></div>\n  ',t},e.touchify=function(t,e){var n=void 0,i=void 0,r=!1;return null!=t.touches&&0<t.touches.length?(n=t.touches[0].clientX,i=t.touches[0].clientY,1<t.touches.length&&(r=!0)):(n=t.clientX,i=t.clientY),null!=e.sceneRect&&(n-=e.sceneRect.left,i-=e.sceneRect.top,n*=window.innerWidth/e.sceneRect.width,i*=window.innerHeight/e.sceneRect.height),{pageX:n,pageY:i,gesture:r}},e.isLeftClickOrTouch=function(t){return null!=t.button&&t.button===s||null!=t.touches&&1===t.touches.length},e.isRightClick=function(t){return null!=t.button&&t.button===a}},function(t,e,o){"use strict";var n;void 0===(n=function(t){var n=o(0),i=o(2),r=o(9).throwError("subscribable");return{componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){for(var t in this.resetSubscriptions(),this.subscriptions)this.subscriptions.hasOwnProperty(t)&&this.addSubscription(t,this.subscriptions[t]);return this},addSubscription:function(t,e){return n.isFunction(this[e])||r("addSubscription","this."+e,"is not a defined callback."),this.addSubscribedEvent(t).listenTo(i,t,this[e]),this},addSubscribedEvent:function(t){return this.subscribedEvents.push(t),this},removeSubscriptions:function(){return n.each(n.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(t,e){var n=this.subscribedEvents.indexOf(t);return this.stopListening(i,t,this[e]),-1<n&&this.subscribedEvents.splice(n,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}}}.call(e,o,e,t))||(t.exports=n)},function(t,e,o){"use strict";var n;void 0===(n=function(t){var s=o(0),e=o(35),n="abcdefghijklmnopqrstuvwxyz",a=s.union(s.range(10).map(function(t){return t.toString()}),n.split(""),n.toUpperCase().split(""),"_$".split("")),i=/([^a-zA-Z0-9_$])/,l=e.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(){var t,e=1,n=0;"~"===this.fullString().charAt(0)&&(n=2,e=parseInt(this.fullString().charAt(1))),t=n+e,this.encodedLength(this.fullString().slice(n,t)),this.strLength(parseInt(l.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(t,t+this.strLength())),this.remainder(this.fullString().slice(t+this.strLength()))},getDecodedValue:function(t){var e=this.encodedString();return i.test(e)||(e=l[t](e)),e},reChunk:function(){return new l({fullString:this.remainder()})}}),r=l.prototype;return r.getSignedValue=s.partial(r.getDecodedValue,"fromSignedString64"),r.getUnsignedValue=s.partial(r.getDecodedValue,"fromUnsignedString64"),l.EMPTY_CHUNK=0,l.create=function(t){null==t&&(t="");var e="",n=t.toString().length,i=l.toUnsignedString64(n);return 63<n&&(e+="~"+i.length),e+=i+t},l.packData=function(t){return[l.create(l.toUnsignedString64(t.length)),t].join("")},l.toUnsignedString64=function(t,e,n){var i="",r=!0,o=t;for(n=n||l.EMPTY_CHUNK;0<o||r;)r=!1,i+=a[63&o],o>>=6;return i+=s.times(e-i.length,s.partial(s.identity,n)).join("")},l.toSignedString64=function(t,e){var n,i=t,r=t<0,o=1,s=0;for(e=e||-1;Math.pow(64,o)/2<=Math.abs(t);)o++;if(n=Math.max(e,o),r){for(;-t>=Math.pow(64,s)/2;)s++;i=Math.pow(64,s)+t}return l.toUnsignedString64(i,n,r?"$":"0")},l.toSignedFloatString64=function(t,e){if(t%1==0||s.isNaN(t))return l.toSignedString64(t,e);var n,i=Math.min(3,(n=t,Math.floor(n)!==n&&n.toString().split(".")[1].length||0)),r=Math.trunc(t*Math.pow(10,i));return l.toSignedString64(r)+"-"+i.toString()},l.fromUnsignedString64=function(t){return t.toString().split("").reduce(function(t,e,n){var i;return t+=(i=e,a.indexOf(i)<<6*n)},0)},l.fromSignedString64=function(t){var e=l.fromUnsignedString64(t.toString()),n=Math.pow(64,t.length)/2;return n<=e&&(e-=2*n),e},l.fromSignedFloatString64=function(t){if(!t.includes("-"))return l.fromSignedString64(t);var e=t.split("-");return l.fromSignedString64(e[0])/Math.pow(10,Number(e[1]))},l}.call(e,o,e,t))||(t.exports=n)},function(t,e,g){"use strict";var n;void 0===(n=function(t){function n(t){t.style.display="inline-block",e.browser.isSafariMac&&(t.style.willChange=""),t.style.display="",e.browser.isSafariMac&&(t.style.willChange="contents")}var s=g(0),i=g(17),e=g(5),a=g(3),r=g(27),o=g(56),l=g(19),u=g(28),c=g(8),h=g(1),d=g(2),p=/[\r\n\t]|  +/g,f=e.browser.isIE&&!e.browser.isEdge,v={transformZ:"",feDropShadow:!0,tspanFilters:!0};e.browser.isWebKit&&(v.forceSingleRepaint=function(t){n(t)},v.forceRepaint=function(t,e){return i.to(t,e,{onUpdate:function(){n(t)},onComplete:function(){n(t)}})},v.fixTspan=function(t){var e=h.getPath(t,"x","").split(" ").length;return s.isString(t.y)||(t.y=s.times(e,s.constant(t.y)).join(" ")),t},v.handleWillChange=function(t){t.willChange="opacity"}),e.browser.isChrome&&(v.handleWillChange=function(t){t.willChange=""}),f&&(v.getDxAdjustment=function(t){return t.runs.reduce(function(t,e){return t+e.spans.reduce(function(t,e){return t+s.sum(e.dx)},0)},0)/2},v.fixFontFallbacks=function(t){t.splice(1,0,'"not a font name"')}),v.fixStyleString=f?function(t){return t.replace(p,"")}:function(t){return t},e.browser.isIE&&(v.tspanFilters=!1,v.feDropShadow=!1,v.forceSingleRepaint=function(t){n(t)},o.patchEvents(),v.mouseOver=function(){return"mouseover"},v.elementsFromPoint=function(t,e,n){return s(document.msElementsFromPoint(t,e)).filter(n).value()},v.forceLayoutLtr=function(t){t.direction="ltr",t.unicodeBidi="bidi-override"},v.removeCharPositions=function(t){return r.isTspanNode(t)&&(t.x=[s.first(t.x.split(" "))]),t},v.stopColorProps=function(t){return{stopColor:h.toRgba(t.rgb,t.alpha)}});return e.os.isIosPhoneBefore10&&(v.buildCaptionTracks=function(t,e){var n,i,r,o;l.hasCaptions(e)&&(n=t,null!=(i=l.getCaptions(e))&&0<i.length&&((r=n.addTextTrack("captions",u.getString("closed_captions"),"")).mode=l.isCaptionEnabled()?"showing":"hidden",i.forEach(function(t){(o=new window.VTTCue(t.startTime,t.endTime,t.text.cueSource)).line=12,r.addCue(o)})))},v.onCaptionsEnabled=function(t){d.on(a.captions.ENABLE,t)},v.offCaptionsEnabled=function(t){d.off(a.captions.ENABLE,t)}),e.os.isAndroid&&(v.getAudioInitEvent=function(){return"click"}),e.os.isIOS&&(v.transformZ=" translateZ(0)",v.destroyAudioContext=s.noop,v.detectVisibilityChange=function(){var i,r=(new Date).getTime(),o=!1,s=!1;setInterval(function(){var t=(new Date).getTime(),e=t-r,n=o;r=t,o=900<=e,!n&&o?i=t:n&&o&&!s&&2e3<=t-i?(s=!0,d.trigger(a.detection.VISIBILITY_HIDDEN)):n&&!o&&(s=!1,d.trigger(a.detection.VISIBILITY_SHOWN))},500)},v.onOpenWindow=function(t,e,n){var i=h.getPath(e,"eventType"),r=h.getPath(e,"context.currView.el");"onpress"===i&&null!=r?r.addEventListener("touchend",function t(){n(),r.removeEventListener("touchend",t)}):n()},v.handleWillChange=function(t){t.willChange="unset"},e.browser.isUIWebView&&(v.registerAudioInitEvent=function(t,e,n,i){if(i.props.model.isKind("button"))return[{teardown:t(e,"click",function(){return!0},n)}]},v.getAudioInitEvent=function(){return"click"})),e.browser.isFF,(e.browser.isChrome||e.device.isMobile||e.browser.isSafariMac)&&(v.transformZ=" translateZ(0)"),v.moveHtmlTextOutOfSvg=function(t){function n(t){return"variableText"===t.nodeType||"accessibleText"===t.nodeType}function e(t){var e;return i=i.concat((e=t,s.remove(e.children,n))),t}var i=[];return e.afterFinish=function(t){if(0===i.length)return t;var e={nodeType:"div",className:"textlib-wrapper"};return e.children=i.slice(),e.children.push(t),e},r.transformNodeConfig(e,t)},v.unwrapForeignObjectVarText=function(t){return t.children[0]},null==document.fonts&&(v.loadFonts=function(t,o){return c.when.apply(c,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.map(function(e){var n=c.Deferred(),i=Date.now(),r=s.times(3,function(){var t=document.createElement("div");return s.extend(t.style,{display:"inline-block",fontSize:"40px",left:0,pointerEvents:"none",posistion:"absolute",top:0,visibility:"hidden",whiteSpace:"nowrap"}),t.setAttribute("aria-hidden","true"),t.innerText="BESbswy",document.body.appendChild(t),t});r[0].style.fontFamily=e.name+", serif",r[1].style.fontFamily=e.name+", sans-serif",r[2].style.fontFamily=e.name+", monospace";return function t(){s.uniq(r.map(s.property("offsetWidth"))).length<=2?n.resolve():1e3<=Date.now()-i?n.reject('Timed out loading "'+e.name+'"'):setTimeout(t,50)}(),n.promise().always(function(){r.forEach(function(t){null!=t.parentNode&&t.parentNode.removeChild(t)})}).catch(o("loadFonts"))})))}),v}.call(e,g,e,t))||(t.exports=n)},function(t,e,i){"use strict";var n;void 0===(n=function(t){function e(t,e,n){var i,r,o=(r=s.slice(arguments,3),function(){return s.toArray(arguments).concat(r)});return i=e.apply(null,o(n)),i=t.apply(null,o(o,e,i,n))}var s=i(0),a=i(1),n=i(4),l=i(38),u=n.XMLNS_XLINK,c=n.XMLNS,h=n.math.TWO_PI,r=s.partial(e,function(n,i,t){return t.children&&!t.children.skipTraversal&&(t.children=t.children.map(function(t){if(s.isString(t))return t;var e=n(i,t);return r.apply(null,e)})),t}),d={isNodeOfType:function(t,e){var n;return e&&(n=e.tagName||e.nodeType),!!n&&t.toLowerCase()===n.toLowerCase()},svgPrefix:function(t){return[n.SVG_NODE_PREFIX,t].join(n.NODE_DELIMITER)},buildTransformFromConfigFn:function(t){var e=t.args.slice();return e.unshift(t.type),d.buildTransformFn.apply(this,e)},buildTransformFn:function(t){for(var e=arguments.length,n=new Array(e),i=0;i<e;++i)n[i]=arguments[i];return[t,"(",s.rest(n).join(", "),")"].join("")},buildTransformConfig:function(t){return{type:t,args:s.rest(arguments)}},applyTransformTo:function(t,e){return t.transform=[e],t},getTransformOf:function(t){return t.transform=t.transform||[],t.transform},transformNodeConfig:function(t,e){s.isFunction(t.beforeStart)&&t.beforeStart();var n=r.apply(null,arguments);return s.isFunction(t.afterFinish)&&(n=t.afterFinish(n)),n},getFromNodeConfig:s.partial(e,function(i,r,o,t){return null!=o&&!1!==o||!t.children||t.children.every(function(t){var e=i(r,t),n=d.getFromNodeConfig.apply(null,e);return null==n||!1===n||(o=n,!1)}),o}),getFullSvgConfig:function(t,e,n,i){var r={height:(e.fullHeight+Math.ceil(e.strokewidth/2))*i,width:(e.fullWidth+Math.ceil(e.strokewidth/2))*i},o={nodeType:"svg",xmlns:c,"xmlns:xlink":u,"data-xmlns-xlink":u,version:"1.1",baseprofile:"full",height:e.fullHeight*i,width:e.fullWidth*i,focusable:"false",viewBox:[e.fullX,e.fullY,e.fullWidth,e.fullHeight].join(" "),children:[t],"data-commandset-id":n,"data-accepts":"events",ref:s.uniqueId("ref-")};return r[l.camelCase("transform")]=d.transformTranslate(a.pxify(e.fullX*i),a.pxify(e.fullY*i)),{nodeType:"div",className:"slideobject-maskable",style:r,children:[o]}},createSvgNode:function(t,e){var n=document.createElementNS(c,"svg");return n.setAttribute("width",t),n.setAttribute("focusable","false"),n.setAttribute("height",e),n},getFirstTransformOfType:function(t,e){return s.find(e,{type:t})},buildUrl:function(t){return["url(#",t,")"].join("")},createElement:function(t){return document.createElementNS(c,t)},rectPath:function(t,e,n,i){var r=t+n,o=e+i;return["M",t,e,"L",r,e,r,o,t,o].join(" ")},ellipsePath:function(t,e,n,i){var r=2*n;return["M",t,e,"m",-n,0,"a",n,i,0,1,0,r,0,"a",n,i,0,1,0,-r,0].join(" ")},diamondPath:function(t,e,n,i){var r=n/2+t,o=i/2+e;return["M",r,e,"L",n+t,o,r,i+e,t,o].join(" ")},rightRoundedRectPath:function(t,e,n,i,r){return["M",t,e,"h",n-r,"a",r,r,"0 0 1",r,r,"v",i-2*r,"a",r,r,"0 0 1",-r,r,"h",r-n,"z"].join(" ")},wheelPath:function(t,e,n,i,r,o){if(!r)return"";i=a.degToRad(i),(r=a.degToRad(r))===h&&(r=h-1e-5);var s=r-i>Math.PI?1:0;return["M",t,e,"l",a.fix(n*Math.cos(i),4),a.fix(n*Math.sin(i),4),"A",n,n,0,o?0:s,o?0:1,a.fix(t+n*Math.cos(r),4),a.fix(e+n*Math.sin(r),4),"z"].join(" ")}};return d.getFirstTranslate=s.partial(d.getFirstTransformOfType,"translate"),d.getFirstRotate=s.partial(d.getFirstTransformOfType,"rotate"),d.getFirstScale=s.partial(d.getFirstTransformOfType,"scale"),d.buildTranslateConfig=s.partial(d.buildTransformConfig,"translate"),d.buildRotateConfig=s.partial(d.buildTransformConfig,"rotate"),d.buildScaleConfig=s.partial(d.buildTransformConfig,"scale"),d.isImageNode=s.partial(d.isNodeOfType,"image"),d.isPatternNode=s.partial(d.isNodeOfType,"pattern"),d.isDefsNode=s.partial(d.isNodeOfType,"defs"),d.isUseNode=s.partial(d.isNodeOfType,"use"),d.isPathNode=s.partial(d.isNodeOfType,"path"),d.isTextNode=s.partial(d.isNodeOfType,"text"),d.isTspanNode=s.partial(d.isNodeOfType,"tspan"),d.transformScale=s.partial(d.buildTransformFn,"scale"),d.transformRotate=s.partial(d.buildTransformFn,"rotate"),d.transformTranslate=s.partial(d.buildTransformFn,"translate"),d.transformTranslateX=s.partial(d.buildTransformFn,"translateX"),d.scaleFromCenter=function(t,e){return null==e&&(e=t),[d.transformTranslate(.5,.5),d.transformScale(t,e),d.transformTranslate(-.5,-.5)].join(" ")},d.getDefsNode=s.partial(d.getFromNodeConfig,function(t){if(d.isDefsNode(t))return t}),d}.call(e,i,e,t))||(t.exports=n)},function(t,e,o){"use strict";var n;void 0===(n=function(t){var n=o(9),i=o(4),r=void 0;return{initialize:function(t){r=t},reInit:function(t){r.frame.stringTables[r.currLayout.string_table].string=t},getString:function(t){var e=r&&(t===i.strings.PROJECT_TITLE?r.title.text:r.getString(t));return null==e&&(e=t.replace(/_/g," "),n.throwErrorSoft("getString","could not resolve the string",n.backtick(t))),e}}}.call(e,o,e,t))||(t.exports=n)},function(t,e,n){var i;i=function(){var T=!0;function s(n){function t(t){var e=n.match(t);return e&&1<e.length&&e[1]||""}function e(t){var e=n.match(t);return e&&1<e.length&&e[2]||""}var i,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),o=!/like android/i.test(n)&&/android/i.test(n),s=/nexus\s*[0-6]\s*/i.test(n),a=!s&&/nexus\s*[0-9]+/i.test(n),l=/CrOS/.test(n),u=/silk/i.test(n),c=/sailfish/i.test(n),h=/tizen/i.test(n),d=/(web|hpw)(o|0)s/i.test(n),p=/windows phone/i.test(n),f=(/SamsungBrowser/i.test(n),!p&&/windows/i.test(n)),v=!r&&!u&&/macintosh/i.test(n),g=!o&&!c&&!h&&!d&&/linux/i.test(n),m=e(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),y=t(/version\/(\d+(\.\d+)?)/i),b=/tablet/i.test(n)&&!/tablet pc/i.test(n),A=!b&&/[^-]mobi/i.test(n),w=/xbox/i.test(n);/opera/i.test(n)?i={name:"Opera",opera:T,version:y||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(n)?i={name:"Opera",opera:T,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||y}:/SamsungBrowser/i.test(n)?i={name:"Samsung Internet for Android",samsungBrowser:T,version:y||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(n)?i={name:"NAVER Whale browser",whale:T,version:t(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(n)?i={name:"MZ Browser",mzbrowser:T,version:t(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(n)?i={name:"Opera Coast",coast:T,version:y||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(n)?i={name:"Focus",focus:T,version:t(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(n)?i={name:"Yandex Browser",yandexbrowser:T,version:y||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(n)?i={name:"UC Browser",ucbrowser:T,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(n)?i={name:"Maxthon",maxthon:T,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(n)?i={name:"Epiphany",epiphany:T,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(n)?i={name:"Puffin",puffin:T,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(n)?i={name:"Sleipnir",sleipnir:T,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(n)?i={name:"K-Meleon",kMeleon:T,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:p?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:T},m?(i.msedge=T,i.version=m):(i.msie=T,i.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(n)?i={name:"Internet Explorer",msie:T,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:T,chromeBook:T,chrome:T,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(n)?i={name:"Microsoft Edge",msedge:T,version:m}:/vivaldi/i.test(n)?i={name:"Vivaldi",vivaldi:T,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||y}:c?i={name:"Sailfish",osname:"Sailfish OS",sailfish:T,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(n)?i={name:"SeaMonkey",seamonkey:T,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(n)?(i={name:"Firefox",firefox:T,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(n)&&(i.firefoxos=T,i.osname="Firefox OS")):u?i={name:"Amazon Silk",silk:T,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(n)?i={name:"PhantomJS",phantom:T,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(n)?i={name:"SlimerJS",slimer:T,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(n)||/rim\stablet/i.test(n)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:T,version:y||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(i={name:"WebOS",osname:"WebOS",webos:T,version:y||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(n)&&(i.touchpad=T)):/bada/i.test(n)?i={name:"Bada",osname:"Bada",bada:T,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:h?i={name:"Tizen",osname:"Tizen",tizen:T,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||y}:/qupzilla/i.test(n)?i={name:"QupZilla",qupzilla:T,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||y}:/chromium/i.test(n)?i={name:"Chromium",chromium:T,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||y}:/chrome|crios|crmo/i.test(n)?i={name:"Chrome",chrome:T,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?i={name:"Android",version:y}:/safari|applewebkit/i.test(n)?(i={name:"Safari",safari:T},y&&(i.version=y)):r?(i={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},y&&(i.version=y)):i=/googlebot/i.test(n)?{name:"Googlebot",googlebot:T,version:t(/googlebot\/(\d+(\.\d+))/i)||y}:{name:t(/^(.*)\/(.*) /),version:e(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(n)?(/(apple)?webkit\/537\.36/i.test(n)?(i.name=i.name||"Blink",i.blink=T):(i.name=i.name||"Webkit",i.webkit=T),!i.version&&y&&(i.version=y)):!i.opera&&/gecko\//i.test(n)&&(i.name=i.name||"Gecko",i.gecko=T,i.version=i.version||t(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!o&&!i.silk?!i.windowsphone&&r?(i[r]=T,i.ios=T,i.osname="iOS"):v?(i.mac=T,i.osname="macOS"):w?(i.xbox=T,i.osname="Xbox"):f?(i.windows=T,i.osname="Windows"):g&&(i.linux=T,i.osname="Linux"):(i.android=T,i.osname="Android");var S="";i.windows?S=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?S=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?S=(S=t(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):r?S=(S=t(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):o?S=t(/android[ \/-](\d+(\.\d+)*)/i):i.webos?S=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?S=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?S=t(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(S=t(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(i.osversion=S);var E=!i.windows&&S.split(".")[0];return b||a||"ipad"==r||o&&(3==E||4<=E&&!A)||i.silk?i.tablet=T:(A||"iphone"==r||"ipod"==r||o||s||i.blackberry||i.webos||i.bada)&&(i.mobile=T),i.msedge||i.msie&&10<=i.version||i.yandexbrowser&&15<=i.version||i.vivaldi&&1<=i.version||i.chrome&&20<=i.version||i.samsungBrowser&&4<=i.version||i.whale&&1===x([i.version,"1.0"])||i.mzbrowser&&1===x([i.version,"6.0"])||i.focus&&1===x([i.version,"1.0"])||i.firefox&&20<=i.version||i.safari&&6<=i.version||i.opera&&10<=i.version||i.ios&&i.osversion&&6<=i.osversion.split(".")[0]||i.blackberry&&10.1<=i.version||i.chromium&&20<=i.version?i.a=T:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=T:i.x=T,i}var a=s("undefined"!=typeof navigator&&navigator.userAgent||"");function i(t){return t.split(".").length}function r(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function x(t){for(var n=Math.max(i(t[0]),i(t[1])),e=r(t,function(t){var e=n-i(t);return r((t+=new Array(1+e).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});0<=--n;){if(e[0][n]>e[1][n])return 1;if(e[0][n]!==e[1][n])return-1;if(0===n)return 0}}function o(t,e,n){var i=a;"string"==typeof e&&(n=e,e=void 0),void 0===e&&(e=!1),n&&(i=s(n));var r=""+i.version;for(var o in t)if(t.hasOwnProperty(o)&&i[o]){if("string"!=typeof t[o])throw new Error("Browser version in the minVersion map should be a string: "+o+": "+String(t));return x([r,t[o]])<0}return e}return a.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in a)return!0}return!1},a.isUnsupportedBrowser=o,a.compareVersions=x,a.check=function(t,e,n){return!o(t,e,n)},a._detect=s,a.detect=s,a},t.exports?t.exports=i():n(68)("bowser",i)},function(t,e,a){"use strict";var n;void 0===(n=function(t){function e(t,e){var n,i,r=s[t],o=e.mixins.slice(0);for(i=o.length;i--;)null!=(n=o[i])[t]&&n[t].call(e),null!=n[r]&&n[r].call(e);return this}var n=a(0),s={init:"componentWillMount"},i=["preInit","init","postInit"],r=n.partialRight(n.omit,i),o={mixInto:function(t,e){return n.defaults.apply(n,n(e).map(r).unshift(t).value()),t},mix:function(t){return this.mixInto(t,t.mixins),t}};return i.forEach(function(t){o[t+"MixinsOf"]=n.partial(e,t)}),o}.call(e,a,e,t))||(t.exports=n)},function(t,e,n){
/*!
 * EasePack 3.6.1
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function r(){return b||"undefined"!=typeof window&&(b=window.gsap)&&b.registerPlugin&&b}function m(t,e){return!!(void 0===t?e:t&&!~(t+"").indexOf("false"))}function e(t){if(b=t||r()){s=b.registerEase;var e,n=b.parseEase(),i=function t(n){return function(t){var e=.5+t/2;n.config=function(t){return n(2*(1-t)*t*e+t*t)}}};for(e in n)n[e].config||i(n[e]);for(e in s("slow",a),s("expoScale",l),s("rough",u),c)"version"!==e&&b.core.globals(e,c[e])}}function n(t,e,n){var i=(t=Math.min(1,t||.7))<1?e||0===e?e:.7:0,r=(1-t)/2,o=r+t,s=m(n);return function(t){var e=t+(.5-t)*i;return t<r?s?1-(t=1-t/r)*t:e-(t=1-t/r)*t*t*t*e:o<t?s?1===t?0:1-(t=(t-o)/r)*t:e+(t-e)*(t=(t-o)/r)*t*t*t:s?1:e}}function i(e,t,n){var i=Math.log(t/e),r=t-e;return n=n&&b.parseEase(n),function(t){return(e*Math.exp(i*(n?n(t):t))-e)/r}}function y(t,e,n){this.t=t,this.v=e,n&&(((this.next=n).prev=this).c=n.v-e,this.gap=n.t-t)}function o(t){"object"!=typeof t&&(t={points:+t||20});for(var e,n,i,r,o,s,a,l=t.taper||"none",u=[],c=0,h=0|(+t.points||20),d=h,p=m(t.randomize,!0),f=m(t.clamp),v=b?b.parseEase(t.template):0,g=.4*(+t.strength||1);-1<--d;)e=p?Math.random():1/h*d,n=v?v(e):e,i="none"===l?g:"out"===l?(r=1-e)*r*g:"in"===l?e*e*g:e<.5?(r=2*e)*r*.5*g:(r=2*(1-e))*r*.5*g,p?n+=Math.random()*i-.5*i:d%2?n+=.5*i:n-=.5*i,f&&(1<n?n=1:n<0&&(n=0)),u[c++]={x:e,y:n};for(u.sort(function(t,e){return t.x-e.x}),s=new y(1,1,null),d=h;d--;)o=u[d],s=new y(o.x,o.y,s);return a=new y(0,0,s.t?s:s.next),function(t){var e=a;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(a=e).v+(t-e.t)/e.gap*e.c}}var b,s,a=n(.7);(a.ease=a).config=n;var l=i(1,2);l.config=i;var u=o();(u.ease=u).config=o;var c={SlowMo:a,RoughEase:u,ExpoScaleEase:l};for(var h in c)c[h].register=e,c[h].version="3.6.1";if(r()&&b.registerPlugin(a),t.EasePack=c,t.ExpoScaleEase=l,t.RoughEase=u,t.SlowMo=a,t.default=c,typeof window==="undefined"||window!==t){Object.defineProperty(t,"__esModule",{value:!0})}else{delete t.default}}(e)},function(t,e,n){
/*!
 * CSSRulePlugin 3.6.1
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function n(){return"undefined"!=typeof window}function i(){return r||n()&&(r=window.gsap)&&r.registerPlugin&&r}function c(){return o||(e(),a||console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)")),o}var r,o,h,a,e=function t(e){r=e||i(),n()&&(h=document),r&&(a=r.plugins.css)&&(o=1)},s={version:"3.6.1",name:"cssRule",init:function t(e,n,i,r,o){if(!c()||void 0===e.cssText)return!1;var s=e._gsProxy=e._gsProxy||h.createElement("div");this.ss=e,this.style=s.style,s.style.cssText=e.cssText,a.prototype.init.call(this,s,n,i,r,o)},render:function t(e,n){for(var i,r=n._pt,o=n.style,s=n.ss;r;)r.r(e,r.d),r=r._next;for(i=o.length;-1<--i;)s[o[i]]=o[o[i]]},getRule:function t(e){c();var n,i,r,o,s=h.all?"rules":"cssRules",a=h.styleSheets,l=a.length,u=":"===e.charAt(0);for(e=(u?"":",")+e.split("::").join(":").toLowerCase()+",",u&&(o=[]);l--;){try{if(!(i=a[l][s]))continue;n=i.length}catch(e){console.warn(e);continue}for(;-1<--n;)if((r=i[n]).selectorText&&-1!==(","+r.selectorText.split("::").join(":").toLowerCase()+",").indexOf(e)){if(!u)return r.style;o.push(r.style)}}return o},register:e};if(i()&&r.registerPlugin(s),t.CSSRulePlugin=s,t.default=s,typeof window==="undefined"||window!==t){Object.defineProperty(t,"__esModule",{value:!0})}else{delete t.default}}(e)},function(t,e,o){"use strict";var n;void 0===(n=function(t){var e=o(0),n=o(3),i=o(2),r={callbacks:[],endFrameCallbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),lastEndFrameTime:0,currentTime:0,locks:[],locked:!1,waitingLock:!1,clockOverridden:!1,overrideClock:function(t){this.clockOverridden=!0,this.frameTimeMs=t},requestAnimationFrame:function(t,e){e?this.endFrameCallbacks.push(t):this.callbacks.push(t),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||this.clockOverridden||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var t=e.uniqueId("lock-");return this.locks.push(t),this.locked=!0,t},unlock:function(t){e.pull(this.locks,t),this.locked=0<this.locks.length,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var t=Date.now(),e=t-this.lastCpuTime;return this.lastCpuTime=t,132<e&&(e=33),this.currentTime+=this.clockOverridden?this.frameTimeMs:e,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||this.clockOverridden||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},requestEndFrameTick:function(){this.frameRequested||this.clockOverridden||(this.frameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)this.waitingLock=!0;else{var t=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,0<this.callbacks.length&&this.executeCallbacks(),0<this.endFrameCallbacks.length&&(33<=this.currentTime-this.lastEndFrameTime?(this.lastEndFrameTime=this.currentTime,this.executeCallbacks(!0)):this.requestEndFrameTick()),t?this.requestStaleFrame():this.timeStale=!0}},executeCallbacks:function(t){var e,n;t?(e=this.endFrameCallbacks.slice(0),this.endFrameCallbacks=[]):(e=this.callbacks.slice(0),this.callbacks=[]),n=e.length;for(var i=0;i<n;i++)e[i](this.frameTime)}};return i.on([n.detection.VISIBILITY_SHOWN,n.detection.VISIBILITY_HIDDEN].join(" "),r.updateTime.bind(r)),r}.call(e,o,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){n(17);return n(17),n(31),n(32),TimelineLite}.call(e,n,e,t))||(t.exports=i)},function(t,e,g){"use strict";var n;void 0===(n=function(t){g(72);function i(){}var r=g(11),o=g(0),s=g(3),e=g(9),n=g(24),a=g(48),l=g(36),u=g(49),c=g(30),h=g(1),d=e.throwError("BaseModel"),p=h.createSuper(r.Model),f=r.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[n,a,l,u],autoParse:!1,isModel:!0,constructor:function(t,e){o.bindAll(this,"createAbsoluteId");var n=this.initialize;this.initialize=i,this.autoParse&&((e=e||{}).parse=!0),r.Model.call(this,t,e),this.on(s.data.UPDATED,this.createAbsoluteId),this.createParentReference(e).buildAssociations().bindAssociations().createAbsoluteId(),c.initMixinsOf(this),this.initialize=n,this.initialize.apply(this,arguments),c.postInitMixinsOf(this)},index:function(){return this.collection||d("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(t){return this.collection||d("sibling","must have a `collection` defined"),t=t||0,this.collection.at(this.index()+t)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(t){return h.isTrue(t)?h.cloneDeeply(this):p("toJSON").call(this)},buildAssociations:function(){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.buildAssociation(t);return this},buildAssociation:function(t,e){var n=e||this.get(t),i={parent:this},r=this.associations[t];return n instanceof r||(this.attributes[t]=h.buildDataStructure(r,i,n)),this},bindAssociation:function(r){return this.on("change:"+r,function(t,e,n){var i=this.previous(r);o.isFunction(i.set)?(i.set(e,{parent:this}),i.trigger(s.data.UPDATED),i.isCollection&&i.invoke("trigger",s.data.UPDATED),this.set(r,i,{silent:!0})):this.buildAssociation(r,e)}),this},bindAssociations:function(){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.bindAssociation(t);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var t=this,e=[this.id];t=t.parent;)t.id&&e.push(t.id);return e.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId()},isType:function(t){return this.get("type")===t},isKind:function(t){return this.get("kind")===t}});f.addAssociation=function(t,e){this.prototype.associations.hasOwnProperty(t)||(this.prototype.associations[t]=e,this.shorthandify(t))};var v=f.extend;return f.extend=function(){var t=v.apply(this,arguments);return t.prototype.associations=o.extend({},t.prototype.associations,this.prototype.associations),t.shorthandify().shorthandify(o.keys(t.prototype.associations)),t},f}.call(e,g,e,t))||(t.exports=n)},function(t,e,r){"use strict";var n;void 0===(n=function(t){function n(t,e){return i.contains(i.values(e.associations),t)}var i=r(0),e={isAncestral:!0,createParentReference:function(t){return t&&t.parent&&(this.parent=t.parent),this},getClosestAncestor:function(t,e){for(var n=e?this:this.parent;n&&!t(n);)n=n.parent;return n},getClosestAncestorWithAssoc:function(t){var e=i.partial(n,t);return this.getClosestAncestor(e)},getClosestAncestorByAttr:function(e,n,t){return this.getClosestAncestor(function(t){return t.get(e)===n},t)},forEachAncestor:function(t,e){for(var n=e?this:this.parent,i=0;null!=n;){if(!1===t(n,i++))return;n=n.parent}}};return e.getClosestAncestorByKind=i.partial(e.getClosestAncestorByAttr,"kind"),e}.call(e,r,e,t))||(t.exports=n)},function(t,e,l){"use strict";var n;void 0===(n=function(t){var e,n,r=l(0),i=l(1),o=l(8),s=l(25),a={initialize:function(){var t,e,n={},i=window.vRestoreStateData;if(this.hasData=!r.isEmpty(i),this.hasData){for(t=new s({fullString:i}),this.resumeData=t.encodedString(),t=t.reChunk(),e=(t=new s({fullString:t.encodedString()})).encodedString();0<e.length;)t=t.reChunk(),n[e]=t.encodedString(),e=(t=t.reChunk()).encodedString();this.slideStateData=n}},setResumer:function(t){e=t},setWindowManager:function(t){n=t},getSlideStateData:function(t){if(this.hasData)return this.slideStateData[i.stripPlayer(t)]},clearSlideStateData:function(t){this.slideStateData[i.stripPlayer(t)]=null},getState:function(){return r.map([s.packData(e.collectResumeData()),this.getActiveSlideStates()],s.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var t=o.Deferred();return t.resolve(),t.promise()},setItem:r.noop,setResumer:r.noop}},getActiveSlideStates:function(){return n.windows.map(function(t){var e=t.getCurrentSlide();return null==e?"":(e.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),r.map([i.stripPlayer(e.absoluteId),e.getResumeData()],s.create).join(""))}).join("")}};return a.initialize(),a}.call(e,l,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){n(84);var i={};return{camelCase:function(t){var e,n=i[t]||(e=t,PrefixFree.prefixCSS(e+":").replace(":","").replace(/-(.)/g,function(t,e){return e.toUpperCase()}));return i[t]=n},kebabCase:function(t){return PrefixFree.prefix+t}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={},i={},o=e.imgBuffer=document.createElement("canvas");e.imgBufferCtx=o.getContext("2d");o.width=o.height=256;e.parseFontFamily=function(t){return null==t?null:t.split(",")[0].replace(/['"]+/g,"")},e.parseFontThemeType=function(t){return null==t?"none":t},e.svgHtmlIcon=function(t){var e=t;return i[e]||(i[e]=window.atob(t.replace("data:image/svg+xml;base64, ",""))),i[e]},e.svgImageIcon=function(t,e){var n=t;if(r[n])e(r[n]);else{var i=new Image;i.crossOrigin="Anonymous",i.src=t,i.addEventListener("load",function(){r[n]=i,e(i)})}};var s=e.unpackHex=function(t){if("transparent"===t)return{r:0,g:0,b:0,a:0};if("white"===t)return{r:255,g:255,b:255,a:1};var e=parseInt(t.replace("#","0x"),16);return{r:e>>16&255,g:e>>8&255,b:255&e,a:1}},a=e.packRgb=function(t,e){var n=!(1<arguments.length&&void 0!==e)||e,i=[t.r,t.g,t.b].map(function(t){return Math.round(t)});return n?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+t.a+")":"#"+(i=i.map(function(t){var e=t.toString(16);return 1===e.length&&(e="0"+e),e}))[0]+i[1]+i[2]},l=(e.overlayColor=function(t,e,n){var i=s(t),r=s(e);return a({r:n*i.r+(1-n)*r.r,g:n*i.g+(1-n)*r.g,b:n*i.b+(1-n)*r.b,a:n*i.a+(1-n)*r.a},!1)},e.easeColor=function(t,e){t.r+=(e.r-t.r)/6,t.g+=(e.g-t.g)/6,t.b+=(e.b-t.b)/6,t.a+=(e.a-t.a)/6;var n=Math.abs(t.r-e.r)<1&&Math.abs(t.g-e.g)<1&&Math.abs(t.b-e.b)<1&&Math.abs(t.a-e.a)<1;return n&&l(t,e),n},e.setColor=function(t,e){t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PAD_SCALE=.8,e.Z_INDEX_MID=9999},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.freeNavigation=function(t,e){return"\n    <style>\n      .three-free {\n        position: absolute;\n        bottom: 30px;\n        left: 50%;\n        height: 40px;\n        padding: 0em;\n        border-radius: 500px;\n        transform: translateX(-50%);\n        background: "+e+";\n        color: "+t+';\n        display: flex;\n        pointer-events: all;\n        box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.15);\n        padding: 1em;\n      }\n    </style>\n    <div class="three-navigation three-free">\n      <div class="three-nav-content" data-ref>\n        1 of 5 viewed\n      </div>\n    </div>\n  '},e.guidedNavigtion=function(t,e,n){return"\n    <style>\n      .three-guided {\n        position: absolute;\n        bottom: 30px;\n        height: 44px;\n        left: 50%;\n        transform: translateX(-50%);\n        color: "+t+";\n        background: "+e+";\n        min-width: 135px;\n        border-radius: 20px;\n        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n        display: flex;\n        pointer-events: all;\n      }\n\n      .three-guided div {\n        flex-grow: 1;\n      }\n\n      .three-guided svg {\n        display: inline-block !important;\n        margin-top: 2px;\n      }\n\n      .three-guided div > div {\n        position: relative;\n        text-align:center;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .three-guided-left-btn svg {\n        transform: scale(-1);\n      }\n\n      .three-guided-left-btn,\n      .three-guided-right-btn {\n        min-width: 30px;\n        cursor: pointer;\n        pointer-events: all;\n        transition: all 100ms ease-out;\n      }\n\n      .three-guided-left-btn:hover,\n      .three-guided-right-btn:hover {\n        transform: translateY(1px) scale(1.2);\n      }\n\n      .three-guided-left-btn path,\n      .three-guided-right-btn path {\n        stroke: "+n+' !important;\n      }\n\n      .three-guided-disabled {\n        cursor: normal;\n        pointer-events: none;\n      }\n\n      .three-guided-disabled path {\n        cursor: normal;\n        pointer-events: none;\n        stroke: #777 !important;\n      }\n    </style>\n    <div class="three-navigation three-guided" data-ref>\n      <div class="three-guided-left-btn" data-ref>\n        <div>'+i+'</div>\n      </div>\n      <div class="three-guided-nav-text">\n        <div class="three-nav-content" data-ref>1 of 5 viewed</div>\n      </div>\n      <div class="three-guided-right-btn" data-ref>\n        <div>'+i+"</div>\n      </div>\n    </div>\n  "};e.navigation={FREE:"free",GUIDED:"guided",NONE:"none"};var i='\n  <svg width="10" height="14" viewBox="0 0 9 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path opacity="0.9" d="M1.71347 12.2864L7.28638 6.78638L1.71347 1.28638" stroke="#777" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>\n'},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,r){"use strict";(function(t){var e;void 0===(e=function(t){var u=r(0),e=r(11),c=r(8),h="Could not fetch model",d={},i={origSync:e.sync,scriptSync:function(t,e,n){var i,r,s,o=n.url||u.result(e,"url"),a=c.Deferred(),l=a.promise();return o?(i=e.id||(r=o,u.first(u.last(r.split("/")).split("."))),s=o,new Promise(function(t,e){function n(){i.removeEventListener("load",r),i.removeEventListener("error",o),document.head.removeChild(i),i.src="",i=null}var i=document.createElement("script"),r=function(){t(),n()},o=function(){e(),n()};i.addEventListener("load",r),i.addEventListener("error",o),i.src=s,document.head.appendChild(i)}).then(function(){var t=d[i];d[i]=null,n.success(t),a.resolve(t)}).catch(function(){n.error(h),a.reject(h)})):a.reject("Must provide a url to fetch model"),l},sync:function(t,e,n){return i["read"===t?"scriptSync":"origSync"].apply(this,arguments)}};return e.sync=i.sync,window.globalProvideData=function(t,e){var n=JSON.parse(e),i="slide"===t?n.id:t;d[i]=n},i}.call(n,r,n,t))||(t.exports=e)}).call(this,r(43)(t))},function(t,e,i){"use strict";var n;void 0===(n=function(t){var e=i(0),n=i(5);return{formatSrcUrl:n.env.isFileProtocol&&n.browser.isIE?function(t){return n.browser.isIE10?"file://"+t:document.location.origin+t}:e.identity}}.call(e,i,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(){return window.AudioContext||window.webkitAudioContext||null}.call(e,n,e,t))||(t.exports=i)},function(t,e,i){"use strict";var n;void 0===(n=function(t){var e=i(2),n=i(3);return{initialize:function(t,e,n){this.debugMode=void 0!==t&&t.get("debugMode"),this.setGlobals(t,e,n)},setGlobals:function(t,e,n){this.debugMode&&(window.presentation=t,window.player=e,window.app=n)},throwError:function(){!0===this.debugMode&&e.trigger(n.player.ERROR)}}}.call(e,i,e,t))||(t.exports=n)},function(t,e,o){"use strict";var n;void 0===(n=function(t){var e=o(0),n=o(36),i=o(10),r=n.getClosestAncestor;return{resolvePath:function(t){return i.resolvePath(t,this.getClosestThisRef())},getClosestParentRef:e.partial(r,function(t){return t.abilities.resolveAsParent}),getClosestThisRef:e.partial(r,function(t){return t.abilities.resolveAsThis},!0),getClosestEventTarget:e.partial(r,function(t){return t.abilities.beEventTarget},!0),getChildren:function(){return this.objects().slice()}}}.call(e,o,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){function u(e,t){return c.mapValues(t,function(t){return e[t]})}var c=n(0),e=n(9),h=e.warn("shortEventable")("bindShortEvents"),d=e.backtick;return{componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var t,e,n,i,r,o,s,a=Object.keys(this.shortEvents||{}),l=a.length;for(i=0;i<l;i++){if(e="self"===(t=a[i])?this:(s=void 0,(s=(r=this)[o=t])?c.isFunction(s)?s.call(r):s:r.get?r.get(o):r.props&&r.props[o]),n=u(this,this.shortEvents[t]),!e)return void h("Cannot listen to undefined object",d(t));this.listenTo(e,n)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,S){"use strict";var n;void 0===(n=function(t){function r(t){return t.match(/.{2}/g)}function e(t){return t.getViewGroupId()}var a,i,l,o,s=S(0),n=S(13),u=S(3),c=S(2),h=S(75),d=S(77),p=S(79),f=S(82),v=S(25),g=S(8),m=S(9),y=S(5),b=S(37),A=S(53),w=(m.warn("resumer"),{viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,hasOverlay:!1,initialize:function(t,e){return s.bindAll(this,"savePresentationData"),i=(a=t).resume()||{},this.resumeDfd=g.Deferred(),this.hasOverlay=e,this.resumeDfd.catch(function(){this.setViewedSlidesFromString("")}.bind(this)),b.setResumer(this),this.setProperLms(),c.on(u.player.CLOSING,this.closePlayer.bind(this)),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=g.Deferred().resolve().promise(),this.setListeners().checkAndReject()),this.resumeDfd.promise()},isResumable:function(){return!!o},setProperLms:function(){var t=a.get("scoring"),e=a.scorings()||[],n=a.get("courseId");return this.hasLms=!0,0===e.length&&null!=t&&e.push(t),0<e.length?window.globals.tinCanPresent||y.env.isRise?o=h.initialize(n,a.get("tincanVersion"),e,a,y.env.isRise):window.globals.aoSupport?o=d.initialize(n,e.first()):window.globals.lmsPresent?(o=p.initialize(n,e,window.globals.cmi5Present),this.hasLms=this.isResumable()):!0===i.flashresume?(this.hasLms=!1,o=f.getStorage()):b.shouldShimLMS()?(this.hasLms=!1,o=b.getLMSShim()):this.hasLms=!1:this.hasLms=!1,y.env.isWebObject&&null!=o&&(o=A.getResumer(o)),null==o||!this.hasLms||i.lmsresume&&!y.env.isRise||this.neverResumeLms(o),this},neverResumeLms:function(t){t.setItem=s.noop,t.getItem=function(){var t=g.Deferred();return t.resolve(),t.promise()}},informExternals:function(){return o.setResumer(this),this},setListeners:function(){var t={};return t[u.slide.VIEWED]=this.slideViewed.bind(this),t[u.slideWindow.CLEAR_HISTORY]=this.clearResumeData.bind(this),t[u.actionlink.EVENT]=this.onActionLink.bind(this),this.hasLms&&(t[u.interaction.EVALUATED]=this.onInteractionEvaluated,t[u.quiz.COMPLETED]=o.quizComplete.bind(o),t[u.course.COMPLETED]=o.courseComplete.bind(o),t[u.course.MANUALLY_COMPLETED]=o.manualCourseComplete.bind(o),t[u.course.VIEWED]=o.viewedComplete.bind(o),t[u.status.UPDATED]=o.reportStatus.bind(o),s.isFunction(o.quizRetried)&&(t[u.quiz.RETRIED]=o.quizRetried.bind(o))),c.on(t),this},onInteractionEvaluated:function(t,e){var n=a.scorings();(t.hasScoring()||0<n.length&&n.hasQuiz(t))&&o.interactionAnswered(t,e)},closePlayer:function(){a.isPreview()?c.trigger(u.preview.NOTIFY,"PREVIEW_CLOSE_WND"):null!=o&&s.isFunction(o.lmsUnload)?o.lmsUnload(!0):window.top.window.open("","_self","").close()},setWindowManager:function(t){l=t,b.setWindowManager(t),null!=this.lmsDfd&&this.lmsDfd.then(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=a.scenes().map(function(t,e){return v.EMPTY_CHUNK}),this},callForLightboxClose:function(){return c.trigger(u.window.CLOSING,i.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),c.trigger(u.resume.SET_DATA,this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),c.trigger(u.resume.SET_DATA),this},check:function(e){(this.hasOverlay||y.theme.isClassic||!y.deviceView.isDesktop||this.mobileStartAsPrompt)&&(this.hasOverlay||y.deviceView.isPhone&&y.env.isDevicePreview||y.device.isMobile||!y.theme.isClassic&&!a.isPreview())?((y.deviceView.isMobile||y.theme.isUnified)&&DS.renderEngine.createMobileStartOverlay(),n.getAppCompletePromise().then(function(){var t=y.deviceView.isClassicDesktop?e:{rejectDeferred:e,mobileStartAsPrompt:this.mobileStartAsPrompt};c.trigger(u.request.START,t)}.bind(this))):e()},initResumeData:function(){this.lmsDfd=o.getItem(i.id).then(function(t){var e=!1;b.hasData&&(t=b.resumeData),null!=t&&t.length&&(e=this.processResumeData(t)),e?i.prompt&&!y.theme.isClassic?(this.mobileStartAsPrompt=!0,this.checkAndResolve()):this.checkApplyResumeData():this.checkAndReject()}.bind(this))},processResumeData:function(t){var e,n=!1,i=new v({fullString:t});return(e=i).remainder().length===e.getUnsignedValue()?(this.resumeData=i.reChunk(),n=!0):m.warn("processResumeData","the data is the incorrect length, resume not attempted"),n},checkApplyResumeData:function(){return i.prompt&&!b.hasData&&n.getAppCompletePromise().then(function(){c.trigger(u.request.NEXT_SLIDE,i.slideId,i.window)}),this},checkQuickResume:function(){null==this.resumeData||i.prompt&&!b.hasData||this.checkAndResolve()},applyResumeData:function(t){var e=t?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[e]()},slideViewed:function(t){t.get("trackViews")&&(this.addSlideToViewedList(t),this.hasLms&&o.slideViewed(t))},onActionLink:function(t){var e=s.findIndex(a.get("actionlinks"),{id:t});-1!==e&&(this.viewedActionLinks[t]=e)},addSlideToViewedList:function(t){this.viewedSlides.push(t),this.viewedSlides=s.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=s.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce(function(t,e){return t+v.toUnsignedString64(e.prop("Index")+1,2)},"")},setViewedSlidesFromString:function(t){if(t.length){var n=a.getFlatSlides(),e=a.get("scoring"),i=a.scorings();0===i.length&&null!=e&&i.push(e),this.totalViewedSlides=s(r(t)).map(v.fromUnsignedString64).map(function(e){var t=s.find(n,function(t){return t.prop("Index")===e-1});return null!=t&&(i.incrementViewed(t),t.restoreViewed()),t}.bind(this)).compact().value()}this.hasLms&&a.getDrawPromise().then(function(){o.setTotalSlides(a.getUniqueSlides().length)})},getUniqueSlides:function(t){return s.uniq(this[t],e)},getViewedActionLinksString:function(){return s.reduce(this.viewedActionLinks,function(t,e){return t+v.toUnsignedString64(e,2)},"")},setViewedActionLinksFromString:function(t){if(0<t.length){var i=a.get("actionlinks");null!=i&&(this.viewedActionLinks=r(t).map(v.fromUnsignedString64).reduce(function(t,e){var n=i[e];return null!=n&&(t[n.id]=e),t},{}))}},collectResumeData:function(){return[v.create(this.getViewedSlidesString()),v.create(l.getResumeData()),0<a.variables().length?v.create(a.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),a.quizzes().getResumeData(),0<a.timers().length?a.timers().getResumeData():"",v.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(t){if(!this.isResumable()||g.isPending(this.resumeDfd))return this;var e=l.getCurrentWindowSlide();this.saveSceneData(t),null!=e&&(this.resumeData=this.collectResumeData(),o.setItem(i.id,v.packData(this.resumeData)))},saveSceneData:function(t){null!=t&&(this.sceneResume[t.index()]=v.create(t.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.then(this.setResumeData.bind(this)).catch(s.noop),this},setResumeData:function(){var t,e,n=this.resumeData.encodedString(),i=0<a.variables().length,r=this.resumeData.reChunk(),o=i?r.reChunk():null,s=i?o.reChunk():r.reChunk();i&&a.variables().setResumeData(o.encodedString()),t=this.setSceneResumeData(s),a.createSlideIndices(),this.setViewedSlidesFromString(n),e=a.quizzes().setResumeData(t),0<a.timers().length&&a.timers().setResumeData(e),this.setViewedActionLinksFromString(e.encodedString()),l.setResumeData(r.encodedString())},setSceneResumeData:function(n){return this.sceneResume=a.scenes().map(function(t){var e=n.encodedString();return t.setResumeData(e),n=n.reChunk(),v.create(e)}),n},courseStarted:function(t){this.courseStartTime=Date.now(),this.hasLms&&o.courseStarted(t)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){a.scenes().forEach(function(t){t.clearResumeData()}),a.getUniqueSlides().forEach(function(t){t.clearResumeData()}),l.setResumeData(""),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&o.setItem(i.id,"")}});return w.getUniqueViewedSlides=s.partial(w.getUniqueSlides,"viewedSlides"),w.getUniqueTotalSlides=s.partial(w.getUniqueSlides,"totalViewedSlides"),w.checkAndReject=s.partial(w.check,w.rejectDeferred.bind(w)),w.checkAndResolve=s.partial(w.check,w.resolveDeferred.bind(w)),w}.call(e,S,e,t))||(t.exports=n)},function(t,e,p){"use strict";var n;void 0===(n=function(t){var n=p(78),r=function(t,e,n){for(var i=0,r=t.length,o=3==arguments.length?n:t[i++];i<r;)o=e.call(null,o,t[i],++i,t);return o},i="undefined"==typeof window?this||self:window;function u(){}function c(t){switch({}.toString.call(t)){case"[object File]":case"[object Blob]":case"[object FormData]":return 1;default:return}}d.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var h="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function o(t){return t===Object(t)}function e(t){if(!o(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){for(var e,n={},i=t.split("&"),r=0,o=i.length;r<o;++r)e=i[r].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function a(t,e){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(t){var e,n,i,r,o=t.split(/\r?\n/),s={};o.pop();for(var a=0,l=o.length;a<l;++a)e=(n=o[a]).indexOf(":"),i=n.slice(0,e).toLowerCase(),r=h(n.slice(e+1)),s[i]=r;return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function l(t,e){var i=this;n.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new a(i)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,i.callback(e)}if(i.emit("response",t),e)return i.callback(e,t);if(200<=t.status&&t.status<300||0===t.status)return i.callback(e,t);var n=new Error(t.statusText||"Unsuccessful HTTP response");n.original=e,n.response=t,n.status=t.status,i.callback(e||n,t)})}function d(t,e){return"function"==typeof e?new l("GET",t).end(e):1==arguments.length?new l("GET",t):new l(t,e)}return d.serializeObject=e,d.parseString=s,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":e,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},a.prototype.get=function(t){return this.header[t.toLowerCase()]},a.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=e.split(/ *; */).shift();var n=r(e.split(/ *; */),function(t,e){var n=e.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(t[i]=r),t},{});for(var i in n)this[i]=n[i]},a.prototype.parseBody=function(t){var e=d.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},a.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},a.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=e,r.url=n,r},d.Response=a,n(l.prototype),l.prototype.use=function(t){return t(this),this},l.prototype.timeout=function(t){return this._timeout=t,this},l.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},l.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},l.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},l.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},l.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},l.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},l.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},l.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},l.prototype.query=function(t){return"string"!=typeof t&&(t=e(t)),t&&this._query.push(t),this},l.prototype.field=function(t,e){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e),this},l.prototype.attach=function(t,e,n){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e,n),this},l.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||c(t)||n||this.type("json"),this},l.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},l.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},l.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},l.prototype.withCredentials=function(){return this._withCredentials=!0,this},l.prototype.end=function(t){var e=this,n=this.xhr=d.getXHR(),i=this._query.join("&"),r=this._timeout,o=this._formData||this._data;this._callback=t||u,n.onreadystatechange=function(){if(4==n.readyState){try{n.status}catch(t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};function s(t){0<t.total&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)}this.hasListeners("progress")&&(n.onprogress=s);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=s)}catch(t){}if(r&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},r)),i&&(i=d.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!c(o)){var a=d.serialize[this.getHeader("Content-Type")];a&&(o=a(o))}for(var l in this.header)null!=this.header[l]&&n.setRequestHeader(l,this.header[l]);return this.emit("request",this),n.send(o),this},d.Request=l,d.get=function(t,e,n){var i=d("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},d.head=function(t,e,n){var i=d("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.del=function(t,e){var n=d("DELETE",t);return e&&n.end(e),n},d.patch=function(t,e,n){var i=d("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.post=function(t,e,n){var i=d("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.put=function(t,e,n){var i=d("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d}.call(e,p,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={presentation:null,player:null};return Object.seal(e),e}.call(e,n,e,t))||(t.exports=i)},function(t,e,y){"use strict";var n;void 0===(n=function(t){var e,i,r=y(0),n=y(13),o=y(5),s=y(1),a=y(9),l=y(3),u=y(2),c=y(8),h=y(54),d=c.Deferred(),p=a.throwError("webObjectHelper"),f=!1;u.once(l.data.INITIALIZED,function(){f=!0}),d.catch(function(t){return t});function v(){return d.then(function(){return i.request("getResumeData").then(function(t){return t}).catch(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))})}var g={setVolume:function(t){n.setVolume(t)},executeFilteredPlayerEvent:function(t){if(!f)throw new Error("data is not yet initialized");e.executeFilteredPlayerEvent(m(t),"onhostevent")}},m=function(e){return function(t){return t.eventname===e||t.eventName===e}};return{initialize:function(t){e=t,o.env.isWebObject?((i=new h(g,s.queryStringToObj().id)).ready().then(d.resolve),i.connect(window.parent)):d.reject()},tearDown:function(){null!=i&&i.tearDown()},triggerHostEvent:function(t){if(void 0===i)throw Error("triggerHostEvent - postMessaging has not been initialized");return i.request("triggerHostEvent",t)},getResumer:function(n){return r.extend({},n,{getItem:v,setItem:function(t,e){return function(t){i.request("setResumeData",t).catch(p.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))}(e),n.setItem.apply(n,arguments)}})}}}.call(e,y,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){function f(t){var e,n=m.throwError("PostMessaging");if(null!=t.data){try{e=JSON.parse(t.data)}catch(t){return}var i;if(null!=(i=e)&&null!=i.id&&null!=i.type&&-1!==r.indexOf(i.type))null!=b[e.connectionId]?b[e.connectionId](e,t):n("No listener exists for connectionId: ",e.connectionId)}}var v,g=n(8),m=n(9),y=n(6).addWindowListener,b={},A="request",w="response",r=[A,w];return function(o,t){function s(t,e,n,i,r){var o=++h,s=g.Deferred(),a={type:e,connectionId:p};return c[o]=s,e===A?(a.method=n,a.params=i,a.id=o):(a.id=n,a.data=i,a.status=null!=r?r:"SUCCESS"),t.postMessage(JSON.stringify(a),"*"),s.always(function(){delete c[o]}).catch(function(t){delete c[o],u(t.message)}),s.promise()}function a(i){e=function(t,e){return d.then(function(){return s(i,A,t,e)})},l=function(t,e,n){return d.then(function(){return s(i,w,t,e,n)})}}var e,l,n,i,r,u=m.throwError("PostMessaging"),c={},h=0,d=g.Deferred(),p=t;null==v&&(v=y("message",f,!1)),r=function(e,t){var n,i,r;if(e.type===A)if("connect"===e.method)a(t.source),s(t.source,w,e.id),d.resolve();else if(null!=o[e.method])try{i=o[e.method].apply(void 0,Array.isArray(e.params)?e.params:[e.params]),null!=(r=i)&&"function"==typeof r.then?i.then(function(t){l(e.id,t)}):l(e.id,i)}catch(t){l(e.id,t.message,"ERROR")}else l(e.id,["No handler for this method ",e.method].join(""),"ERROR");else{if(null!=(n=c[e.id]))return void("SUCCESS"===e.status?n.resolve(e.data,t):n.reject(e.data,t));l(e.id,["No pending requests for this response id ",e.id].join(""),"ERROR")}},b[i=p]=r,n=function(){delete b[i]},this.ready=function(){return d},this.connect=function(t){return a(t),s(t,A,"connect").then(d.resolve),d},this.request=function(){if(null!=e)return e.apply(void 0,arguments);u("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){n(),_.isEmpty(Object.keys(b))&&null!=v&&(v(),v=null)}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,s){"use strict";var n;void 0===(n=function(t){var r=s(0),e=s(11),n=s(24),i=(s(2),s(1)),o=s(10);return r.extend({initialize:function(){this.addSubscriptions()},ensureSlideIsSlide:function(t){return t.isScene&&(t=this.getStartingSlide(t)),t.isSlideDraw&&(t=i.getPath(t.slides(),"first")),t},getSlide:function(t,e){var n=o.isRelativePath(t)?e:DS.presentation,i=o.resolvePath(t,n,{optional:!0});return null!=i&&(i=this.ensureSlideIsSlide(i)),i},getRef:function(t){var e=DS.presentation.slideMap().slideRefs();return e.get(t.fullId())||e.get(t.id)},getStartingSlide:function(t){return o.resolvePath(t.startingSlide(),DS.presentation)},getEntrypoint:function(){return DS.presentation.entryPoint()},loadSlide:function(t,e){var n=r.isString(t)?this.getSlide(t,e):t,i=n.load(this.getRef(n));return DS.presentation.slideMap().setCurrentSlide(n.absoluteId),i},getSlideFromIndices:function(t,e){return DS.presentation.scenes().at(t).slides().at(e)},getDrawFromIndices:function(t,e,n){return DS.presentation.scenes().at(e).slidedraws().at(t).slides().at(n)}},e.Events,n)}.call(e,s,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){function i(t,e){var n=document.createEvent("Event");n.initEvent("change",!0,!0),r.defaults(n,e),Object.defineProperty(n,a,{value:!0}),t.dispatchEvent(n),s("mouseup",t.fireChangeEvent)}var r=n(0),e=n(6),o=e.addDocumentListener,s=e.removeDocumentListener,a="allowTheChangeEventToPropagate";return{patchEvents:function(){o("change",function(t){var e,n;t[a]||"range"!==t.target.getAttribute("type")||(t.stopPropagation(),(e=document.createEvent("Event")).initEvent("input",!0,!0),r.defaults(e,t),t.target.dispatchEvent(e),s("mouseup",t.target.fireChangeEvent),n=r.partial(i,t.target),t.target.fireChangeEvent=n,o("mouseup",n))},!0)}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,o){"use strict";var n;function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(n=function(t){function s(t){var e,n,i,r,o,s,a,l=t.keyCode,u=t.altKey,c=t.shiftKey,h=t.ctrlKey,d=String.fromCharCode(l);return{LastKeyCodeString:(n=(e=t).keyCode,i=e.altKey,r=e.shiftKey,o=e.ctrlKey,s=String.fromCharCode(n),a=[].concat(f(o?["[CTRL] + "]:[]),f(r?["[SHIFT] + "]:[]),f(i?["[ALT] + "]:[])),48<=n&&n<=90?a.push(s):(a.push("["),null!=p[n]?a.push(p[n]):a.push("#"+n),a.push("]")),a.join("")),LastKeyCode:l,LastKeyValue:d,LastKeyCtrl:h,LastKeyShift:c,LastKeyAlt:u}}var a=o(0),l=o(4),n=o(6).addBodyListener,r=o(14),e=["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"],p=a.invert(l.keys),i={isShowFocus:!1,lastKeyPressTargets:[],initialize:function(){var e=this;n("mousedown",function(t){e.isShowFocus=!1,document.body.classList.remove("show-focus")},!0),n("keyup",function(t){e.isTabKey(t.which)&&!e.isShowFocus&&(e.isShowFocus=!0,document.body.classList.add("show-focus")),e.clearLastKey()},!0)},isKey:function(t,e){return t===e},keyPressHandlerExists:function(t){var e=r.getCurrentWindowSlide();if(null==e)return!1;var n=e.slideLayers().getTopMostLayer()||e.getBaseLayer(),i=e.slideLayers().activeLayers.slice(0);return this.handlerExists(n,t,i)},getLayerStack:function(t){var e=r.getCurrentWindowSlide(),n=null!=e?e.slideLayers().activeLayers.slice(0):[],i=a.findIndex(n,t);return 0<i&&(n.length=i),n},getParentFromLayerstack:function(t,e){var n=null;if(e=e||this.getLayerStack(t),t.isSlideObject){if(null==(n=t.getClosestAncestor(function(t){return t.isSlideObject}))){var i=t.getLayer();i.isBaseLayer()?e=[]:e.length=a.findIndex(e,i)+1}}else if(null==t.modal||!t.modal()){for(;null!=(n=e.pop())&&!n.isOpen;);null==n&&(n=t.getClosestAncestor(function(t){return t.isSlide}))}return{parent:n,layerStack:e}},handlerExists:function(t,e,n){if(null!=t.getFilteredPlayerEvent(function(t){return t.keycode===e.keyCode&&t.shift===e.shiftKey&&t.ctrl===e.ctrlKey&&t.alt===e.altKey},"onkeypress").events.first())return!0;var i=this.getParentFromLayerstack(t,n),r=i.parent,o=i.layerStack;return null!=r&&this.handlerExists(r,e,o)},executeKeypressEvent:function(t,e,n){this.lastKeyPressTargets.push(t),a.contains([l.keys.CONTROL,l.keys.SHIFT,l.keys.ALT],e.keyCode)||(t.prop(s(e)),t.executePlayerEvent("onanykeypress"));var i=this.getParentFromLayerstack(t,n),r=i.parent,o=i.layerStack;t.executeFilteredPlayerEvent(function(t){return t.keycode===e.keyCode&&t.shift===e.shiftKey&&t.ctrl===e.ctrlKey&&t.alt===e.altKey},"onkeypress"),null!=r&&this.executeKeypressEvent(r,e,o)},clearLastKey:function(){this.lastKeyPressTargets.forEach(function(t){t.resetSpecifiedProps(e)}),this.lastKeyPressTargets=[]},isReturnKey:function(t){return i.isKey(t,l.keys.ENTER)},isSpaceKey:function(t){return i.isKey(t,l.keys.SPACE)},isActionKey:function(t){return i.isReturnKey(t)||i.isSpaceKey(t)},isRightKey:function(t){return i.isKey(t,l.keys.RIGHT)},isDownKey:function(t){return i.isKey(t,l.keys.DOWN)},isPageDownKey:function(t){return i.isKey(t,l.keys.PAGE_DOWN)},isDownishKey:function(t){return i.isLeftKey(t)||i.isDownKey(t)},isRtlDownishKey:function(t){return i.isRightKey(t)||i.isDownKey(t)},isLeftKey:function(t){return i.isKey(t,l.keys.LEFT)},isUpKey:function(t){return i.isKey(t,l.keys.UP)},isPageUpKey:function(t){return i.isKey(t,l.keys.PAGE_UP)},isUpishKey:function(t){return i.isRightKey(t)||i.isUpKey(t)},isRtlUpishKey:function(t){return i.isLeftKey(t)||i.isUpKey(t)},isHomeKey:function(t){return i.isKey(t,l.keys.HOME)},isEndKey:function(t){return i.isKey(t,l.keys.END)},isTabKey:function(t){return i.isKey(t,l.keys.TAB)},isSeekKey:function(t){return i.isUpishKey(t)||i.isDownishKey(t)||i.isHomeKey(t)||i.isEndKey(t)||i.isPageUpKey(t)||i.isPageDownKey(t)}};return i}.call(e,o,e,t))||(t.exports=n)},function(t,e,f){"use strict";var n,v=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(n=function(t){var o=f(0),i=f(7),e=f(3),l=f(1),r=f(2),n=f(4),s=f(18),a=f(6),u=a.addWindowListener,c=a.addDocumentListener,h=f(4).ANIMATION_DURATION,d=void 0;function p(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),o.bindAll(this,"onScrollBtnDown","onEndScrollDrag","onDragBtn","onScroll","onResize","unHighlight","delayedUpdate","update","onFocus","onKeyDown"),this.enabled=!0,this.hScroll=n,this.targetEl=t,this.isHidden=!1,this.highlight=!1,this.cls=e+"-"+(n?"h":"")+"scroll",this.targetId=e,this.marginTop=i,s.hasFlag(s.constants.MODERN_PLAYER_REFRESH)){var r=this.cls+"-id";null==document.getElementById(r)&&this.createElements(r)}else this.createElements(null);this.update()}return c("wheel",function(){document.body.classList.add("document-scrolling"),clearTimeout(d),d=setTimeout(function(){document.body.classList.remove("document-scrolling")},200)}),v(p,[{key:"addOrRemoveClass",value:function(t,e,n){i[t?"addClass":"removeClass"](e,n)}},{key:"changeHighlight",value:function(){this.addOrRemoveClass(this.highlight,this.scrollBar,"highlight-scrollbar")}},{key:"changeHidden",value:function(){this.addOrRemoveClass(this.isHidden,this.scrollBar,"hidden")}},{key:"initScroll",value:function(){this.targetEl.addEventListener("scroll",this.onScroll),u("resize",this.onResize),this.targetEl.style.overflowY="hidden !important",this.targetEl.style.overflowX="hidden !important",this.hasInited=!0}},{key:"createElements",value:function(t){this.scrollBar=document.createElement("div"),null!=t&&(this.scrollBar.id=t),this.scrollBar.setAttribute("class","scrollarea-scrollbar micro-scrollbar "+(this.hScroll?"horizontal-scroll ":"")+this.cls),!this.hScroll&&0<this.marginTop&&(this.scrollBar.style.marginTop=this.marginTop+"px"),this.scrollBar.setAttribute("tabindex",0),this.scrollBar.addEventListener("focus",this.onFocus),this.scrollBar.addEventListener("keydown",this.onKeyDown),this.scrollBtn=document.createElement("div"),this.scrollBtn.setAttribute("class","scrollarea-btn micro-scrollbar-btn"),this.scrollBtn.addEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.addEventListener("touchstart",this.onScrollBtnDown),this.scrollBar.appendChild(this.scrollBtn),this.targetEl.parentNode.appendChild(this.scrollBar),this.initScroll(),this.setupUpdateEvents()}},{key:"setupUpdateEvents",value:function(){var n=this;r.on(e.tab.SHOW,function(t){n.targetId===t&&n.delayedUpdate()}),r.on(e.tabLink.SHOW_PANEL,function(t){var e=t.model.name;n.targetId===e&&n.delayedUpdate()}),"search"===this.targetId&&r.on(e.search.UPDATE_PANEL,function(){setTimeout(n.delayedUpdate,h)}),"outline"===this.targetId&&r.on(e.menuLinksListItem.TOGGLE,this.delayedUpdate),"transcript"===this.targetId&&r.on(e.transcript.CHANGED,this.delayedUpdate),DS.detection.deviceView.isMobile&&(this.teardownResize=u("resize",this.delayedUpdate))}},{key:"delayedUpdate",value:function(){var t=this;window.requestAnimationFrame(function(){return t.update(!1)})}},{key:"onScroll",value:function(){this.update(!0)}},{key:"onFocus",value:function(){DS.focusManager.setFocusRectOn(this.targetEl)}},{key:"onKeyDown",value:function(t){switch(t.which){case n.keys.DOWN:this.targetEl.scrollTop+=10;break;case n.keys.UP:this.targetEl.scrollTop-=10;break;case n.keys.PAGE_DOWN:this.targetEl.scrollTop+=this.btnLength;break;case n.keys.PAGE_UP:this.targetEl.scrollTop-=this.btnLength;break;case n.keys.HOME:this.targetEl.scrollTop=0;break;case n.keys.END:this.targetEl.scrollTop=this.targetEl.scrollHeight}}},{key:"onResize",value:function(){this.update()}},{key:"getTargetMetrics",value:function(){var t=this.targetEl,e=t.scrollHeight,n=t.scrollWidth,i=t.clientHeight,r=t.clientWidth,o=t.scrollTop,s=t.scrollLeft;return this.hScroll?{contentLength:n,scrollbarLength:r,currScrollPos:s}:{contentLength:e,scrollbarLength:i,currScrollPos:o}}},{key:"setEnabled",value:function(t){this.enabled=t,this.update()}},{key:"update",value:function(t){if(this.hasInited&&null!=this.scrollBtn){var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=e.currScrollPos;this.isHidden=Math.abs(n-i)<2||!this.enabled;var o=i-(this.hsScroll?0:this.marginTop),s=n-o,a=l.clamp(0,1,r/s);this.btnLength=o/n*o,this.scrollBtn.style[this.hScroll?"width":"height"]=l.pxify(this.btnLength),this.scrollBtn.style[this.getPosAttrib()]=l.pxify(a*l.invertPercent(this.btnLength/i)*i),(this.highlight=t)&&(clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,1e3)),this.changeHighlight(),this.changeHidden(),null!=this.updateScroll&&this.updateScroll()}}},{key:"getPosAttrib",value:function(){return this.hScroll?"left":"top"}},{key:"getPagePostion",value:function(t){return this.hScroll?t.pageX:t.pageY}},{key:"getParentPos",value:function(){return this.targetEl.getBoundingClientRect()[this.getPosAttrib()]}},{key:"onScrollBtnDown",value:function(t){this.scrollByButton=!0,this.startPos=this.getPagePostion(t)-this.getParentPos()-parseFloat(this.scrollBtn.style[this.getPosAttrib()]),document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)}},{key:"onEndScrollDrag",value:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn)}},{key:"onDragBtn",value:function(t){var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=n-i,o=i-this.btnLength,s=this.getPagePostion(t)-this.getParentPos()-this.startPos,a=l.clamp(0,1,s/o);this.scrollBtn.style[this.getPosAttrib()]=l.pxify(a*l.invertPercent(this.btnLength/i)*i),this.targetEl[this.hScroll?"scrollLeft":"scrollTop"]=r*a}},{key:"unHighlight",value:function(){this.highlight=!1,this.changeHighlight()}},{key:"teardown",value:function(){this.scrollBar.removeEventListener("focus",this.onFocus),this.scrollBar.removeEventListener("keydown",this.onKeyDown),this.scrollBtn.removeEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.removeEventListener("touchstart",this.onScrollBtnDown),this.targetEl.removeEventListener("scroll",this.onScroll),r.off(e.search.UPDATE_PANEL),r.off(e.tab.SHOW),r.off(e.menuLinksListItem.TOGGLE),r.off(e.transcript.CHANGED),this.teardownResize()}}]),p}.call(e,f,e,t))||(t.exports=n)},function(t,e,S){"use strict";var n;void 0===(n=function(t){function e(t){return c.hasClass(t,"is-scrollable")||c.hasClass(t,"scrollarea-scrollbar")}function n(t){return c.hasClass(t,"three-sixty-image")}function i(t,e){return!!e(t)||!!c.closest(t,e)}function r(t){return t.scrollHeight>t.offsetHeight||c.hasClass(t,"scrollarea-scrollbar")}function o(t){return t.hasAttribute("data-double-click")}function s(t){return c.hasClass(t,"eventable")}function a(t,o){var s,a;return t.objects().forEach(function(t,e){var n,i=null!=o?o.refs["obj"+e]:t.currView,r=i&&i.getFocusTarget();null!=r&&(n=r.props.model.prop("tabIndex"),r.isFocusable()&&r.isVisible()&&(null==a||n<a)&&(a=n,s=i))}),s}var l=S(0),u=S(1),c=S(7),h=S(5),d=l.partialRight(c.hasClass,"draggable"),p=l.partialRight(c.hasClass,"hidden"),f=l.partialRight(c.hasClass,"rotatable"),v=l.partialRight(c.hasClass,"slideable-parent"),g=l.partialRight(i,function(t){return e(t)&&r(t)}),m=l.partialRight(i,function(t){return f(t)}),y=l.partialRight(i,function(t){return p(t)}),b=l.partialRight(i,function(t){return d(t)}),A=l.partialRight(i,function(t){return v(t)}),w=l.partialRight(i,function(t){return s(t)});return{isRelated:i,needsToScroll:r,isScrollable:e,isScrollRelated:function(t){return(e(t)?r:g)(t)},isDraggable:d,isDraggableRelated:b,isEventable:s,isEventableRelated:w,isRotatable:f,isRotatableRelated:m,isSlideableRelated:A,isDoubleClickRelated:function(t){return o(t)||i(t,o)},activeMobileMenuItem:function(t,e){h.deviceView.isClassicMobile&&(0===u.getPath(t,"length",0)?document.body.classList.add(e):document.body.classList.remove(e))},isThreeSixtyImageRelated:function(t){return i(t,n)},isMobileSlide:function(t){return h.deviceView.isMobile&&!t.props.isMessageWindow},getGroupFocusTarget:function(t){var e=t.props.parent;if(!h.deviceView.isMobile)return e.isFocusable()?e:a(t.props.model,t)},removeEngageBorder:function(){var t=c.getParentFrame();null!=t&&t.classList.remove("webobject-engage")},getChildAtLowestTabIndex:a,isHiddenRelated:y}}.call(e,S,e,t))||(t.exports=n)},function(t,e,I){"use strict";var n,L=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function D(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(n=function(t){var e=this,m=I(0),a=I(21).modes,i=I(16).downOrTouchStart,n=I(22),y=n.IMAGE_MEDIA_TYPE,b=n.VIDEO_MEDIA_TYPE,A=n.AUDIO_MEDIA_TYPE,w=n.ALL_MEDIA_TYPE,r=I(40).Z_INDEX_MID,o=I(5),s=o.orientation,l=o.device,S=l.isMobile,u=l.isPhone,p=I(7),c=I(2),h=I(3),d=I(58),f=I(96),v=I(97),g=I(99),E=I(100),T=I(39),x=T.parseFontFamily,_=T.parseFontThemeType,C=I(1),k=I(23).isLeftClickOrTouch,M="-45%",O=Math.abs(parseInt(M,10)/100),P=(L(R,[{key:"setupMobile",value:function(){this.lastPullDirection=this.pullDirection="none",this.el.classList.add("panel-mobile-collapsed"),this.el.addEventListener("touchstart",this.onTouchStart),document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd),this.touchDown=!1,this.enableDisableMobileScroll()}},{key:"enableDisableMobileScroll",value:function(){this.el.classList.remove("panel-mobile-disable-scroll"),DS.detection.device.isPhone&&"none"===this.pullDirection&&!this.scroller.isHidden&&this.el.classList.add("panel-mobile-disable-scroll")}},{key:"elementIsPullable",value:function(e){return["panel-bubble","panel-content","panel-content-grad-bottom","panel-head","panel-body-outer"].some(function(t){return e.classList.contains(t)})}},{key:"mobileCloseButtonTapped",value:function(){var t=this;window.requestAnimationFrame(function(){t.hide(),t.panelBubbleEl.style.bottom=M,t.lastPullDirection=t.pullDirection="none",t.el.classList.add("panel-mobile-collapsed"),null!=t.pano.currMarker&&t.pano.currMarker.userData.cssMarker.disableActive(),t.pano.deselectMarker()})}},{key:"quickLabelSwipe",value:function(t){var e=!1,n=!1;return this.touchMoveCount<=10&&3<Math.abs(t)&&(t<0?n=!0:e=!0),{fastUp:e,fastDown:n}}},{key:"addSelectionBox",value:function(t){if(null==this.getSelectionBox(t.targetEl)){var e=new E(t);this.selections.push(e),this.selectionBoxes.set(t.targetEl,e)}}},{key:"removeSelectionBox",value:function(t){var e=this,n=this.getSelectionBox(t);null!=n&&this.pano.withOnSelectionChange(function(){e.selections=m.without(e.selections,n),e.selectionBoxes.delete(t),n.destroy()})}},{key:"getSelectionBox",value:function(t){return null!=this.selectionBoxes?this.selectionBoxes.get(t):null}},{key:"showSelectionBox",value:function(t,e){var n=this,i=this.getSelectionBox(t);return this.pano.withOnSelectionChange(function(){null!=i&&i.show(),e&&null!=n.selections&&n.selections.forEach(function(t){t!=i&&t.hide()})}),i}},{key:"isEmptyOrWhitespace",value:function(t){return""===t.innerText.trim()&&!/\<(span|ol|ul|li|blockquote)\/?\>/i.test(t.innerHTML)}},{key:"clearWhitespace",value:function(t){this.isEmptyOrWhitespace(t)&&(t.innerHTML="")}},{key:"hideSelectionBox",value:function(t){var e=this.getSelectionBox(t);null!=e&&this.pano.withOnSelectionChange(function(){e.hide()})}},{key:"hideSelectionBoxes",value:function(){var t=this;null!=this.selections&&this.pano.withOnSelectionChange(function(){t.selections.forEach(function(t){t.hide()})})}},{key:"destroySelectionBoxes",value:function(){var t=this;this.pano.withOnSelectionChange(function(){t.selections.forEach(function(t){return t.destroy()}),t.selections=null,t.selectionBoxes=null})}},{key:"showPlaceholderSelectionBoxes",value:function(){var t=this;this.pano.withoutOnSelectionChange(function(){t.isEmptyOrWhitespace(t.titleEl)&&t.showSelectionBox(t.titleEl,!1),t.isEmptyOrWhitespace(t.bodyEl)&&t.showSelectionBox(t.bodyEl.parentNode,!1)})}},{key:"inputElementEventListeners",value:function(){function t(t,e){return{eventName:t,eventHandler:e}}return[t("input",this.onContentChanged),t("keydown",this.onEditorKeyDown),t("paste",this.onContentPasted),t("formatMessage",this.onContentChanged),t("focusin",this.onFocusIn)]}},{key:"setupInputElement",value:function(t){t.contentEditable=!0,t.spellcheck=!0;var e=this.inputElementEventListeners(),n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;t.addEventListener(a.eventName,a.eventHandler)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"teardownInputElement",value:function(t){var e=this.inputElementEventListeners(),n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;t.removeEventListener(a.eventName,a.eventHandler)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"remove",value:function(){var t=this;this.pano.withoutOnSelectionChange(function(){null!=t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.checkRemoveMedia(w,{cleanup:!0}),c.off(h.threeSixtyImage.EDIT_MODE_CHANGED,t.onEditMode),t.teardownInputElement(t.titleEl),t.teardownInputElement(t.bodyEl),t.destroySelectionBoxes()}),this.teardownMobile()}},{key:"teardownMobile",value:function(){this.el.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd)}},{key:"updateInteractableElements",value:function(){var r=this;this.pano.calcSceneRect(),this.scroller.update(),function(){var t,e;if(r.pano.editMode&&null!=r.selections)for(var n=0;n<r.selections.length;n++){var i=r.selections[n];i.targetEl===r.bodyEl&&((e=(t=i).targetEl.parentNode).scrollHeight!=e.clientHeight?(t.padding.bottom=0,t.update()):0===t.padding.bottom&&(t.padding.bottom=-15,t.update())),i.update()}}()}},{key:"refreshMobileScrollbar",value:function(){var t=s.isLandscape?.62*this.pano.origHeight:.8*window.innerHeight;this.panelBodyContainerEl.style.maxHeight=t+"px",this.scroller.update()}},{key:"resize",value:function(){u?this.refreshMobileScrollbar():this.shown&&this.hide()}},{key:"createDefaults",value:function(){this.defaults={}}},{key:"setData",value:function(t){this.data=m.merge(this.defaults,t)}},{key:"hideAllMedia",value:function(){var e=this;[A,b,y].forEach(function(t){return e.hideMediaType(t)})}},{key:"hideMediaType",value:function(t){var e=this.hideMedia.get(t);null!=e&&e()}},{key:"showMediaType",value:function(t){var e=this.showMedia.get(t);null!=e&&e()}},{key:"isMediaShowing",value:function(t){return this.isMediaTypeActive.get(t)||!1}},{key:"setupMediaModal",value:function(t){var e=this.mediaShowing;if(e){var i=A;if(t!=y)return!1;if(![].concat(D(this.isMediaTypeActive.entries())).every(function(t){var e=!1===t[1],n=t[0]===i;return e||n}))return!1}return this.mediaShowing=!0,this.isMediaTypeActive.set(t,!0),e||document.addEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange(),!0}},{key:"teardownMediaModal",value:function(t){this.isMediaTypeActive.set(t,!1),this.mediaShowing=[].concat(D(this.isMediaTypeActive.values())).some(function(t){return t}),this.mediaShowing||document.removeEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange()}},{key:"verticalOffset",value:function(t){this.panelBubbleEl.style.top=t+"px",this.bubbleArrowEl.style.top="calc(50% - "+t+"px)"}},{key:"calcVerticalPos",value:function(){var t=this.el.parentNode.getBoundingClientRect(),e=this.el.getBoundingClientRect(),n=e.height/2-10;this.verticalOffset(.2*e.height);var i=t.bottom-20,r=t.top+20;if(e.bottom>i){var o=Math.min(n,e.bottom-i);this.verticalOffset(-o)}else if(e.top<r){var s=Math.min(n,r-e.top);this.verticalOffset(s)}}},{key:"getHotspotSizeInfo",value:function(){var t=this.pano.sceneRect,e=this.pano.mouseIntersect(this.marker.lastX,this.marker.lastY);this.shownByEditor&&(e=this.pano.mouseIntersect(100,100),this.shownByEditor=!1);var n=0,i=0;if(0<e.length){var r=t.width/2,o=t.height/2,s=e[0].point;s.project(this.pano.camera),s.x=s.x*r+r,s.y=-s.y*o+o,n=s.x,i=s.y}return{width:0,height:0,x:n,y:i}}},{key:"calcPanelTransform",value:function(t,e,n){t<this.pano.width/2?(t+=n/2+15*this.scale,this.el.style.transformOrigin="0 0",this.data.hasArrow&&this.bubbleArrowEl.classList.remove("panel-dir-left"),this.cornerScale=1.5*this.scale):(this.el.style.transformOrigin="100% 0",t-=n/2+15*this.scale+this.el.offsetWidth,this.data.hasArrow&&this.bubbleArrowEl.classList.add("panel-dir-left"),this.cornerScale=1.5*-this.scale),this.el.style.transform="translate("+t+"px, "+e+"px) scale("+this.scale+") translateY(-50%)",this.bubbleArrowEl.style.transform="translateY(-50%) scale("+this.cornerScale+")"}},{key:"calcSmartScale",value:function(){var t=.5*this.pano.sceneScale,e=.8*this.pano.sceneScale,n=.6*this.pano.sceneScale;if(this.marker.isHotspot())this.scale=.4+t;else{var i=Math.max(this.marker.props.scaleX,this.marker.props.scaleY),r=Math.min(i,150)/200;this.scale=t+r*e}this.scale<n&&(this.scale=n)}},{key:"update",value:function(t,e){u||(null!=this.marker.polyHotspot&&"hotspot"===this.marker.props.type&&null!=e?this.calcPanelTransform(e.x,e.y,0,0):t||this.pano.projection(this.marker.sprite,this.positionPanel),this.updateInteractableElements())}},{key:"showMobile",value:function(){var t=this;s.isLandscape?(this.panelBubbleEl.style.right="-100%",this.panelBubbleEl.style.transition="right 350ms ease-out",window.requestAnimationFrame(function(){t.panelBubbleEl.style.right=0}),this.panelBubbleEl.style.bottom=null):(this.panelBubbleEl.style.bottom="-100%",this.panelBubbleEl.style.transition="bottom 250ms ease-in-out",window.requestAnimationFrame(function(){t.panelBubbleEl.style.bottom=M}));var e=document.createElement("div");function n(t){t.target===e&&document.body.removeChild(e)}e.classList.add("three-sixty-image","three-sixty-image-mobile-overlay"),e.style.zIndex=r-1,e.appendChild(this.el),document.body.appendChild(e),e.addEventListener("touchend",n),this.tempMobileOverlay=e,this.closePanel=n}},{key:"hideMobile",value:function(){this.overlaysEl.appendChild(this.el),null!=this.tempMobileOverlay&&(this.tempMobileOverlay.removeEventListener("touchend",this.closePanel),null!=this.tempMobileOverlay.parentNode&&document.body.removeChild(this.tempMobileOverlay),this.tempMobileOverlay=null)}},{key:"show",value:function(t,e){(t||!this.disabled&&this.marker.sprite.visible&&this.marker.props.hasPanel)&&(u&&this.showMobile(),R.hideLast(this),this.scale=this.pano.sceneScale,this.el.style.visibility="visible",this.el.classList.add("panel-shown"),this.shown=!0,clearTimeout(this.hideTimeout),this.useAnchor=!1,this.update(!1,e),this.scroller.update(!0),this.marker.setState("active"),this.pano.editMode?this.showPlaceholderSelectionBoxes():this.marker.updateResume(),R.last=this,document.addEventListener(i,this.onReleaseOutside))}},{key:"adjust",value:function(t){this.data=m.merge(this.data,t),this.updateStyles(),this.updateInteractableElements()}},{key:"updateStyles",value:function(){var i=this,t=this.data,e=t.borderRadius,n=t.boxShadow,r=t.fill,o=t.textColor,s=t.stroke,a=t.strokeWidth,l=t.width,u=t.hasArrow;null!=e&&(this.bubbleEl.style.borderRadius=e+"px"),null!=n&&(this.bubbleEl.style.boxShadow=n);var c=!1,h=this.bubbleEl.style.background;if(null!=r){c=r!==h,this.bubbleEl.style.background=r,this.bubbleCornerRectEl.setAttribute("fill",r);var d=C.rgbify(r,0),p=S?"-webkit-gradient(linear, 0% 0%, 0% 100%, from("+d+"), to("+r+"))":"linear-gradient(180deg, transparent, "+r+")";this.panelContentGradBottomEl.style.background=p}null!=o&&(this.bubbleEl.style.color=o),this.bubbleEl.style.padding="15px 20px 3px 20px";var f=C.getPath(this.scroller,"scrollBar");null!=f&&(f.style.right="-23px"),null!=l&&(this.bubbleEl.style.width=l+"px"),null!=s&&null!=a&&(this.bubbleEl.style.border=a+"px solid "+s),null!=u&&(this.panelCornerEl.style.display=u?"block":"none"),this.updatePanelElementStyles(this.titleEl,this.data.title),this.updatePanelElementStyles(this.bodyEl,this.data.body);var v,g=void 0;null==(v=this.data.media)||null==v.audio&&null==v.video&&null==v.image?(this.checkRemoveMedia(w),this.createdMediaCache.clear()):[A,b,y].forEach(function(t){var e=i.data.media[t];if(null!=e){var n=JSON.stringify(e);(i.createdMediaCache.get(t)!==n||c&&t==A)&&(g=!0,(0,i["createOrUpdate"+m.capitalize(t)])(e),i.createdMediaCache.set(t,n))}else i.checkRemoveMedia(t),i.createdMediaCache.set(t,null)}),this.disabled=!1,this.update(g)}},{key:"showHotspotPanel",value:function(){if(this.marker.polyHotspot&&this.marker.isHotspot()){this.forcePlaceCenter=!0;var t=this.marker.polyHotspot,e=t.getCenterPoint(t.shapeMesh);this.show(!0,this.pano.vecToScreenPosition(e))}}},{key:"updatePanelElementStyles",value:function(t,e){null!=e&&null!=t&&(t.innerHTML=e.innerHTML,t.style.fontFamily="'"+e.style.fontFamily+"'",t.style.fontSize=e.style.fontSize*(u?1.25:1)+"px",t.dataset.fontThemeType=e.style.fontThemeType)}},{key:"checkRemoveMedia",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};t!==y&&t!==w||null==this.mediaImageEl||this.destroyImage(n),t!==A&&t!==w||null==this.mediaAudioEl||this.destroyAudio(n),t!==b&&t!==w||null==this.mediaVideoPosterEl||this.destroyVideo(n)}},{key:"hide",value:function(t){var e=this,n=0<arguments.length&&void 0!==t&&t;this.disabled||(this.shown=!1,this.el.classList.remove("panel-shown"),clearTimeout(this.hideTimeout),n?this.el.style.visibility="hidden":this.hideTimeout=setTimeout(function(){e.el.style.visibility="hidden"},100),this.marker.setState("normal"),u&&this.hideMobile(),this.pano.editMode?this.hideSelectionBoxes():this.marker.updateResume(),this.mediaShowing&&this.hideAllMedia(),document.removeEventListener(i,this.onReleaseOutside))}},{key:"disable",value:function(){this.hide(),this.disabled=!0,this.el.style.display="none"}},{key:"enable",value:function(){this.disabled&&(this.disabled=!1,this.show(),this.el.style.display="block")}},{key:"getData",value:function(){return this.data}},{key:"updateTextData",value:function(t,e){t.innerHTML=e.innerHTML,t.style.fontFamily=x(e.style.fontFamily),t.style.fontSize=parseFloat(e.style.fontSize),t.style.fontThemeType=_(e.dataset.fontThemeType)}},{key:"createGraphics",value:function(){var t=this,e=u&&s.isPortrait?""+(window.innerHeight-.2*window.innerHeight):.62*this.pano.origHeight,n=this.pano.localizedText||{title:"",body:""};this.panelContent='\n      <div class="panel-bubble-arrow">\n      \n    <svg class="panel-corner" width="8" height="16">\n      <rect class="panel-corner-rect" x="4" y="1" width="11" height="11" fill="blue" transform="rotate(45, 7, 6) "></rect>\n    </svg>\n  \n      </div>\n      <div class="panel-head">\n        '+(u?'<div class="panel-mobile-pull-btn"></div>':"")+'\n        <h2 class="panel-title panel-content" placeholder="'+n.title+'"></h2>\n      </div>\n      '+(u?'\n    <div class="panel-mobile-icon-close">\n      <svg width="20" height="20" viewBox="0 0 36 36" focusable="false" data-ref>\n        <polygon fill="black" points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n      </svg>\n    </div>\n  ':"")+'\n      <div class="panel-body-outer">\n        <div class="panel-body-container" style="max-height:'+e+'px;">\n          <div class="panel-body-top"></div>\n          <div class="panel-body panel-content" placeholder="'+n.body+'"></div>\n      </div>\n      <div class="panel-content-grad-bottom"></div>\n      </div>\n      ',this.el=document.createElement("div"),this.el.classList.add("panel-el"),this.el.innerHTML='\n        <div class="panel-bubble">\n          '+this.panelContent+"\n        </div>\n      ",this.panelMobilePullBtn=this.el.querySelector(".panel-mobile-pull-btn"),this.panelBubbleEl=this.el.querySelector(".panel-bubble"),this.titleEl=this.el.querySelector(".panel-title"),this.addSelectionBox({targetEl:this.titleEl,showCallback:function(){return t.titleEl.focus()},hideCallback:function(){return t.titleEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0}),this.bodyEl=this.el.querySelector(".panel-body"),this.panelBodyContainerEl=this.el.querySelector(".panel-body-container"),this.bubbleEl=this.el.querySelector(".panel-bubble"),this.bubbleArrowEl=this.el.querySelector(".panel-bubble-arrow"),this.panelCornerEl=this.el.querySelector(".panel-corner"),this.bubbleCornerRectEl=this.el.querySelector(".panel-corner-rect"),this.panelBodyTopEl=this.el.querySelector(".panel-body-top"),this.panelContentEl=this.el.querySelector(".panel-content"),this.panelContentGradBottomEl=this.el.querySelector(".panel-content-grad-bottom"),this.addSelectionBox({targetEl:this.panelBodyContainerEl,boundsEl:this.bodyEl,maskBounds:{bottomCalc:function(){return t.panelContentGradBottomEl.getBoundingClientRect().bottom+15},topCalc:function(){return t.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return t.bodyEl.focus()},hideCallback:function(){return t.bodyEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0,paddingOffsets:{bottom:-15}}),this.el.style.visibility="hidden",this.overlaysEl.appendChild(this.el),this.scroller=new d(this.panelBodyContainerEl),this.scroller.updateScroll=this.updateScroll,this.updateStyles(),this.editMode&&this.onEditMode()}}]),R);function R(t){var d=this,e=t.pano,n=t.marker,i=t.data,r=t.disabled;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,R),this.onTouchStart=function(t){d.touchDown=!0,d.touchMoveCount=0,t.target.classList.contains("panel-mobile-icon-close")||s.isPortrait&&d.elementIsPullable(t.target)&&(t.stopImmediatePropagation(),d.touchPull=!0,d.touchStartY=t.touches[0].clientY,d.panelBubbleEl.style.transition="none",null==d.pullDirection||"none"==d.pullDirection?(d.touchOffY=function(){return window.innerHeight*O},d.lastPullDirection="none"):"up"===d.pullDirection&&(d.touchOffY=function(){return.02*window.innerHeight},d.lastPullDirection="up"))},this.onTouchMove=function(t){if(d.touchDown&&d.touchPull){t.stopImmediatePropagation(),d.touchMoveCount++;var e=d.touchOffY(),n=d.touchStartY-t.touches[0].clientY,i=Math.min(0,n-e);d.panelBubbleEl.style.bottom=i+"px";var r=i+e;d.pullDirection="none";var o=d.quickLabelSwipe(r),s=o.fastUp,a=o.fastDown;"none"===d.lastPullDirection&&(50<r||s?d.pullDirection="up":(r<-70||a)&&(d.pullDirection="down"))}},this.onTouchEnd=function(t){t.target.classList.contains("panel-mobile-icon-close")?d.mobileCloseButtonTapped():(d.touchDown&&d.touchPull&&(d.panelBubbleEl.style.transition="bottom 150ms ease-out","up"===d.pullDirection?(d.panelBubbleEl.style.bottom="0%",d.el.classList.remove("panel-mobile-collapsed")):"down"===d.pullDirection?(d.panelBubbleEl.style.bottom="-100%",null!=d.pano.currMarker&&d.pano.currMarker.userData.cssMarker.disableActive(),d.pano.deselectMarker()):"none"===d.pullDirection&&(d.el.classList.add("panel-mobile-collapsed"),d.panelBubbleEl.style.bottom=M)),d.enableDisableMobileScroll(),setTimeout(function(){"down"===d.pullDirection&&(d.hide(),d.panelBubbleEl.style.bottom=M,d.pullDirection=null)},150),d.touchDown=!1,d.touchPull=!1)},this.onEditMode=function(t){d.setupInputElement(d.titleEl),d.setupInputElement(d.bodyEl)},this.onFocusIn=function(t){var e=t.currentTarget===d.bodyEl?t.currentTarget.parentNode:t.currentTarget;d.showSelectionBox(e,!0)},this.onContentPasted=function(t){t.preventDefault();var e=(t.clipboardData||window.clipboardData).getData("Text");t.currentTarget===d.titleEl&&(e=e.replace(/(\r\n|\n|\r)/gm," "));var n=document.getSelection(),i=n.getRangeAt(0);i.deleteContents();var r=document.createTextNode(e);i.insertNode(r),i.selectNodeContents(r),i.collapse(!1),n.removeAllRanges(),n.addRange(i),d.onContentChanged(t)},this.onContentChanged=function(t){d.updateTextData(d.data.title,d.titleEl),d.updateTextData(d.data.body,d.bodyEl),d.data.hasArrow&&d.bubbleArrowEl.classList.contains("panel-dir-left")&&(d.useAnchor=!0),d.clearWhitespace(t.currentTarget),d.updateInteractableElements();var e=t.currentTarget===d.bodyEl?t.currentTarget.parentNode:t.currentTarget;d.showSelectionBox(e,!0),c.trigger(h.threeSixtyImage.MARKER_UPDATED,d.marker)},this.onEditorKeyDown=function(t){var e=66===t.which||85===t.which||73===t.which||67===t.which||88===t.which||86===t.which||90===t.which,n=13===t.which,i=t.currentTarget===d.titleEl;(t.ctrlKey&&e||n&&i)&&t.preventDefault(),t.currentTarget===d.mediaImageEl&&t.preventDefault()},this.onMediaModalKeydown=function(t){d.mediaShowing&&9==t.which&&t.preventDefault()},this.onReleaseOutside=function(t){if(k(t)&&((!(!d.pano.editMode&&!p.isWithin(t.target,"slide-container"))||p.isWithin(t.target,"panel-media-overlay"))&&d.pano.mode!==a.SET_CROP_IMAGE_MEDIA)){var e=p.isWithin(t.target,"panel-el"),n=p.isWithin(t.target,"marker-el"),i=p.isWithin(t.target,"panel-image-container"),r=p.isWithin(t.target,"panel-video-container");if(!(e||n||i||r)){var o=d.isMediaShowing(y),s=d.isMediaShowing(b);o||s?(d.hideMediaType(y),d.hideMediaType(b)):d.hide()}}},this.positionPanel=function(t,e){d.pano.calcSceneRect();var n=d.pano.sceneRect,i=e.scale.x*n.width/2,r=e.scale.y*n.height/2,o=!1;if(d.marker.isHotspot()&&!d.marker.polyHotspot){var s=document.elementsFromPoint(p.mouseX,p.mouseY).find(function(t){return t.classList.contains("marker-bounds-rect")});null==s||null==C.getPath(d,"marker.el")||d.marker.el.contains(s)||(i=r=0,o=!0)}var a=d.marker.isHotspot()&&!o?d.getHotspotSizeInfo():{width:i,height:r,x:t.x+n.width/2,y:t.y+n.height/2},l=a.x,u=a.y,c=a.width,h=a.height;d.useAnchor?(l=d.lastAnchor.x,u=d.lastAnchor.y):d.lastAnchor={x:l,y:u},0!==l&&0!==u&&!d.forcePlaceCenter||(l=t.x+n.width/2,u=t.y+n.height/2,d.forcePlaceCenter=!1),d.calcSmartScale(),d.calcPanelTransform(l,u,c,h)},this.createOrUpdateImage=function(t){d.createOrUpdateMedia("destroyImage",function(){return d.mediaImageEl},function(){return g(d,t)})},this.createOrUpdateVideo=function(t){d.createOrUpdateMedia("destroyVideo",function(){return d.mediaVideoPosterEl},function(){return v(d,t)})},this.createOrUpdateAudio=function(t){d.createOrUpdateMedia("destroyAudio",function(){return d.mediaAudioEl},function(){return f(d,t)})},this.createOrUpdateMedia=function(i,r,o){d.pano.withoutOnSelectionChange(function(){var t=d[i],e=null!=t,n=e&&d.getSelectionBox(r()).shown;e&&t(),t=o(),d[i]=function(){t(),d[i]=null},n&&d.showSelectionBox(r(),!0)})},this.onLeftLink=function(){d.hide();var t=d.data.navigation,e=d.pano.getMarker(t.leftLink);d.pano.selectNextSprite=!0,d.pano.setCurrMarker(e.sprite),d.pano.panToMarker(t.leftLink)},this.onRightLink=function(){d.hide();var t=d.data.navigation,e=d.pano.getMarker(t.rightLink);d.pano.selectNextSprite=!0,d.pano.setCurrMarker(e.sprite),d.pano.panToMarker(t.rightLink)},this.updateScroll=function(){null!=d.selections&&d.selections.forEach(function(t){return t.update()})},this.pano=e,this.marker=n,this.overlaysEl=this.pano.overlaysEl,this.editMode=e.editMode,this.shown=!1,this.scale=1,this.selectionBoxes=new WeakMap,this.isMediaTypeActive=new Map,this.showMedia=new Map,this.hideMedia=new Map,this.createdMediaCache=new Map,this.selections=[],this.disabled=r,this.createDefaults(),this.setData(i),this.createGraphics(),this.setupMobile(),c.on(h.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode)}return P.hideLast=function(t){null!=P.last&&P.last!=t&&P.last.shown&&(null!=t&&null!=t.pano.model&&(t.pano.model.updateLabelState(t.marker.idx,e.shown),t.pano.model.setVisitedMarkers()),P.last.hide())},P}.call(e,I,e,t))||(t.exports=n)},function(t,e,r){"use strict";var n;void 0===(n=function(t){function e(){this.reset()}var n=r(0),s=r(27),a=r(1),i=r(4),h=i.math.TO_RADIANS;return n.extend(e.prototype,{adjustByViewProps:function(t){return this.translate(t.RawXPos,t.RawYPos).scale(t.ScaleX,t.ScaleY,t.rotateXPos,t.rotateYPos).rotate(t.Rotation,t.rotateXPos,t.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(t,e){return this.tx+=t*this.a+e*this.b,this.ty+=t*this.c+e*this.d,this},scale:function(t,e,n,i){var r=n||i;return r&&this.translate(n,i),this.a*=t,this.c*=t,this.b*=e,this.d*=e,r&&this.translate(-n,-i),this},rotate:function(t,e,n){t*=h;var i=Math.cos(t),r=Math.sin(t),o=e-e*i+n*r,s=n-e*r-n*i,a=this.a,l=this.b,u=this.c,c=this.d;return this.a=i*a+r*l,this.b=-r*a+i*l,this.c=i*u+r*c,this.d=-r*u+i*c,this.tx+=o*a+s*l,this.ty+=o*u+s*c,this},skew:function(t,e,n,i){var r=n||i,o=this.a,s=this.c;return t=Math.tan(t*h),e=Math.tan(e*h),r&&this.translate(n,i),this.a+=e*this.b,this.c+=e*this.d,this.b+=t*o,this.d+=t*s,r&&this.translate(-n,-i),this},transform:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},copy:function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},invert:function(){var t=1/(this.a*this.d-this.b*this.c),e=this.d*t,n=-this.b*t,i=-this.c*t,r=this.a*t,o=t*(this.b*this.ty-this.d*this.tx),s=t*(this.c*this.tx-this.a*this.ty);return this.a=e,this.b=n,this.c=i,this.d=r,this.tx=o,this.ty=s,this},toCssTransform:function(){var t=a.fix(this.a,6),e=a.fix(this.b,6),n=a.fix(this.c,6),i=a.fix(this.d,6),r=a.fix(this.tx,6),o=a.fix(this.ty,6);return s.buildTransformFn("matrix",t,n,e,i,r,o)},getScale:function(){return{x:a.hypot(this.a,this.c),y:a.hypot(this.b,this.d)}},transformPoint:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},unTransformPoint:function(t,e){return this.copy().invert().transformPoint(t,e)},decompose:function(){var t,e,n,i=this.a,r=this.b,o=this.c,s=this.d;return n=i*s-r*o,Math.abs(n)<=1e-12?null:(r/=t=Math.sqrt(i*i+r*r),(i/=t)*(s/=e=Math.sqrt(o*o+s*s))<r*(o/=e)&&(i=-i,r=-r,t=-t),{scaling:{x:t,y:e},rotation:180*-Math.atan2(r,i)/Math.PI})},append:function(t){var e=this.a,n=this.b,i=this.c,r=this.d,o=t.a,s=t.b,a=t.c,l=t.d,u=t.tx,c=t.ty;return this.a=o*e+a*n,this.b=s*e+l*n,this.c=o*i+a*r,this.d=s*i+l*r,this.tx+=u*e+c*n,this.ty+=u*i+c*r,this},isEqual:function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},isOnlyTranslated:function(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d}}),e}.call(e,r,e,t))||(t.exports=n)},function(r,s,a){"use strict";var t;void 0===(t=function(t){var E=a(20);function e(){E.BufferGeometry.call(this),this.type="MeshLine",this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new E.Matrix4,Object.defineProperties(this,{geometry:{enumerable:!0,get:function(){return this}},geom:{enumerable:!0,get:function(){return this._geom},set:function(t){this.setGeometry(t,this.widthCallback)}},points:{enumerable:!0,get:function(){return this._points},set:function(t){this.setPoints(t,this.widthCallback)}}})}function n(t,e){var n=new E.Matrix4,i=new E.Ray,r=new E.Sphere,o=new E.Vector3,s=this.geometry;if(r.copy(s.boundingSphere),r.applyMatrix4(this.matrixWorld),!1!==t.ray.intersectSphere(r,o)){n.getInverse(this.matrixWorld),i.copy(t.ray).applyMatrix4(n);var a=new E.Vector3,l=new E.Vector3,u=new E.Vector3,c=this instanceof E.LineSegments?2:1,h=s.index,d=s.attributes;if(null!==h)for(var p=h.array,f=d.position.array,v=d.width.array,g=0,m=p.length-1;g<m;g+=c){var y=p[g],b=p[g+1];a.fromArray(f,3*y),l.fromArray(f,3*b);var A=null!=v[Math.floor(g/3)]?v[Math.floor(g/3)]:1,w=t.params.Line.threshold+this.material.lineWidth*A/2;if(!(w*w<i.distanceSqToSegment(a,l,o,u))){o.applyMatrix4(this.matrixWorld);var S=t.ray.origin.distanceTo(o);S<t.near||S>t.far||(e.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}),g=m)}}}}function o(t,e,n,i,r){var o=void 0;if(t=t.subarray||t.slice?t:t.buffer,n=n.subarray||n.slice?n:n.buffer,t=e?t.subarray?t.subarray(e,r&&e+r):t.slice(e,r&&e+r):t,n.set)n.set(t,i);else for(o=0;o<t.length;o++)n[o+i]=t[o];return n}function i(t){E.ShaderMaterial.call(this,{uniforms:Object.assign({},E.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new E.Color(16777215)},opacity:{value:1},resolution:{value:new E.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new E.Vector2(1,1)}}),vertexShader:E.ShaderChunk.meshline_vert,fragmentShader:E.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(t){this.uniforms.color.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(t){this.uniforms.dashArray.value=t,this.useDash=0!==t?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(t){this.uniforms.useDash.value=t}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(t)}null!=E&&null!=E.BufferGeometry&&((((E.MeshLine=e).prototype=Object.create(E.BufferGeometry.prototype)).constructor=e).prototype.isMeshLine=!0,e.prototype.setMatrixWorld=function(t){this.matrixWorld=t},e.prototype.setGeometry=function(t,e){(this._geometry=t)instanceof E.Geometry?this.setPoints(t.vertices,e):t instanceof E.BufferGeometry?this.setPoints(t.getAttribute("position").array,e):this.setPoints(t,e)},e.prototype.setPoints=function(t,e){if(t instanceof Float32Array||t instanceof Array){if(this._points=t,this.widthCallback=e,this.positions=[],this.counters=[],t.length&&t[0]instanceof E.Vector3)for(var n=0;n<t.length;n++){var i=t[n],r=n/t.length;this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(r),this.counters.push(r)}else for(var o=0;o<t.length;o+=3){var s=o/t.length;this.positions.push(t[o],t[o+1],t[o+2]),this.positions.push(t[o],t[o+1],t[o+2]),this.counters.push(s),this.counters.push(s)}this.process()}else console.error("ERROR: The BufferArray of points is not instanced correctly.")},e.prototype.raycast=n,e.prototype.compareV3=function(t,e){var n=6*t,i=6*e;return this.positions[n]===this.positions[i]&&this.positions[1+n]===this.positions[1+i]&&this.positions[2+n]===this.positions[2+i]},e.prototype.copyV3=function(t){var e=6*t;return[this.positions[e],this.positions[1+e],this.positions[2+e]]},e.prototype.process=function(){var t=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];var e=void 0,n=void 0;n=this.compareV3(0,t-1)?this.copyV3(t-2):this.copyV3(0),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(var i=0;i<t;i++){if(this.side.push(1),this.side.push(-1),e=this.widthCallback?this.widthCallback(i/(t-1)):1,this.width.push(e),this.width.push(e),this.uvs.push(i/(t-1),0),this.uvs.push(i/(t-1),1),i<t-1){n=this.copyV3(i),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);var r=2*i;this.indices_array.push(r,1+r,2+r),this.indices_array.push(2+r,1+r,3+r)}0<i&&(n=this.copyV3(i),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]))}n=this.compareV3(t-1,0)?this.copyV3(1):this.copyV3(t-1),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]),this._attributes&&this._attributes.position.count===this.positions.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new E.BufferAttribute(new Float32Array(this.positions),3),previous:new E.BufferAttribute(new Float32Array(this.previous),3),next:new E.BufferAttribute(new Float32Array(this.next),3),side:new E.BufferAttribute(new Float32Array(this.side),1),width:new E.BufferAttribute(new Float32Array(this.width),1),uv:new E.BufferAttribute(new Float32Array(this.uvs),2),index:new E.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new E.BufferAttribute(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()},e.prototype.advance=function(t){var e=this._attributes.position.array,n=this._attributes.previous.array,i=this._attributes.next.array,r=e.length;o(e,0,n,0,r),o(e,6,e,0,r-6),e[r-6]=t.x,e[r-5]=t.y,e[r-4]=t.z,e[r-3]=t.x,e[r-2]=t.y,e[r-1]=t.z,o(e,6,i,0,r-6),i[r-6]=t.x,i[r-5]=t.y,i[r-4]=t.z,i[r-3]=t.x,i[r-2]=t.y,i[r-1]=t.z,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0},E.ShaderChunk.meshline_vert=["",E.ShaderChunk.logdepthbuf_pars_vertex,E.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","   vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",E.ShaderChunk.logdepthbuf_vertex,E.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",E.ShaderChunk.fog_vertex,"}"].join("\n"),E.ShaderChunk.meshline_frag=["",E.ShaderChunk.fog_pars_fragment,E.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",E.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",E.ShaderChunk.fog_fragment,"}"].join("\n"),((i.prototype=Object.create(E.ShaderMaterial.prototype)).constructor=i).prototype.isMeshLineMaterial=!0,i.prototype.copy=function(t){return E.ShaderMaterial.prototype.copy.call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this},E.MeshLineMaterial=i,r.exports&&(s=r.exports={MeshLine:e,MeshLineMaterial:i,MeshLineRaycast:n}),s.MeshLine=e,s.MeshLineMaterial=i,s.MeshLineRaycast=n)}.call(s,a,s,r))||(r.exports=t)},function(t,e,n){"use strict";var i,r;i=[n(64)],void 0===(r=function(){Promise.resolve().then(function(){var t=[n(0),n(65),n(44),n(69),n(12)];(function(ct){Promise.resolve().then(function(){var t=[n(6),n(70),n(33),n(71),n(13),n(46),n(73),n(35),n(19),n(4),n(38),n(47),n(5),n(7),n(9),n(3),n(45),n(18),n(85),n(86),n(57),n(58),n(87),n(2),n(52),n(88),n(89),n(56),n(90),n(15),n(91),n(92),n(59),n(55),n(28),n(27),n(93),n(34),n(94),n(61),n(1),n(26),n(8),n(10),n(53),n(105),n(14),n(30),n(54),n(36),n(48),n(49),n(24),n(25),n(37),n(50),n(51),n(11),n(106),n(29),n(17),n(31),n(32)];(function(t,e,n,i,r,o,s,a,l,u,c,h,d,p,f,v,g,m,y,b,A,w,S,E,T,x,_,C,k,M,O,P,R,I,L,D,N,H,V,F,j,B,U,W,z,G,q,Y,X,J,K,$,Q,Z,tt,et,nt,it){var rt=d.deviceView.isMobile?"MOBILE":"DESKTOP",ot=u.frameLocations[rt],st=u.cssLocations[rt],at=void 0;if(!window.globals.AUTHORING_HOST_MODE){at=function(){return DS.loadScript(u.slideLocation)},(d.deviceView.isMobile||d.theme.isUnified)&&(window.globals.scale="noscale"),window.globals.HAS_SLIDE&&window.globals.HAS_FRAME||_.initialize(window.globals.HAS_SLIDE);var lt=document.createElement("link");lt.type="text/css",lt.href=st,lt.rel="stylesheet",lt.dataset.noprefix=!0,document.head.appendChild(lt)}if(window.DS=window.DS||{},Object.assign(window.DS,{_:ct,globalEventHelper:t,analyticsHelper:e,animationClock:n,AnimationTimeline:i,appState:r,audioContext:o,automation:s,BaseModel:a,captionsManager:l,constants:u,cssPrefix:c,debug:h,detection:d,dom:p,errorManager:f,events:v,fileProtocolOverrides:g,flagManager:m,focusManager:y,fontManager:b,keyManager:A,MicroScrollBar:w,mobileChromeKiller:S,pubSub:E,playerGlobals:T,previewHelper:x,rangeSliders:C,requestAnimationFrame:k,scaler:M,shortcutManager:O,slideNumberManager:P,slideObjectUtils:R,slidesController:I,stringTabler:L,svgUtils:D,tabFocusBox:N,TimelineLite:H,ThreeSixtyImage:V,TransMatrix:F,TweenLite:TweenLite,utils:j,vendorOverrides:B,vow:U,resolver:W,webObjectHelper:z,windowOpen:G,windowManager:q,mixer:Y,PostMessaging:X,ancestral:J,resolveable:K,shortEventable:$,subscribable:Q,Chunk:Z,courseStateHelper:tt,resumer:et,superagent:nt,Backbone:it,clientHeight:document.body.clientHeight,clientWidth:document.body.clientWidth,loadScript:function(t,e){var n=document.createElement("script");n.src=t,n.onload=e,document.head.appendChild(n)}}),!window.globals.AUTHORING_HOST_MODE){var ut=function(){E.once(v.ds.PRESO_LOADED,function(t){E.trigger(v.ds.PRESO_READY,DS.presentation,u.els.PRESO),W.initialize(),I.initialize(DS.presentation),s.initialize(I,DS.presentation),A.initialize(),q.initialize(),G.initialize(DS.presentation),z.initialize(DS.presentation),e.initialize(DS.presentation),h.initialize(window.globals.HAS_SLIDE?DS.presentation:void 0,window.globals.HAS_FRAME?DS.frame:void 0),x.initialize(DS.frame,DS.presentation,t),E.trigger(v.app.COMPLETE)})};E.once(v.ds.FRAME_DATA_LOADED,function(t){DS.frame=t,ut(),window.globals.HAS_SLIDE?at():(m.register("slides",j.getPath(window,"globals.features","").split(",")),DS.playerGlobals.presentation=DS.presentation,M.initialize(),E.trigger(v.ds.PRESO_LOADED),DS.frameModel.frame.controlOptions.controls.closed_captions&&E.trigger(v.captions.SHOW_BUTTON))}),window.globals.HAS_FRAME?DS.loadScript(ot):(ut(),at(),document.querySelector("body > .slide-loader").style.display="none")}}).apply(null,t)}).catch(n.oe)}).apply(null,t)}).catch(n.oe)}.apply(e,i))||(t.exports=r)},function(t,e,n){(function(i){!function r(o,s,a){function l(e,t){if(!s[e]){if(!o[e]){if(0,u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[e]={exports:{}};o[e][0].call(i.exports,function(t){return l(o[e][1][t]||t)},i,i.exports,r,o,s,a)}return s[e].exports}for(var u=!1,t=0;t<a.length;t++)l(a[t]);return l}({1:[function(n,t,e){(function(t){"use strict";function e(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}if(n(327),n(328),n(2),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,327:327,328:328}],2:[function(t,e,n){t(130),e.exports=t(23).RegExp.escape},{130:130,23:23}],3:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],4:[function(t,e,n){var i=t(18);e.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},{18:18}],5:[function(t,e,n){var i=t(128)("unscopables"),r=Array.prototype;null==r[i]&&t(42)(r,i,{}),e.exports=function(t){r[i][t]=!0}},{128:128,42:42}],6:[function(t,e,n){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],7:[function(t,e,n){var i=t(51);e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{51:51}],8:[function(t,e,n){"use strict";var c=t(119),h=t(114),d=t(118);e.exports=[].copyWithin||function(t,e,n){var i=c(this),r=d(i.length),o=h(t,r),s=h(e,r),a=2<arguments.length?n:void 0,l=Math.min((void 0===a?r:h(a,r))-s,r-o),u=1;for(s<o&&o<s+l&&(u=-1,s+=l-1,o+=l-1);0<l--;)s in i?i[o]=i[s]:delete i[o],o+=u,s+=u;return i}},{114:114,118:118,119:119}],9:[function(t,e,n){"use strict";var u=t(119),c=t(114),h=t(118);e.exports=function(t,e,n){for(var i=u(this),r=h(i.length),o=arguments.length,s=c(1<o?e:void 0,r),a=2<o?n:void 0,l=void 0===a?r:c(a,r);s<l;)i[s++]=t;return i}},{114:114,118:118,119:119}],10:[function(t,e,n){var i=t(39);e.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},{39:39}],11:[function(t,e,n){var l=t(117),u=t(118),c=t(114);e.exports=function(a){return function(t,e,n){var i,r=l(t),o=u(r.length),s=c(n,o);if(a&&e!=e){for(;s<o;)if((i=r[s++])!=i)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}}},{114:114,117:117,118:118}],12:[function(t,e,n){var b=t(25),A=t(47),w=t(119),S=t(118),i=t(15);e.exports=function(h,t){var d=1==h,p=2==h,f=3==h,v=4==h,g=6==h,m=5==h||g,y=t||i;return function(t,e,n){for(var i,r,o=w(t),s=A(o),a=b(e,n,3),l=S(s.length),u=0,c=d?y(t,l):p?y(t,0):void 0;u<l;u++)if((m||u in s)&&(r=a(i=s[u],u,o),h))if(d)c[u]=r;else if(r)switch(h){case 3:return!0;case 5:return i;case 6:return u;case 2:c.push(i)}else if(v)return!1;return g?-1:f||v?v:c}}},{118:118,119:119,15:15,25:25,47:47}],13:[function(t,e,n){var c=t(3),h=t(119),d=t(47),p=t(118);e.exports=function(t,e,n,i,r){c(e);var o=h(t),s=d(o),a=p(o.length),l=r?a-1:0,u=r?-1:1;if(n<2)for(;;){if(l in s){i=s[l],l+=u;break}if(l+=u,r?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=l:l<a;l+=u)l in s&&(i=e(i,s[l],l,o));return i}},{118:118,119:119,3:3,47:47}],14:[function(t,e,n){var i=t(51),r=t(49),o=t(128)("species");e.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{128:128,49:49,51:51}],15:[function(t,e,n){var i=t(14);e.exports=function(t,e){return new(i(t))(e)}},{14:14}],16:[function(t,e,n){"use strict";var o=t(3),s=t(51),a=t(46),l=[].slice,u={};e.exports=Function.bind||function(e){var n=o(this),i=l.call(arguments,1),r=function(){var t=i.concat(l.call(arguments));return this instanceof r?function(t,e,n){if(!(e in u)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";u[e]=Function("F,a","return new F("+i.join(",")+")")}return u[e](t,n)}(n,t.length,t):a(n,t,e)};return s(n.prototype)&&(r.prototype=n.prototype),r}},{3:3,46:46,51:51}],17:[function(t,e,n){var r=t(18),o=t(128)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},{128:128,18:18}],18:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],19:[function(t,e,n){"use strict";function s(t,e){var n,i=f(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var a=t(72).f,l=t(71),u=t(93),c=t(25),h=t(6),d=t(39),i=t(55),r=t(57),o=t(100),p=t(29),f=t(66).fastKey,v=t(125),g=p?"_s":"size";e.exports={getConstructor:function(t,o,n,i){var r=t(function(t,e){h(t,r,o,"_i"),t._t=o,t._i=l(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&d(e,n,t[i],t)});return u(r.prototype,{clear:function(){for(var t=v(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=v(this,o),n=s(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[g]--}return!!n},forEach:function(t,e){v(this,o);for(var n,i=c(t,1<arguments.length?e:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!s(v(this,o),t)}}),p&&a(r.prototype,"size",{get:function(){return v(this,o)[g]}}),r},def:function(t,e,n){var i,r,o=s(t,e);return o?o.v=n:(t._l=o={i:r=f(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:s,setStrong:function(t,n,e){i(t,n,function(t,e){this._t=v(t,n),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?r(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,r(1))},e?"entries":"values",!e,!0),o(n)}}},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20:[function(t,e,n){var i=t(17),r=t(10);e.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},{10:10,17:17}],21:[function(t,e,n){"use strict";function s(t){return t._l||(t._l=new m)}function i(t,e){return f(t.a,function(t){return t[0]===e})}var a=t(93),l=t(66).getWeak,r=t(7),u=t(51),c=t(6),h=t(39),o=t(12),d=t(41),p=t(125),f=o(5),v=o(6),g=0,m=function(){this.a=[]};m.prototype={get:function(t){var e=i(this,t);if(e)return e[1]},has:function(t){return!!i(this,t)},set:function(t,e){var n=i(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=v(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(t,n,i,r){var o=t(function(t,e){c(t,o,n,"_i"),t._t=n,t._i=g++,t._l=void 0,null!=e&&h(e,i,t[r],t)});return a(o.prototype,{delete:function(t){if(!u(t))return!1;var e=l(t);return!0===e?s(p(this,n)).delete(t):e&&d(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=l(t);return!0===e?s(p(this,n)).has(t):e&&d(e,this._i)}}),o},def:function(t,e,n){var i=l(r(e),!0);return!0===i?s(t).set(e,n):i[t._i]=n,t},ufstore:s}},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22:[function(t,e,n){"use strict";var m=t(40),y=t(33),b=t(94),A=t(93),w=t(66),S=t(39),E=t(6),T=t(51),x=t(35),_=t(56),C=t(101),k=t(45);e.exports=function(i,t,e,n,r,o){function s(t){var n=c[t];b(c,t,"delete"==t?function(t){return!(o&&!T(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!T(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!T(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var a=m[i],l=a,u=r?"set":"add",c=l&&l.prototype,h={};if("function"==typeof l&&(o||c.forEach&&!x(function(){(new l).entries().next()}))){var d=new l,p=d[u](o?{}:-0,1)!=d,f=x(function(){d.has(1)}),v=_(function(t){new l(t)}),g=!o&&x(function(){for(var t=new l,e=5;e--;)t[u](e,e);return!t.has(-0)});v||(((l=t(function(t,e){E(t,l,i);var n=k(new a,t,l);return null!=e&&S(e,r,n[u],n),n})).prototype=c).constructor=l),(f||g)&&(s("delete"),s("has"),r&&s("get")),(g||p)&&s(u),o&&c.clear&&delete c.clear}else l=n.getConstructor(t,i,r,u),A(l.prototype,e),w.NEED=!0;return C(l,i),h[i]=l,y(y.G+y.W+y.F*(l!=a),h),o||n.setStrong(l,i,r),l}},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23:[function(t,e,n){var i=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=i)},{}],24:[function(t,e,n){"use strict";var i=t(72),r=t(92);e.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},{72:72,92:92}],25:[function(t,e,n){var o=t(3);e.exports=function(i,r,t){if(o(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},{3:3}],26:[function(t,e,n){"use strict";function i(t){return 9<t?t:"0"+t}var r=t(35),o=Date.prototype.getTime,s=Date.prototype.toISOString;e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!r(function(){s.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":9999<t?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"."+(99<e?e:"0"+i(e))+"Z"}:s},{35:35}],27:[function(t,e,n){"use strict";var i=t(7),r=t(120);e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},{120:120,7:7}],28:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],29:[function(t,e,n){e.exports=!t(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{35:35}],30:[function(t,e,n){var i=t(51),r=t(40).document,o=i(r)&&i(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{40:40,51:51}],31:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(t,e,n){var a=t(81),l=t(78),u=t(82);e.exports=function(t){var e=a(t),n=l.f;if(n)for(var i,r=n(t),o=u.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e}},{78:78,81:81,82:82}],33:[function(t,e,n){var v=t(40),g=t(23),m=t(42),y=t(94),b=t(25),A=function(t,e,n){var i,r,o,s,a=t&A.F,l=t&A.G,u=t&A.S,c=t&A.P,h=t&A.B,d=l?v:u?v[e]||(v[e]={}):(v[e]||{}).prototype,p=l?g:g[e]||(g[e]={}),f=p.prototype||(p.prototype={});for(i in l&&(n=e),n)o=((r=!a&&d&&void 0!==d[i])?d:n)[i],s=h&&r?b(o,v):c&&"function"==typeof o?b(Function.call,o):o,d&&y(d,i,o,t&A.U),p[i]!=o&&m(p,i,s),c&&f[i]!=o&&(f[i]=o)};v.core=g,A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,e.exports=A},{23:23,25:25,40:40,42:42,94:94}],34:[function(t,e,n){var i=t(128)("match");e.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[i]=!1,!"/./"[e](n)}catch(e){}}return!0}},{128:128}],35:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],36:[function(t,e,n){"use strict";var a=t(42),l=t(94),u=t(35),c=t(28),h=t(128);e.exports=function(e,t,n){var i=h(e),r=n(c,i,""[e]),o=r[0],s=r[1];u(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})&&(l(String.prototype,e,o),a(RegExp.prototype,i,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}))}},{128:128,28:28,35:35,42:42,94:94}],37:[function(t,e,n){"use strict";var i=t(7);e.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{7:7}],38:[function(t,e,n){"use strict";var f=t(49),v=t(51),g=t(118),m=t(25),y=t(128)("isConcatSpreadable");e.exports=function t(e,n,i,r,o,s,a,l){for(var u,c,h=o,d=0,p=!!a&&m(a,l,3);d<r;){if(d in i){if(u=p?p(i[d],d,n):i[d],c=!1,v(u)&&(c=void 0!==(c=u[y])?!!c:f(u)),c&&0<s)h=t(e,n,u,g(u.length),h,s-1)-1;else{if(9007199254740991<=h)throw TypeError();e[h]=u}h++}d++}return h}},{118:118,128:128,25:25,49:49,51:51}],39:[function(t,e,n){var d=t(25),p=t(53),f=t(48),v=t(7),g=t(118),m=t(129),y={},b={};(n=e.exports=function(t,e,n,i,r){var o,s,a,l,u=r?function(){return t}:m(t),c=d(n,i,e?2:1),h=0;if("function"!=typeof u)throw TypeError(t+" is not iterable!");if(f(u)){for(o=g(t.length);h<o;h++)if((l=e?c(v(s=t[h])[0],s[1]):c(t[h]))===y||l===b)return l}else for(a=u.call(t);!(s=a.next()).done;)if((l=p(a,c,s.value,e))===y||l===b)return l}).BREAK=y,n.RETURN=b},{118:118,129:129,25:25,48:48,53:53,7:7}],40:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],41:[function(t,e,n){var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],42:[function(t,e,n){var i=t(72),r=t(92);e.exports=t(29)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{29:29,72:72,92:92}],43:[function(t,e,n){var i=t(40).document;e.exports=i&&i.documentElement},{40:40}],44:[function(t,e,n){e.exports=!t(29)&&!t(35)(function(){return 7!=Object.defineProperty(t(30)("div"),"a",{get:function(){return 7}}).a})},{29:29,30:30,35:35}],45:[function(t,e,n){var o=t(51),s=t(99).set;e.exports=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&o(i)&&s&&s(t,i),t}},{51:51,99:99}],46:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],47:[function(t,e,n){var i=t(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{18:18}],48:[function(t,e,n){var i=t(58),r=t(128)("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},{128:128,58:58}],49:[function(t,e,n){var i=t(18);e.exports=Array.isArray||function(t){return"Array"==i(t)}},{18:18}],50:[function(t,e,n){var i=t(51),r=Math.floor;e.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},{51:51}],51:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var i=t(51),r=t(18),o=t(128)("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},{128:128,18:18,51:51}],53:[function(t,e,n){var o=t(7);e.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},{7:7}],54:[function(t,e,n){"use strict";var i=t(71),r=t(92),o=t(101),s={};t(42)(s,t(128)("iterator"),function(){return this}),e.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},{101:101,128:128,42:42,71:71,92:92}],55:[function(t,e,n){"use strict";function b(){return this}var A=t(60),w=t(33),S=t(94),E=t(42),T=t(41),x=t(58),_=t(54),C=t(101),k=t(79),M=t(128)("iterator"),O=!([].keys&&"next"in[].keys());e.exports=function(t,e,n,i,r,o,s){_(n,e,i);function a(t){if(!O&&t in f)return f[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}}var l,u,c,h=e+" Iterator",d="values"==r,p=!1,f=t.prototype,v=f[M]||f["@@iterator"]||r&&f[r],g=v||a(r),m=r?d?a("entries"):g:void 0,y="Array"==e&&f.entries||v;if(y&&(c=k(y.call(new t)))!==Object.prototype&&c.next&&(C(c,h,!0),A||T(c,M)||E(c,M,b)),d&&v&&"values"!==v.name&&(p=!0,g=function(){return v.call(this)}),A&&!s||!O&&!p&&f[M]||E(f,M,g),x[e]=g,x[h]=b,r)if(l={values:d?g:a("values"),keys:o?g:a("keys"),entries:m},s)for(u in l)u in f||S(f,u,l[u]);else w(w.P+w.F*(O||p),e,l);return l}},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56:[function(t,e,n){var o=t(128)("iterator"),s=!1;try{var i=[7][o]();i.return=function(){s=!0},Array.from(i,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var i=[7],r=i[o]();r.next=function(){return{done:n=!0}},i[o]=function(){return r},t(i)}catch(t){}return n}},{128:128}],57:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],58:[function(t,e,n){e.exports={}},{}],59:[function(t,e,n){var a=t(81),l=t(117);e.exports=function(t,e){for(var n,i=l(t),r=a(i),o=r.length,s=0;s<o;)if(i[n=r[s++]]===e)return n}},{117:117,81:81}],60:[function(t,e,n){e.exports=!1},{}],61:[function(t,e,n){var i=Math.expm1;e.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},{}],62:[function(t,e,n){var o=t(65),i=Math.pow,s=i(2,-52),a=i(2,-23),l=i(2,127)*(2-a),u=i(2,-126);e.exports=Math.fround||function(t){var e,n,i=Math.abs(t),r=o(t);return i<u?r*(i/u/a+1/s-1/s)*u*a:l<(n=(e=(1+a/s)*i)-(e-i))||n!=n?r*(1/0):r*n}},{65:65}],63:[function(t,e,n){e.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],64:[function(t,e,n){e.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},{}],65:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],66:[function(t,e,n){function i(t){a(t,r,{value:{i:"O"+ ++l,w:{}}})}var r=t(124)("meta"),o=t(51),s=t(41),a=t(72).f,l=0,u=Object.isExtensible||function(){return!0},c=!t(35)(function(){return u(Object.preventExtensions({}))}),h=e.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!u(t))return"F";if(!e)return"E";i(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!u(t))return!0;if(!e)return!1;i(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!s(t,r)&&i(t),t}}},{124:124,35:35,41:41,51:51,72:72}],67:[function(t,e,n){function r(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new o)}var r=i.get(e);if(!r){if(!n)return;i.set(e,r=new o)}return r}var o=t(160),i=t(33),s=t(103)("metadata"),a=s.store||(s.store=new(t(266)));e.exports={store:a,map:r,has:function(t,e,n){var i=r(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=r(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){r(n,i,!0).set(t,e)},keys:function(t,e){var n=r(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},{103:103,160:160,266:266,33:33}],68:[function(t,e,n){var a=t(40),l=t(113).set,u=a.MutationObserver||a.WebKitMutationObserver,c=a.process,h=a.Promise,d="process"==t(18)(c);e.exports=function(){function t(){var t,e;for(d&&(t=c.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?r():i=void 0,t}}i=void 0,t&&t.enter()}var n,i,r;if(d)r=function(){c.nextTick(t)};else if(u){var e=!0,o=document.createTextNode("");new u(t).observe(o,{characterData:!0}),r=function(){o.data=e=!e}}else if(h&&h.resolve){var s=h.resolve();r=function(){s.then(t)}}else r=function(){l.call(a,t)};return function(t){var e={fn:t,next:void 0};i&&(i.next=e),n||(n=e,r()),i=e}}},{113:113,18:18,40:40}],69:[function(t,e,n){"use strict";function i(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=r(n),this.reject=r(i)}var r=t(3);e.exports.f=function(t){return new i(t)}},{3:3}],70:[function(t,e,n){"use strict";var d=t(81),p=t(78),f=t(82),v=t(119),g=t(47),r=Object.assign;e.exports=!r||t(35)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var n=v(t),i=arguments.length,r=1,o=p.f,s=f.f;r<i;)for(var a,l=g(arguments[r++]),u=o?d(l).concat(o(l)):d(l),c=u.length,h=0;h<c;)s.call(l,a=u[h++])&&(n[a]=l[a]);return n}:r},{119:119,35:35,47:47,78:78,81:81,82:82}],71:[function(i,t,e){function r(){}var o=i(7),s=i(73),a=i(31),l=i(102)("IE_PROTO"),u=function(){var t,e=i(30)("iframe"),n=a.length;for(e.style.display="none",i(43).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[a[n]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=o(t),n=new r,r.prototype=null,n[l]=t):n=u(),void 0===e?n:s(n,e)}},{102:102,30:30,31:31,43:43,7:7,73:73}],72:[function(t,e,n){var i=t(7),r=t(44),o=t(120),s=Object.defineProperty;n.f=t(29)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{120:120,29:29,44:44,7:7}],73:[function(t,e,n){var s=t(72),a=t(7),l=t(81);e.exports=t(29)?Object.defineProperties:function(t,e){a(t);for(var n,i=l(e),r=i.length,o=0;o<r;)s.f(t,n=i[o++],e[n]);return t}},{29:29,7:7,72:72,81:81}],74:[function(e,t,n){"use strict";t.exports=e(60)||!e(35)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e(40)[t]})},{35:35,40:40,60:60}],75:[function(t,e,n){var i=t(82),r=t(92),o=t(117),s=t(120),a=t(41),l=t(44),u=Object.getOwnPropertyDescriptor;n.f=t(29)?u:function(t,e){if(t=o(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76:[function(t,e,n){var i=t(117),r=t(77).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},{117:117,77:77}],77:[function(t,e,n){var i=t(80),r=t(31).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{31:31,80:80}],78:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],79:[function(t,e,n){var i=t(41),r=t(119),o=t(102)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{102:102,119:119,41:41}],80:[function(t,e,n){var s=t(41),a=t(117),l=t(11)(!1),u=t(102)("IE_PROTO");e.exports=function(t,e){var n,i=a(t),r=0,o=[];for(n in i)n!=u&&s(i,n)&&o.push(n);for(;e.length>r;)s(i,n=e[r++])&&(~l(o,n)||o.push(n));return o}},{102:102,11:11,117:117,41:41}],81:[function(t,e,n){var i=t(80),r=t(31);e.exports=Object.keys||function(t){return i(t,r)}},{31:31,80:80}],82:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],83:[function(t,e,n){var r=t(33),o=t(23),s=t(35);e.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},{23:23,33:33,35:35}],84:[function(t,e,n){var l=t(81),u=t(117),c=t(82).f;e.exports=function(a){return function(t){for(var e,n=u(t),i=l(n),r=i.length,o=0,s=[];o<r;)c.call(n,e=i[o++])&&s.push(a?[e,n[e]]:n[e]);return s}}},{117:117,81:81,82:82}],85:[function(t,e,n){var i=t(77),r=t(78),o=t(7),s=t(40).Reflect;e.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},{40:40,7:7,77:77,78:78}],86:[function(t,e,n){var i=t(40).parseFloat,r=t(111).trim;e.exports=1/i(t(112)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},{111:111,112:112,40:40}],87:[function(t,e,n){var i=t(40).parseInt,r=t(111).trim,o=t(112),s=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},{111:111,112:112,40:40}],88:[function(t,e,n){"use strict";var i=t(89),u=t(46),c=t(3);e.exports=function(){for(var r=c(this),o=arguments.length,s=Array(o),t=0,a=i._,l=!1;t<o;)(s[t]=arguments[t++])===a&&(l=!0);return function(){var t,e=arguments.length,n=0,i=0;if(!l&&!e)return u(r,s,this);if(t=s.slice(),l)for(;n<o;n++)t[n]===a&&(t[n]=arguments[i++]);for(;i<e;)t.push(arguments[i++]);return u(r,t,this)}}},{3:3,46:46,89:89}],89:[function(t,e,n){e.exports=t(40)},{40:40}],90:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],91:[function(t,e,n){var i=t(69);e.exports=function(t,e){var n=i.f(t);return(0,n.resolve)(e),n.promise}},{69:69}],92:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],93:[function(t,e,n){var r=t(94);e.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},{94:94}],94:[function(t,e,n){var o=t(40),s=t(42),a=t(41),l=t(124)("src"),i=Function.toString,u=(""+i).split("toString");t(23).inspectSource=function(t){return i.call(t)},(e.exports=function(t,e,n,i){var r="function"==typeof n;r&&(a(n,"name")||s(n,"name",e)),t[e]!==n&&(r&&(a(n,l)||s(n,l,t[e]?""+t[e]:u.join(String(e)))),t===o?t[e]=n:i?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[l]||i.call(this)})},{124:124,23:23,40:40,41:41,42:42}],95:[function(t,e,n){e.exports=function(e,n){var i=n===Object(n)?function(t){return n[t]}:n;return function(t){return String(t).replace(e,i)}}},{}],96:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],97:[function(t,e,n){"use strict";var i=t(33),l=t(3),u=t(25),c=t(39);e.exports=function(t){i(i.S,t,{from:function(t,e,n){var i,r,o,s,a=e;return l(this),(i=void 0!==a)&&l(a),null==t?new this:(r=[],i?(o=0,s=u(a,n,2),c(t,!1,function(t){r.push(s(t,o++))})):c(t,!1,r.push,r),new this(r))}})}},{25:25,3:3,33:33,39:39}],98:[function(t,e,n){"use strict";var i=t(33);e.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{33:33}],99:[function(e,t,n){function r(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var i=e(51),o=e(7);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=e(25)(Function.call,e(75).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return r(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:r}},{25:25,51:51,7:7,75:75}],100:[function(t,e,n){"use strict";var i=t(40),r=t(72),o=t(29),s=t(128)("species");e.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},{128:128,29:29,40:40,72:72}],101:[function(t,e,n){var i=t(72).f,r=t(41),o=t(128)("toStringTag");e.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},{128:128,41:41,72:72}],102:[function(t,e,n){var i=t(103)("keys"),r=t(124);e.exports=function(t){return i[t]||(i[t]=r(t))}},{103:103,124:124}],103:[function(t,e,n){var i=t(40),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(t){return r[t]||(r[t]={})}},{40:40}],104:[function(t,e,n){var r=t(7),o=t(3),s=t(128)("species");e.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||null==(n=r(i)[s])?e:o(n)}},{128:128,3:3,7:7}],105:[function(t,e,n){"use strict";var i=t(35);e.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},{35:35}],106:[function(t,e,n){var l=t(116),u=t(28);e.exports=function(a){return function(t,e){var n,i,r=String(u(t)),o=l(e),s=r.length;return o<0||s<=o?a?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===s||(i=r.charCodeAt(o+1))<56320||57343<i?a?r.charAt(o):n:a?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}}},{116:116,28:28}],107:[function(t,e,n){var i=t(52),r=t(28);e.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},{28:28,52:52}],108:[function(t,e,n){function i(t,e,n,i){var r=String(s(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),o+">"+r+"</"+e+">"}var r=t(33),o=t(35),s=t(28),a=/"/g;e.exports=function(e,t){var n={};n[e]=t(i),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},{28:28,33:33,35:35}],109:[function(t,e,n){var c=t(118),h=t(110),d=t(28);e.exports=function(t,e,n,i){var r=String(d(t)),o=r.length,s=void 0===n?" ":String(n),a=c(e);if(a<=o||""==s)return r;var l=a-o,u=h.call(s,Math.ceil(l/s.length));return u.length>l&&(u=u.slice(0,l)),i?u+r:r+u}},{110:110,118:118,28:28}],110:[function(t,e,n){"use strict";var r=t(116),o=t(28);e.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},{116:116,28:28}],111:[function(t,e,n){function i(t,e,n){var i={},r=a(function(){return!!l[t]()||"​"!="​"[t]()}),o=i[t]=r?e(h):l[t];n&&(i[n]=o),s(s.P+s.F*r,"String",i)}var s=t(33),r=t(28),a=t(35),l=t(112),o="["+l+"]",u=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),h=i.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};e.exports=i},{112:112,28:28,33:33,35:35}],112:[function(t,e,n){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],113:[function(t,e,n){function i(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}}function r(t){i.call(t.data)}var o,s,a,l=t(25),u=t(46),c=t(43),h=t(30),d=t(40),p=d.process,f=d.setImmediate,v=d.clearImmediate,g=d.MessageChannel,m=d.Dispatch,y=0,b={};f&&v||(f=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return b[++y]=function(){u("function"==typeof t?t:Function(t),e)},o(y),y},v=function(t){delete b[t]},"process"==t(18)(p)?o=function(t){p.nextTick(l(i,t,1))}:m&&m.now?o=function(t){m.now(l(i,t,1))}:g?(a=(s=new g).port2,s.port1.onmessage=r,o=l(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(t){d.postMessage(t+"","*")},d.addEventListener("message",r,!1)):o="onreadystatechange"in h("script")?function(t){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),i.call(t)}}:function(t){setTimeout(l(i,t,1),0)}),e.exports={set:f,clear:v}},{18:18,25:25,30:30,40:40,43:43,46:46}],114:[function(t,e,n){var i=t(116),r=Math.max,o=Math.min;e.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},{116:116}],115:[function(t,e,n){var i=t(116),r=t(118);e.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},{116:116,118:118}],116:[function(t,e,n){var i=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(0<t?r:i)(t)}},{}],117:[function(t,e,n){var i=t(47),r=t(28);e.exports=function(t){return i(r(t))}},{28:28,47:47}],118:[function(t,e,n){var i=t(116),r=Math.min;e.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},{116:116}],119:[function(t,e,n){var i=t(28);e.exports=function(t){return Object(i(t))}},{28:28}],120:[function(t,e,n){var r=t(51);e.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{51:51}],121:[function(t,e,n){"use strict";if(t(29)){var m=t(60),y=t(40),b=t(35),A=t(33),w=t(123),i=t(122),f=t(25),S=t(6),r=t(92),E=t(42),o=t(93),s=t(116),T=t(118),x=t(115),a=t(114),l=t(120),u=t(41),_=t(17),C=t(51),v=t(119),g=t(48),k=t(71),M=t(79),O=t(77).f,P=t(129),c=t(124),h=t(128),d=t(12),p=t(11),R=t(104),I=t(141),L=t(58),D=t(56),N=t(100),H=t(9),V=t(8),F=t(72),j=t(75),B=F.f,U=j.f,W=y.RangeError,z=y.TypeError,G=y.Uint8Array,q=Array.prototype,Y=i.ArrayBuffer,X=i.DataView,J=d(0),K=d(2),$=d(3),Q=d(4),Z=d(5),tt=d(6),et=p(!0),nt=p(!1),it=I.values,rt=I.keys,ot=I.entries,st=q.lastIndexOf,at=q.reduce,lt=q.reduceRight,ut=q.join,ct=q.sort,ht=q.slice,dt=q.toString,pt=q.toLocaleString,ft=h("iterator"),vt=h("toStringTag"),gt=c("typed_constructor"),mt=c("def_constructor"),yt=w.CONSTR,bt=w.TYPED,At=w.VIEW,wt=d(1,function(t,e){return _t(R(t,t[mt]),e)}),St=b(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Et=!!G&&!!G.prototype.set&&b(function(){new G(1).set({})}),Tt=function(t,e){var n=s(t);if(n<0||n%e)throw W("Wrong offset!");return n},xt=function(t){if(C(t)&&bt in t)return t;throw z(t+" is not a typed array!")},_t=function(t,e){if(!(C(t)&&gt in t))throw z("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return kt(R(t,t[mt]),e)},kt=function(t,e){for(var n=0,i=e.length,r=_t(t,i);n<i;)r[n]=e[n++];return r},Mt=function(t,e,n){B(t,e,{get:function(){return this._d[n]}})},Ot=function(t,e,n){var i,r,o,s,a,l,u=v(t),c=arguments.length,h=1<c?e:void 0,d=void 0!==h,p=P(u);if(null!=p&&!g(p)){for(l=p.call(u),o=[],i=0;!(a=l.next()).done;i++)o.push(a.value);u=o}for(d&&2<c&&(h=f(h,n,2)),i=0,r=T(u.length),s=_t(this,r);i<r;i++)s[i]=d?h(u[i],i):u[i];return s},Pt=function(){for(var t=0,e=arguments.length,n=_t(this,e);t<e;)n[t]=arguments[t++];return n},Rt=!!G&&b(function(){pt.call(new G(1))}),It=function(){return pt.apply(Rt?ht.call(xt(this)):xt(this),arguments)},Lt={copyWithin:function(t,e,n){return V.call(xt(this),t,e,2<arguments.length?n:void 0)},every:function(t,e){return Q(xt(this),t,1<arguments.length?e:void 0)},fill:function(t){return H.apply(xt(this),arguments)},filter:function(t,e){return Ct(this,K(xt(this),t,1<arguments.length?e:void 0))},find:function(t,e){return Z(xt(this),t,1<arguments.length?e:void 0)},findIndex:function(t,e){return tt(xt(this),t,1<arguments.length?e:void 0)},forEach:function(t,e){J(xt(this),t,1<arguments.length?e:void 0)},indexOf:function(t,e){return nt(xt(this),t,1<arguments.length?e:void 0)},includes:function(t,e){return et(xt(this),t,1<arguments.length?e:void 0)},join:function(t){return ut.apply(xt(this),arguments)},lastIndexOf:function(t){return st.apply(xt(this),arguments)},map:function(t,e){return wt(xt(this),t,1<arguments.length?e:void 0)},reduce:function(t){return at.apply(xt(this),arguments)},reduceRight:function(t){return lt.apply(xt(this),arguments)},reverse:function(){for(var t,e=xt(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t,e){return $(xt(this),t,1<arguments.length?e:void 0)},sort:function(t){return ct.call(xt(this),t)},subarray:function(t,e){var n=xt(this),i=n.length,r=a(t,i);return new(R(n,n[mt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,T((void 0===e?i:a(e,i))-r))}},Dt=function(t,e){return Ct(this,ht.call(xt(this),t,e))},Nt=function(t,e){xt(this);var n=Tt(e,1),i=this.length,r=v(t),o=T(r.length),s=0;if(i<o+n)throw W("Wrong length!");for(;s<o;)this[n+s]=r[s++]},Ht={entries:function(){return ot.call(xt(this))},keys:function(){return rt.call(xt(this))},values:function(){return it.call(xt(this))}},Vt=function(t,e){return C(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ft=function(t,e){return Vt(t,e=l(e,!0))?r(2,t[e]):U(t,e)},jt=function(t,e,n){return!(Vt(t,e=l(e,!0))&&C(n)&&u(n,"value"))||u(n,"get")||u(n,"set")||n.configurable||u(n,"writable")&&!n.writable||u(n,"enumerable")&&!n.enumerable?B(t,e,n):(t[e]=n.value,t)};yt||(j.f=Ft,F.f=jt),A(A.S+A.F*!yt,"Object",{getOwnPropertyDescriptor:Ft,defineProperty:jt}),b(function(){dt.call({})})&&(dt=pt=function(){return ut.call(this)});var Bt=o({},Lt);o(Bt,Ht),E(Bt,ft,Ht.values),o(Bt,{slice:Dt,set:Nt,constructor:function(){},toString:dt,toLocaleString:It}),Mt(Bt,"buffer","b"),Mt(Bt,"byteOffset","o"),Mt(Bt,"byteLength","l"),Mt(Bt,"length","e"),B(Bt,vt,{get:function(){return this[bt]}}),e.exports=function(t,h,e,o){function d(t,r){B(t,r,{get:function(){return t=r,(e=this._d).v[n](t*h+e.o,St);var t,e},set:function(t){return e=r,n=t,i=this._d,o&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),void i.v[s](e*h+i.o,n,St);var e,n,i},enumerable:!0})}var p=t+((o=!!o)?"Clamped":"")+"Array",n="get"+t,s="set"+t,f=y[p],a=f||{},i=f&&M(f),r=!f||!w.ABV,l={},u=f&&f.prototype;r?(f=e(function(t,e,n,i){S(t,f,p,"_d");var r,o,s,a,l=0,u=0;if(C(e)){if(!(e instanceof Y||"ArrayBuffer"==(a=_(e))||"SharedArrayBuffer"==a))return bt in e?kt(f,e):Ot.call(f,e);r=e,u=Tt(n,h);var c=e.byteLength;if(void 0===i){if(c%h)throw W("Wrong length!");if((o=c-u)<0)throw W("Wrong length!")}else if((o=T(i)*h)+u>c)throw W("Wrong length!");s=o/h}else s=x(e),r=new Y(o=s*h);for(E(t,"_d",{b:r,o:u,l:o,e:s,v:new X(r)});l<s;)d(t,l++)}),u=f.prototype=k(Bt),E(u,"constructor",f)):b(function(){f(1)})&&b(function(){new f(-1)})&&D(function(t){new f,new f(null),new f(1.5),new f(t)},!0)||(f=e(function(t,e,n,i){var r;return S(t,f,p),C(e)?e instanceof Y||"ArrayBuffer"==(r=_(e))||"SharedArrayBuffer"==r?void 0!==i?new a(e,Tt(n,h),i):void 0!==n?new a(e,Tt(n,h)):new a(e):bt in e?kt(f,e):Ot.call(f,e):new a(x(e))}),J(i!==Function.prototype?O(a).concat(O(i)):O(a),function(t){t in f||E(f,t,a[t])}),f.prototype=u,m||(u.constructor=f));var c=u[ft],v=!!c&&("values"==c.name||null==c.name),g=Ht.values;E(f,gt,!0),E(u,bt,p),E(u,At,!0),E(u,mt,f),(o?new f(1)[vt]==p:vt in u)||B(u,vt,{get:function(){return p}}),l[p]=f,A(A.G+A.W+A.F*(f!=a),l),A(A.S,p,{BYTES_PER_ELEMENT:h}),A(A.S+A.F*b(function(){a.of.call(f,1)}),p,{from:Ot,of:Pt}),"BYTES_PER_ELEMENT"in u||E(u,"BYTES_PER_ELEMENT",h),A(A.P,p,Lt),N(p),A(A.P+A.F*Et,p,{set:Nt}),A(A.P+A.F*!v,p,Ht),m||u.toString==dt||(u.toString=dt),A(A.P+A.F*b(function(){new f(1).slice()}),p,{slice:Dt}),A(A.P+A.F*(b(function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()})||!b(function(){u.toLocaleString.call([1,2])})),p,{toLocaleString:It}),L[p]=v?c:g,m||v||E(u,ft,g)}}else e.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,77:77,79:79,8:8,9:9,92:92,93:93}],122:[function(t,e,n){"use strict";function i(t,e,n){var i,r,o,s=Array(n),a=8*n-e-1,l=(1<<a)-1,u=l>>1,c=23===e?V(2,-24)-V(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=H(t))!=t||t===D?(r=t!=t?1:0,i=l):(i=F(j(t)/B),t*(o=V(2,-i))<1&&(i--,o*=2),2<=(t+=1<=i+u?c/o:c*V(2,1-u))*o&&(i++,o/=2),l<=i+u?(r=0,i=l):1<=i+u?(r=(t*o-1)*V(2,e),i+=u):(r=t*V(2,u-1)*V(2,e),i=0));8<=e;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;0<a;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*d,s}function r(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;0<a;c=256*c+t[l],l--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=e;0<a;i=256*i+t[l],l--,a-=8);if(0===c)c=1-s;else{if(c===o)return i?NaN:u?-D:D;i+=V(2,e),c-=s}return(u?-1:1)*i*V(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return i(t,52,8)}function c(t){return i(t,23,4)}function h(t,e,n){_(t[M],e,{get:function(){return this[n]}})}function d(t,e,n,i){var r=T(+n);if(r+e>t[W])throw L(O);var o=t[U]._b,s=r+t[z],a=o.slice(s,s+e);return i?a:a.reverse()}function p(t,e,n,i,r,o){var s=T(+n);if(s+e>t[W])throw L(O);for(var a=t[U]._b,l=s+t[z],u=i(+r),c=0;c<e;c++)a[l+c]=u[o?c:e-c-1]}var f=t(40),v=t(29),g=t(60),m=t(123),y=t(42),b=t(93),A=t(35),w=t(6),S=t(116),E=t(118),T=t(115),x=t(77).f,_=t(72).f,C=t(9),k=t(101),M="prototype",O="Wrong index!",P=f.ArrayBuffer,R=f.DataView,I=f.Math,L=f.RangeError,D=f.Infinity,N=P,H=I.abs,V=I.pow,F=I.floor,j=I.log,B=I.LN2,U=v?"_b":"buffer",W=v?"_l":"byteLength",z=v?"_o":"byteOffset";if(m.ABV){if(!A(function(){P(1)})||!A(function(){new P(-1)})||A(function(){return new P,new P(1.5),new P(NaN),"ArrayBuffer"!=P.name})){for(var G,q=(P=function(t){return w(this,P),new N(T(t))})[M]=N[M],Y=x(N),X=0;Y.length>X;)(G=Y[X++])in P||y(P,G,N[G]);g||(q.constructor=P)}var J=new R(new P(2)),K=R[M].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||b(R[M],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else P=function(t){w(this,P,"ArrayBuffer");var e=T(t);this._b=C.call(Array(e),0),this[W]=e},R=function(t,e,n){w(this,R,"DataView"),w(t,P,"DataView");var i=t[W],r=S(e);if(r<0||i<r)throw L("Wrong offset!");if(i<r+(n=void 0===n?i-r:E(n)))throw L("Wrong length!");this[U]=t,this[z]=r,this[W]=n},v&&(h(P,"byteLength","_l"),h(R,"buffer","_b"),h(R,"byteLength","_l"),h(R,"byteOffset","_o")),b(R[M],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t,e){var n=d(this,2,t,e);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t,e){var n=d(this,2,t,e);return n[1]<<8|n[0]},getInt32:function(t,e){return o(d(this,4,t,e))},getUint32:function(t,e){return o(d(this,4,t,e))>>>0},getFloat32:function(t,e){return r(d(this,4,t,e),23,4)},getFloat64:function(t,e){return r(d(this,8,t,e),52,8)},setInt8:function(t,e){p(this,1,t,s,e)},setUint8:function(t,e){p(this,1,t,s,e)},setInt16:function(t,e,n){p(this,2,t,a,e,n)},setUint16:function(t,e,n){p(this,2,t,a,e,n)},setInt32:function(t,e,n){p(this,4,t,l,e,n)},setUint32:function(t,e,n){p(this,4,t,l,e,n)},setFloat32:function(t,e,n){p(this,4,t,c,e,n)},setFloat64:function(t,e,n){p(this,8,t,u,e,n)}});k(P,"ArrayBuffer"),k(R,"DataView"),y(R[M],m.VIEW,!0),n.ArrayBuffer=P,n.DataView=R},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6:6,60:60,72:72,77:77,9:9,93:93}],123:[function(t,e,n){for(var i,r=t(40),o=t(42),s=t(124),a=s("typed_array"),l=s("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[d[h++]])?(o(i.prototype,a,!0),o(i.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},{124:124,40:40,42:42}],124:[function(t,e,n){var i=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},{}],125:[function(t,e,n){var i=t(51);e.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{51:51}],126:[function(t,e,n){var i=t(40),r=t(23),o=t(60),s=t(127),a=t(72).f;e.exports=function(t){var e=r.Symbol||(r.Symbol=!o&&i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{127:127,23:23,40:40,60:60,72:72}],127:[function(t,e,n){n.f=t(128)},{128:128}],128:[function(t,e,n){var i=t(103)("wks"),r=t(124),o=t(40).Symbol,s="function"==typeof o;(e.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},{103:103,124:124,40:40}],129:[function(t,e,n){var i=t(17),r=t(128)("iterator"),o=t(58);e.exports=t(23).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},{128:128,17:17,23:23,58:58}],130:[function(t,e,n){var i=t(33),r=t(95)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},{33:33,95:95}],131:[function(t,e,n){var i=t(33);i(i.P,"Array",{copyWithin:t(8)}),t(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(t,e,n){"use strict";var i=t(33),r=t(12)(4);i(i.P+i.F*!t(105)([].every,!0),"Array",{every:function(t,e){return r(this,t,e)}})},{105:105,12:12,33:33}],133:[function(t,e,n){var i=t(33);i(i.P,"Array",{fill:t(9)}),t(5)("fill")},{33:33,5:5,9:9}],134:[function(t,e,n){"use strict";var i=t(33),r=t(12)(2);i(i.P+i.F*!t(105)([].filter,!0),"Array",{filter:function(t,e){return r(this,t,e)}})},{105:105,12:12,33:33}],135:[function(t,e,n){"use strict";var i=t(33),r=t(12)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t(5)(o)},{12:12,33:33,5:5}],136:[function(t,e,n){"use strict";var i=t(33),r=t(12)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t(5)("find")},{12:12,33:33,5:5}],137:[function(t,e,n){"use strict";var i=t(33),r=t(12)(0),o=t(105)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t,e){return r(this,t,e)}})},{105:105,12:12,33:33}],138:[function(t,e,n){"use strict";var f=t(25),i=t(33),v=t(119),g=t(53),m=t(48),y=t(118),b=t(24),A=t(129);i(i.S+i.F*!t(56)(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var i,r,o,s,a=v(t),l="function"==typeof this?this:Array,u=arguments.length,c=1<u?e:void 0,h=void 0!==c,d=0,p=A(a);if(h&&(c=f(c,2<u?n:void 0,2)),null==p||l==Array&&m(p))for(r=new l(i=y(a.length));d<i;d++)b(r,d,h?c(a[d],d):a[d]);else for(s=p.call(a),r=new l;!(o=s.next()).done;d++)b(r,d,h?g(s,c,[o.value,d],!0):o.value);return r.length=d,r}})},{118:118,119:119,129:129,24:24,25:25,33:33,48:48,53:53,56:56}],139:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!t(105)(o)),"Array",{indexOf:function(t,e){return s?o.apply(this,arguments)||0:r(this,t,e)}})},{105:105,11:11,33:33}],140:[function(t,e,n){var i=t(33);i(i.S,"Array",{isArray:t(49)})},{33:33,49:49}],141:[function(t,e,n){"use strict";var i=t(5),r=t(57),o=t(58),s=t(117);e.exports=t(55)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{117:117,5:5,55:55,57:57,58:58}],142:[function(t,e,n){"use strict";var i=t(33),r=t(117),o=[].join;i(i.P+i.F*(t(47)!=Object||!t(105)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},{105:105,117:117,33:33,47:47}],143:[function(t,e,n){"use strict";var i=t(33),o=t(117),s=t(116),a=t(118),l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!t(105)(l)),"Array",{lastIndexOf:function(t,e){if(u)return l.apply(this,arguments)||0;var n=o(this),i=a(n.length),r=i-1;for(1<arguments.length&&(r=Math.min(r,s(e))),r<0&&(r=i+r);0<=r;r--)if(r in n&&n[r]===t)return r||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(t,e,n){"use strict";var i=t(33),r=t(12)(1);i(i.P+i.F*!t(105)([].map,!0),"Array",{map:function(t,e){return r(this,t,e)}})},{105:105,12:12,33:33}],145:[function(t,e,n){"use strict";var i=t(33),r=t(24);i(i.S+i.F*t(35)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)r(n,t,arguments[t++]);return n.length=e,n}})},{24:24,33:33,35:35}],146:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduceRight,!0),"Array",{reduceRight:function(t,e){return r(this,t,arguments.length,e,!0)}})},{105:105,13:13,33:33}],147:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduce,!0),"Array",{reduce:function(t,e){return r(this,t,arguments.length,e,!1)}})},{105:105,13:13,33:33}],148:[function(t,e,n){"use strict";var i=t(33),r=t(43),u=t(18),c=t(114),h=t(118),d=[].slice;i(i.P+i.F*t(35)(function(){r&&d.call(r)}),"Array",{slice:function(t,e){var n=h(this.length),i=u(this);if(e=void 0===e?n:e,"Array"==i)return d.call(this,t,e);for(var r=c(t,n),o=c(e,n),s=h(o-r),a=Array(s),l=0;l<s;l++)a[l]="String"==i?this.charAt(r+l):this[r+l];return a}})},{114:114,118:118,18:18,33:33,35:35,43:43}],149:[function(t,e,n){"use strict";var i=t(33),r=t(12)(3);i(i.P+i.F*!t(105)([].some,!0),"Array",{some:function(t,e){return r(this,t,e)}})},{105:105,12:12,33:33}],150:[function(t,e,n){"use strict";var i=t(33),r=t(3),o=t(119),s=t(35),a=[].sort,l=[1,2,3];i(i.P+i.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!t(105)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},{105:105,119:119,3:3,33:33,35:35}],151:[function(t,e,n){t(100)("Array")},{100:100}],152:[function(t,e,n){var i=t(33);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],153:[function(t,e,n){var i=t(33),r=t(26);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{26:26,33:33}],154:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120);i(i.P+i.F*t(35)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var t=r(this),e=o(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}})},{119:119,120:120,33:33,35:35}],155:[function(t,e,n){var i=t(128)("toPrimitive"),r=Date.prototype;i in r||t(42)(r,i,t(27))},{128:128,27:27,42:42}],156:[function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&t(94)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},{94:94}],157:[function(t,e,n){var i=t(33);i(i.P,"Function",{bind:t(16)})},{16:16,33:33}],158:[function(t,e,n){"use strict";var i=t(51),r=t(79),o=t(128)("hasInstance"),s=Function.prototype;o in s||t(72).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},{128:128,51:51,72:72,79:79}],159:[function(t,e,n){var i=t(72).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||t(29)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{29:29,72:72}],160:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Map",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},{125:125,19:19,22:22}],161:[function(t,e,n){var i=t(33),r=t(63),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},{33:33,63:63}],162:[function(t,e,n){var i=t(33),r=Math.asinh;i(i.S+i.F*!(r&&0<1/r(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{33:33}],163:[function(t,e,n){var i=t(33),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{33:33}],164:[function(t,e,n){var i=t(33),r=t(65);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{33:33,65:65}],165:[function(t,e,n){var i=t(33);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{33:33}],166:[function(t,e,n){var i=t(33),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{33:33}],167:[function(t,e,n){var i=t(33),r=t(61);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},{33:33,61:61}],168:[function(t,e,n){var i=t(33);i(i.S,"Math",{fround:t(62)})},{33:33,62:62}],169:[function(t,e,n){var i=t(33),l=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=l(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):0<n?r+=(i=n/a)*i:r+=n;return a===1/0?1/0:a*Math.sqrt(r)}})},{33:33}],170:[function(t,e,n){var i=t(33),r=Math.imul;i(i.S+i.F*t(35)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},{33:33,35:35}],171:[function(t,e,n){var i=t(33);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{33:33}],172:[function(t,e,n){var i=t(33);i(i.S,"Math",{log1p:t(63)})},{33:33,63:63}],173:[function(t,e,n){var i=t(33);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{33:33}],174:[function(t,e,n){var i=t(33);i(i.S,"Math",{sign:t(65)})},{33:33,65:65}],175:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S+i.F*t(35)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{33:33,35:35,61:61}],176:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},{33:33,61:61}],177:[function(t,e,n){var i=t(33);i(i.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},{33:33}],178:[function(t,e,n){"use strict";function i(t){var e=c(t,!1);if("string"==typeof e&&2<e.length){var n,i,r,o=(e=y?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,a=e.slice(2),l=0,u=a.length;l<u;l++)if((s=a.charCodeAt(l))<48||r<s)return NaN;return parseInt(a,i)}}return+e}var r=t(40),o=t(41),s=t(18),a=t(45),c=t(120),l=t(35),u=t(77).f,h=t(75).f,d=t(72).f,p=t(111).trim,f=r.Number,v=f,g=f.prototype,m="Number"==s(t(71)(g)),y="trim"in String.prototype;if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(m?l(function(){g.valueOf.call(n)}):"Number"!=s(n))?a(new v(i(e)),n,f):i(e)};for(var b,A=t(29)?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;A.length>w;w++)o(v,b=A[w])&&!o(f,b)&&d(f,b,h(v,b));(f.prototype=g).constructor=f,t(94)(r,"Number",f)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,71:71,72:72,75:75,77:77,94:94}],179:[function(t,e,n){var i=t(33);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],180:[function(t,e,n){var i=t(33),r=t(40).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{33:33,40:40}],181:[function(t,e,n){var i=t(33);i(i.S,"Number",{isInteger:t(50)})},{33:33,50:50}],182:[function(t,e,n){var i=t(33);i(i.S,"Number",{isNaN:function(t){return t!=t}})},{33:33}],183:[function(t,e,n){var i=t(33),r=t(50),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},{33:33,50:50}],184:[function(t,e,n){var i=t(33);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],185:[function(t,e,n){var i=t(33);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(t,e,n){var i=t(33),r=t(86);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{33:33,86:86}],187:[function(t,e,n){var i=t(33),r=t(87);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},{33:33,87:87}],188:[function(t,e,n){"use strict";function u(t,e){for(var n=-1,i=e;++n<6;)i+=t*s[n],s[n]=i%1e7,i=o(i/1e7)}function c(t){for(var e=6,n=0;0<=--e;)n+=s[e],s[e]=o(n/t),n=n%t*1e7}function h(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+f.call("0",7-n.length)+n}return e}var i=t(33),d=t(116),p=t(4),f=t(110),r=1..toFixed,o=Math.floor,s=[0,0,0,0,0,0],v="Number.toFixed: incorrect invocation!",g=function(t,e,n){return 0===e?n:e%2==1?g(t,e-1,n*t):g(t*t,e/2,n)};i(i.P+i.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(35)(function(){r.call({})})),"Number",{toFixed:function(t){var e,n,i,r,o=p(this,v),s=d(t),a="",l="0";if(s<0||20<s)throw RangeError(v);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(a="-",o=-o),1e-21<o)if(n=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(o*g(2,69,1))-69)<0?o*g(2,-e,1):o/g(2,e,1),n*=4503599627370496,0<(e=52-e)){for(u(0,n),i=s;7<=i;)u(1e7,0),i-=7;for(u(g(10,i,1),0),i=e-1;23<=i;)c(1<<23),i-=23;c(1<<i),u(1,1),c(2),l=h()}else u(0,n),u(1<<-e,0),l=h()+f.call("0",s);return l=0<s?a+((r=l.length)<=s?"0."+f.call("0",s-r)+l:l.slice(0,r-s)+"."+l.slice(r-s)):a+l}})},{110:110,116:116,33:33,35:35,4:4}],189:[function(t,e,n){"use strict";var i=t(33),r=t(35),o=t(4),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},{33:33,35:35,4:4}],190:[function(t,e,n){var i=t(33);i(i.S+i.F,"Object",{assign:t(70)})},{33:33,70:70}],191:[function(t,e,n){var i=t(33);i(i.S,"Object",{create:t(71)})},{33:33,71:71}],192:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperties:t(73)})},{29:29,33:33,73:73}],193:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperty:t(72).f})},{29:29,33:33,72:72}],194:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{51:51,66:66,83:83}],195:[function(t,e,n){var i=t(117),r=t(75).f;t(83)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},{117:117,75:75,83:83}],196:[function(t,e,n){t(83)("getOwnPropertyNames",function(){return t(76).f})},{76:76,83:83}],197:[function(t,e,n){var i=t(119),r=t(79);t(83)("getPrototypeOf",function(){return function(t){return r(i(t))}})},{119:119,79:79,83:83}],198:[function(t,e,n){var i=t(51);t(83)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},{51:51,83:83}],199:[function(t,e,n){var i=t(51);t(83)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{51:51,83:83}],200:[function(t,e,n){var i=t(51);t(83)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{51:51,83:83}],201:[function(t,e,n){var i=t(33);i(i.S,"Object",{is:t(96)})},{33:33,96:96}],202:[function(t,e,n){var i=t(119),r=t(81);t(83)("keys",function(){return function(t){return r(i(t))}})},{119:119,81:81,83:83}],203:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{51:51,66:66,83:83}],204:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{51:51,66:66,83:83}],205:[function(t,e,n){var i=t(33);i(i.S,"Object",{setPrototypeOf:t(99).set})},{33:33,99:99}],206:[function(t,e,n){"use strict";var i=t(17),r={};r[t(128)("toStringTag")]="z",r+""!="[object z]"&&t(94)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},{128:128,17:17,94:94}],207:[function(t,e,n){var i=t(33),r=t(86);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},{33:33,86:86}],208:[function(t,e,n){var i=t(33),r=t(87);i(i.G+i.F*(parseInt!=r),{parseInt:r})},{33:33,87:87}],209:[function(n,t,e){"use strict";function i(){}function c(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e}function r(u,e){if(!u._n){u._n=!0;var n=u._c;S(function(){for(var a=u._v,l=1==u._s,t=0;n.length>t;)!function(t){var e,n,i=l?t.ok:t.fail,r=t.resolve,o=t.reject,s=t.domain;try{i?(l||(2==u._h&&D(u),u._h=1),!0===i?e=a:(s&&s.enter(),e=i(a),s&&s.exit()),e===t.promise?o(_("Promise-chain cycle")):(n=c(e))?n.call(e,r,o):r(e)):o(a)}catch(t){o(t)}}(n[t++]);u._c=[],u._n=!1,e&&!u._h&&I(u)})}}function o(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),r(e,!0))}var s,a,l,u,h=n(60),d=n(40),p=n(25),f=n(17),v=n(33),g=n(51),m=n(3),y=n(6),b=n(39),A=n(104),w=n(113).set,S=n(68)(),E=n(69),T=n(90),x=n(91),_=d.TypeError,C=d.process,k=d.Promise,M="process"==f(C),O=a=E.f,P=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(128)("species")]=function(t){t(i,i)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e}catch(t){}}(),R=h?function(t,e){return t===e||t===k&&e===u}:function(t,e){return t===e},I=function(o){w.call(d,function(){var t,e,n,i=o._v,r=L(o);if(r&&(t=T(function(){M?C.emit("unhandledRejection",i,o):(e=d.onunhandledrejection)?e({promise:o,reason:i}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",i)}),o._h=M||L(o)?2:1),o._a=void 0,r&&t.e)throw t.v})},L=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if((e=n[i++]).fail||!L(e.promise))return!1;return!0},D=function(e){w.call(d,function(){var t;M?C.emit("rejectionHandled",e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw _("Promise can't be resolved itself");(n=c(t))?S(function(){var e={_w:i,_d:!1};try{n.call(t,p(N,e,1),p(o,e,1))}catch(t){o.call(e,t)}}):(i._v=t,i._s=1,r(i,!1))}catch(t){o.call({_w:i,_d:!1},t)}}};P||(k=function(t){y(this,k,"Promise","_h"),m(t),s.call(this);try{t(p(N,this,1),p(o,this,1))}catch(t){o.call(this,t)}},(s=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(93)(k.prototype,{then:function(t,e){var n=O(A(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&r(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),l=function(){var t=new s;this.promise=t,this.resolve=p(N,t,1),this.reject=p(o,t,1)},E.f=O=function(t){return R(k,t)?new l(t):a(t)}),v(v.G+v.W+v.F*!P,{Promise:k}),n(101)(k,"Promise"),n(100)("Promise"),u=n(23).Promise,v(v.S+v.F*!P,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),v(v.S+v.F*(h||!P),"Promise",{resolve:function(t){return t instanceof k&&R(t.constructor,this)?t:x(this,t)}}),v(v.S+v.F*!(P&&n(56)(function(t){k.all(t).catch(i)})),"Promise",{all:function(t){var s=this,e=O(s),a=e.resolve,l=e.reject,n=T(function(){var i=[],r=0,o=1;b(t,!1,function(t){var e=r++,n=!1;i.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,i[e]=t,--o||a(i))},l)}),--o||a(i)});return n.e&&l(n.v),e.promise},race:function(t){var e=this,n=O(e),i=n.reject,r=T(function(){b(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60,68:68,69:69,90:90,91:91,93:93}],210:[function(t,e,n){var i=t(33),o=t(3),s=t(7),a=(t(40).Reflect||{}).apply,l=Function.apply;i(i.S+i.F*!t(35)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var i=o(t),r=s(n);return a?a(i,e,r):l.call(i,e,r)}})},{3:3,33:33,35:35,40:40,7:7}],211:[function(t,e,n){var i=t(33),l=t(71),u=t(3),c=t(7),h=t(51),r=t(35),d=t(16),p=(t(40).Reflect||{}).construct,f=r(function(){function t(){}return!(p(function(){},[],t)instanceof t)}),v=!r(function(){p(function(){})});i(i.S+i.F*(f||v),"Reflect",{construct:function(t,e,n){u(t),c(e);var i=arguments.length<3?t:u(n);if(v&&!f)return p(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(d.apply(t,r))}var o=i.prototype,s=l(h(o)?o:Object.prototype),a=Function.apply.call(t,s,e);return h(a)?a:s}})},{16:16,3:3,33:33,35:35,40:40,51:51,7:7,71:71}],212:[function(t,e,n){var i=t(72),r=t(33),o=t(7),s=t(120);r(r.S+r.F*t(35)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},{120:120,33:33,35:35,7:7,72:72}],213:[function(t,e,n){var i=t(33),r=t(75).f,o=t(7);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{33:33,7:7,75:75}],214:[function(t,e,n){"use strict";function i(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}var r=t(33),o=t(7);t(54)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},{33:33,54:54,7:7}],215:[function(t,e,n){var i=t(75),r=t(33),o=t(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},{33:33,7:7,75:75}],216:[function(t,e,n){var i=t(33),r=t(79),o=t(7);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},{33:33,7:7,79:79}],217:[function(t,e,n){var s=t(75),a=t(79),l=t(41),i=t(33),u=t(51),c=t(7);i(i.S,"Reflect",{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return c(e)===o?e[n]:(i=s.f(e,n))?l(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:u(r=a(e))?t(r,n,o):void 0}})},{33:33,41:41,51:51,7:7,75:75,79:79}],218:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{has:function(t,e){return e in t}})},{33:33}],219:[function(t,e,n){var i=t(33),r=t(7),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},{33:33,7:7}],220:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{ownKeys:t(85)})},{33:33,85:85}],221:[function(t,e,n){var i=t(33),r=t(7),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},{33:33,7:7}],222:[function(t,e,n){var i=t(33),r=t(99);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},{33:33,99:99}],223:[function(t,e,n){var l=t(72),u=t(75),c=t(79),h=t(41),i=t(33),d=t(92),p=t(7),f=t(51);i(i.S,"Reflect",{set:function t(e,n,i){var r,o,s=arguments.length<4?e:arguments[3],a=u.f(p(e),n);if(!a){if(f(o=c(e)))return t(o,n,i,s);a=d(0)}return h(a,"value")?!(!1===a.writable||!f(s)||((r=u.f(s,n)||d(0)).value=i,l.f(s,n,r),0)):void 0!==a.set&&(a.set.call(s,i),!0)}})},{33:33,41:41,51:51,7:7,72:72,75:75,79:79,92:92}],224:[function(t,e,n){var i=t(40),o=t(45),r=t(72).f,s=t(77).f,a=t(52),l=t(37),u=i.RegExp,c=u,h=u.prototype,d=/a/g,p=/a/g,f=new u(d)!==d;if(t(29)&&(!f||t(35)(function(){return p[t(128)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")}))){u=function(t,e){var n=this instanceof u,i=a(t),r=void 0===e;return!n&&i&&t.constructor===u&&r?t:o(f?new c(i&&!r?t.source:t,e):c((i=t instanceof u)?t.source:t,i&&r?l.call(t):e),n?this:h,u)};for(var v=s(c),g=0;v.length>g;)!function(e){e in u||r(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(v[g++]);(h.constructor=u).prototype=h,t(94)(i,"RegExp",u)}t(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40,45:45,52:52,72:72,77:77,94:94}],225:[function(t,e,n){t(29)&&"g"!=/./g.flags&&t(72).f(RegExp.prototype,"flags",{configurable:!0,get:t(37)})},{29:29,37:37,72:72}],226:[function(t,e,n){t(36)("match",1,function(i,r,t){return[function(t){"use strict";var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},t]})},{36:36}],227:[function(t,e,n){t(36)("replace",2,function(r,o,s){return[function(t,e){"use strict";var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):s.call(String(n),t,e)},s]})},{36:36}],228:[function(t,e,n){t(36)("search",1,function(i,r,t){return[function(t){"use strict";var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},t]})},{36:36}],229:[function(t,e,n){t(36)("split",2,function(r,o,s){"use strict";var p=t(52),f=s,v=[].push,g="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[g]||2!="ab".split(/(?:ab)*/)[g]||4!=".".split(/(.?)(.?)/)[g]||1<".".split(/()()/)[g]||"".split(/.?/)[g]){var m=void 0===/()??/.exec("")[1];s=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!p(t))return f.call(n,t,e);var i,r,o,s,a,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),c=0,h=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,u+"g");for(m||(i=new RegExp("^"+d.source+"$(?!\\s)",u));(r=d.exec(n))&&!((o=r.index+r[0][g])>c&&(l.push(n.slice(c,r.index)),!m&&1<r[g]&&r[0].replace(i,function(){for(a=1;a<arguments[g]-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),1<r[g]&&r.index<n[g]&&v.apply(l,r.slice(1)),s=r[0][g],c=o,l[g]>=h));)d.lastIndex===r.index&&d.lastIndex++;return c===n[g]?!s&&d.test("")||l.push(""):l.push(n.slice(c)),l[g]>h?l.slice(0,h):l}}else"0".split(void 0,0)[g]&&(s=function(t,e){return void 0===t&&0===e?[]:f.call(this,t,e)});return[function(t,e){var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):s.call(String(n),t,e)},s]})},{36:36,52:52}],230:[function(e,t,n){"use strict";e(225);function i(t){e(94)(RegExp.prototype,"toString",t,!0)}var r=e(7),o=e(37),s=e(29),a=/./.toString;e(35)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?i(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)}):"toString"!=a.name&&i(function(){return a.call(this)})},{225:225,29:29,35:35,37:37,7:7,94:94}],231:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Set",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},{125:125,19:19,22:22}],232:[function(t,e,n){"use strict";t(108)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{108:108}],233:[function(t,e,n){"use strict";t(108)("big",function(t){return function(){return t(this,"big","","")}})},{108:108}],234:[function(t,e,n){"use strict";t(108)("blink",function(t){return function(){return t(this,"blink","","")}})},{108:108}],235:[function(t,e,n){"use strict";t(108)("bold",function(t){return function(){return t(this,"b","","")}})},{108:108}],236:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},{106:106,33:33}],237:[function(t,e,n){"use strict";var i=t(33),a=t(118),l=t(107),u="".endsWith;i(i.P+i.F*t(34)("endsWith"),"String",{endsWith:function(t,e){var n=l(this,t,"endsWith"),i=1<arguments.length?e:void 0,r=a(n.length),o=void 0===i?r:Math.min(a(i),r),s=String(t);return u?u.call(n,s,o):n.slice(o-s.length,o)===s}})},{107:107,118:118,33:33,34:34}],238:[function(t,e,n){"use strict";t(108)("fixed",function(t){return function(){return t(this,"tt","","")}})},{108:108}],239:[function(t,e,n){"use strict";t(108)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{108:108}],240:[function(t,e,n){"use strict";t(108)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{108:108}],241:[function(t,e,n){var i=t(33),o=t(114),s=String.fromCharCode,r=String.fromCodePoint;i(i.S+i.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;r<i;){if(e=+arguments[r++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{114:114,33:33}],242:[function(t,e,n){"use strict";var i=t(33),r=t(107);i(i.P+i.F*t(34)("includes"),"String",{includes:function(t,e){return!!~r(this,t,"includes").indexOf(t,1<arguments.length?e:void 0)}})},{107:107,33:33,34:34}],243:[function(t,e,n){"use strict";t(108)("italics",function(t){return function(){return t(this,"i","","")}})},{108:108}],244:[function(t,e,n){"use strict";var i=t(106)(!0);t(55)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},{106:106,55:55}],245:[function(t,e,n){"use strict";t(108)("link",function(e){return function(t){return e(this,"a","href",t)}})},{108:108}],246:[function(t,e,n){var i=t(33),s=t(117),a=t(118);i(i.S,"String",{raw:function(t){for(var e=s(t.raw),n=a(e.length),i=arguments.length,r=[],o=0;o<n;)r.push(String(e[o++])),o<i&&r.push(String(arguments[o]));return r.join("")}})},{117:117,118:118,33:33}],247:[function(t,e,n){var i=t(33);i(i.P,"String",{repeat:t(110)})},{110:110,33:33}],248:[function(t,e,n){"use strict";t(108)("small",function(t){return function(){return t(this,"small","","")}})},{108:108}],249:[function(t,e,n){"use strict";var i=t(33),o=t(118),s=t(107),a="".startsWith;i(i.P+i.F*t(34)("startsWith"),"String",{startsWith:function(t,e){var n=s(this,t,"startsWith"),i=o(Math.min(1<arguments.length?e:void 0,n.length)),r=String(t);return a?a.call(n,r,i):n.slice(i,i+r.length)===r}})},{107:107,118:118,33:33,34:34}],250:[function(t,e,n){"use strict";t(108)("strike",function(t){return function(){return t(this,"strike","","")}})},{108:108}],251:[function(t,e,n){"use strict";t(108)("sub",function(t){return function(){return t(this,"sub","","")}})},{108:108}],252:[function(t,e,n){"use strict";t(108)("sup",function(t){return function(){return t(this,"sup","","")}})},{108:108}],253:[function(t,e,n){"use strict";t(111)("trim",function(t){return function(){return t(this,3)}})},{111:111}],254:[function(t,e,n){"use strict";function i(t){var e=z[t]=M(H.prototype);return e._k=t,e}function r(t,e){x(t);for(var n,i=E(e=_(e)),r=0,o=i.length;r<o;)Q(t,n=i[r++],e[n]);return t}function o(t){var e=U.call(this,t=C(t,!0));return!(this===q&&c(z,t)&&!c(G,t))&&(!(e||!c(this,t)||!c(z,t)||c(this,j)&&this[j][t])||e)}function s(t,e){if(t=_(t),e=C(e,!0),t!==q||!c(z,e)||c(G,e)){var n=L(t,e);return!n||!c(z,e)||c(t,j)&&t[j][e]||(n.enumerable=!0),n}}function a(t){for(var e,n=N(_(t)),i=[],r=0;n.length>r;)c(z,e=n[r++])||e==j||e==f||i.push(e);return i}function l(t){for(var e,n=t===q,i=N(n?G:_(t)),r=[],o=0;i.length>o;)!c(z,e=i[o++])||n&&!c(q,e)||r.push(z[e]);return r}var u=t(40),c=t(41),h=t(29),d=t(33),p=t(94),f=t(66).KEY,v=t(35),g=t(103),m=t(101),y=t(124),b=t(128),A=t(127),w=t(126),S=t(59),E=t(32),T=t(49),x=t(7),_=t(117),C=t(120),k=t(92),M=t(71),O=t(76),P=t(75),R=t(72),I=t(81),L=P.f,D=R.f,N=O.f,H=u.Symbol,V=u.JSON,F=V&&V.stringify,j=b("_hidden"),B=b("toPrimitive"),U={}.propertyIsEnumerable,W=g("symbol-registry"),z=g("symbols"),G=g("op-symbols"),q=Object.prototype,Y="function"==typeof H,X=u.QObject,J=!X||!X.prototype||!X.prototype.findChild,K=h&&v(function(){return 7!=M(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=L(q,e);i&&delete q[e],D(t,e,n),i&&t!==q&&D(q,e,i)}:D,$=Y&&"symbol"==typeof H.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof H},Q=function(t,e,n){return t===q&&Q(G,e,n),x(t),e=C(e,!0),x(n),c(z,e)?(n.enumerable?(c(t,j)&&t[j][e]&&(t[j][e]=!1),n=M(n,{enumerable:k(0,!1)})):(c(t,j)||D(t,j,k(1,{})),t[j][e]=!0),K(t,e,n)):D(t,e,n)};Y||(p((H=function(t){if(this instanceof H)throw TypeError("Symbol is not a constructor!");var e=y(0<arguments.length?t:void 0),n=function(t){this===q&&n.call(G,t),c(this,j)&&c(this[j],e)&&(this[j][e]=!1),K(this,e,k(1,t))};return h&&J&&K(q,e,{configurable:!0,set:n}),i(e)}).prototype,"toString",function(){return this._k}),P.f=s,R.f=Q,t(77).f=O.f=a,t(82).f=o,t(78).f=l,h&&!t(60)&&p(q,"propertyIsEnumerable",o,!0),A.f=function(t){return i(b(t))}),d(d.G+d.W+d.F*!Y,{Symbol:H});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)b(Z[tt++]);for(var et=I(b.store),nt=0;et.length>nt;)w(et[nt++]);d(d.S+d.F*!Y,"Symbol",{for:function(t){return c(W,t+="")?W[t]:W[t]=H(t)},keyFor:function(t){if($(t))return S(W,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),d(d.S+d.F*!Y,"Object",{create:function(t,e){return void 0===e?M(t):r(M(t),e)},defineProperty:Q,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:l}),V&&d(d.S+d.F*(!Y||v(function(){var t=H();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var e,n,i=[t],r=1;r<arguments.length;)i.push(arguments[r++]);return"function"==typeof(e=i[1])&&(n=e),!n&&T(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!$(e))return e}),i[1]=e,F.apply(V,i)}}}),H.prototype[B]||t(42)(H.prototype,B,H.prototype.valueOf),m(H,"Symbol"),m(Math,"Math",!0),m(u.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77,78:78,81:81,82:82,92:92,94:94}],255:[function(t,e,n){"use strict";var i=t(33),r=t(123),o=t(122),u=t(7),c=t(114),h=t(118),s=t(51),a=t(40).ArrayBuffer,d=t(104),p=o.ArrayBuffer,f=o.DataView,l=r.ABV&&a.isView,v=p.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(a!==p),{ArrayBuffer:p}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return l&&l(t)||s(t)&&g in t}}),i(i.P+i.U+i.F*t(35)(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(u(this),t);for(var n=u(this).byteLength,i=c(t,n),r=c(void 0===e?n:e,n),o=new(d(this,p))(h(r-i)),s=new f(this),a=new f(o),l=0;i<r;)a.setUint8(l++,s.getUint8(i++));return o}}),t(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:123,33:33,35:35,40:40,51:51,7:7}],256:[function(t,e,n){var i=t(33);i(i.G+i.W+i.F*!t(123).ABV,{DataView:t(122).DataView})},{122:122,123:123,33:33}],257:[function(t,e,n){t(121)("Float32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],258:[function(t,e,n){t(121)("Float64",8,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],259:[function(t,e,n){t(121)("Int16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],260:[function(t,e,n){t(121)("Int32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],261:[function(t,e,n){t(121)("Int8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],262:[function(t,e,n){t(121)("Uint16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],263:[function(t,e,n){t(121)("Uint32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],264:[function(t,e,n){t(121)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},{121:121}],265:[function(t,e,n){t(121)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}},!0)},{121:121}],266:[function(t,e,n){"use strict";function i(e){return function(t){return e(this,0<arguments.length?t:void 0)}}var o,r=t(12)(0),s=t(94),a=t(66),l=t(70),u=t(21),c=t(51),h=t(35),d=t(125),p=a.getWeak,f=Object.isExtensible,v=u.ufstore,g={},m={get:function(t){if(c(t)){var e=p(t);return!0===e?v(d(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(d(this,"WeakMap"),t,e)}},y=e.exports=t(22)("WeakMap",i,m,u,!0,!0);h(function(){return 7!=(new y).set((Object.freeze||Object)(g),7).get(g)})&&(l((o=u.getConstructor(i,"WeakMap")).prototype,m),a.NEED=!0,r(["delete","has","get","set"],function(i){var t=y.prototype,r=t[i];s(t,i,function(t,e){if(!c(t)||f(t))return r.call(this,t,e);this._f||(this._f=new o);var n=this._f[i](t,e);return"set"==i?this:n})}))},{12:12,125:125,21:21,22:22,35:35,51:51,66:66,70:70,94:94}],267:[function(t,e,n){"use strict";var i=t(21),r=t(125);t(22)("WeakSet",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},{125:125,21:21,22:22}],268:[function(t,e,n){"use strict";var i=t(33),o=t(38),s=t(119),a=t(118),l=t(3),u=t(15);i(i.P,"Array",{flatMap:function(t,e){var n,i,r=s(this);return l(t),n=a(r.length),i=u(r,0),o(i,r,r,n,0,1,t,e),i}}),t(5)("flatMap")},{118:118,119:119,15:15,3:3,33:33,38:38,5:5}],269:[function(t,e,n){"use strict";var i=t(33),o=t(38),s=t(119),a=t(118),l=t(116),u=t(15);i(i.P,"Array",{flatten:function(t){var e=t,n=s(this),i=a(n.length),r=u(n,0);return o(r,n,n,i,0,void 0===e?1:l(e)),r}}),t(5)("flatten")},{116:116,118:118,119:119,15:15,33:33,38:38,5:5}],270:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!0);i(i.P,"Array",{includes:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),t(5)("includes")},{11:11,33:33,5:5}],271:[function(t,e,n){var i=t(33),r=t(68)(),o=t(40).process,s="process"==t(18)(o);i(i.G,{asap:function(t){var e=s&&o.domain;r(e?e.bind(t):t)}})},{18:18,33:33,40:40,68:68}],272:[function(t,e,n){var i=t(33),r=t(18);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},{18:18,33:33}],273:[function(t,e,n){var i=t(33);i(i.G,{global:t(40)})},{33:33,40:40}],274:[function(t,e,n){t(97)("Map")},{97:97}],275:[function(t,e,n){t(98)("Map")},{98:98}],276:[function(t,e,n){var i=t(33);i(i.P+i.R,"Map",{toJSON:t(20)("Map")})},{20:20,33:33}],277:[function(t,e,n){var i=t(33);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},{33:33}],278:[function(t,e,n){var i=t(33);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},{33:33}],279:[function(t,e,n){var i=t(33),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},{33:33}],280:[function(t,e,n){var i=t(33),o=t(64),s=t(62);i(i.S,"Math",{fscale:function(t,e,n,i,r){return s(o(t,e,n,i,r))}})},{33:33,62:62,64:64}],281:[function(t,e,n){var i=t(33);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},{33:33}],282:[function(t,e,n){var i=t(33);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>16,a=i>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>16)+((r*a>>>0)+(65535&l)>>16)}})},{33:33}],283:[function(t,e,n){var i=t(33);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},{33:33}],284:[function(t,e,n){var i=t(33);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},{33:33}],285:[function(t,e,n){var i=t(33),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},{33:33}],286:[function(t,e,n){var i=t(33);i(i.S,"Math",{scale:t(64)})},{33:33,64:64}],287:[function(t,e,n){var i=t(33);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},{33:33}],288:[function(t,e,n){var i=t(33);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>>16,a=i>>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>>16)+((r*a>>>0)+(65535&l)>>>16)}})},{33:33}],289:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),s=t(72);t(29)&&i(i.P+t(74),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],290:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),s=t(72);t(29)&&i(i.P+t(74),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(t,e,n){var i=t(33),r=t(84)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},{33:33,84:84}],292:[function(t,e,n){var i=t(33),l=t(85),u=t(117),c=t(75),h=t(24);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=u(t),r=c.f,o=l(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&h(s,e,n);return s}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),s=t(79),a=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.get}while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],294:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),s=t(79),a=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.set}while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],295:[function(t,e,n){var i=t(33),r=t(84)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},{33:33,84:84}],296:[function(t,e,n){"use strict";function r(t){return null==t?void 0:p(t)}function o(t){var e=t._c;e&&(t._c=void 0,e())}function s(t){return void 0===t._o}function a(t){s(t)||(t._o=void 0,o(t))}function i(t,e){f(t),this._c=void 0,this._o=t,t=new A(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:p(n),this._c=n)}catch(e){return void t.error(e)}s(this)&&o(this)}var l=t(33),u=t(40),c=t(23),h=t(68)(),d=t(128)("observable"),p=t(3),f=t(7),v=t(6),g=t(93),m=t(42),y=t(39),b=y.RETURN;i.prototype=g({},{unsubscribe:function(){a(this)}});var A=function(t){this._s=t};A.prototype=g({},{next:function(t){var e=this._s;if(!s(e)){var n=e._o;try{var i=r(n.next);if(i)return i.call(n,t)}catch(t){try{a(e)}finally{throw t}}}},error:function(t){var e=this._s;if(s(e))throw t;var n=e._o;e._o=void 0;try{var i=r(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{o(e)}finally{throw t}}return o(e),t},complete:function(t){var e=this._s;if(!s(e)){var n=e._o;e._o=void 0;try{var i=r(n.complete);t=i?i.call(n,t):void 0}catch(t){try{o(e)}finally{throw t}}return o(e),t}}});var w=function(t){v(this,w,"Observable","_f")._f=p(t)};g(w.prototype,{subscribe:function(t){return new i(t,this._f)},forEach:function(i){var r=this;return new(c.Promise||u.Promise)(function(t,e){p(i);var n=r.subscribe({next:function(t){try{return i(t)}catch(t){e(t),n.unsubscribe()}},error:e,complete:t})})}}),g(w,{from:function(t){var e="function"==typeof this?this:w,n=r(f(t)[d]);if(n){var i=f(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return h(function(){if(!n){try{if(y(t,!1,function(t){if(e.next(t),n)return b})===b)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,i=Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:w)(function(e){var n=!1;return h(function(){if(!n){for(var t=0;t<i.length;++t)if(e.next(i[t]),n)return;e.complete()}}),function(){n=!0}})}}),m(w.prototype,d,function(){return this}),l(l.G,{Observable:w}),t(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,40:40,42:42,6:6,68:68,7:7,93:93}],297:[function(t,e,n){"use strict";var i=t(33),r=t(23),o=t(40),s=t(104),a=t(91);i(i.P+i.R,"Promise",{finally:function(e){var n=s(this,r.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return a(n,e()).then(function(){return t})}:e,t?function(t){return a(n,e()).then(function(){throw t})}:e)}})},{104:104,23:23,33:33,40:40,91:91}],298:[function(t,e,n){"use strict";var i=t(33),r=t(69),o=t(90);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},{33:33,69:69,90:90}],299:[function(t,e,n){var i=t(67),r=t(7),o=i.key,s=i.set;i.exp({defineMetadata:function(t,e,n,i){s(t,e,r(n),o(i))}})},{67:67,7:7}],300:[function(t,e,n){var i=t(67),s=t(7),a=i.key,l=i.map,u=i.store;i.exp({deleteMetadata:function(t,e,n){var i=arguments.length<3?void 0:a(n),r=l(s(e),i,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var o=u.get(e);return o.delete(i),!!o.size||u.delete(e)}})},{67:67,7:7}],301:[function(t,e,n){var o=t(231),s=t(10),i=t(67),r=t(7),a=t(79),l=i.keys,u=i.key,c=function(t,e){var n=l(t,e),i=a(t);if(null===i)return n;var r=c(i,e);return r.length?n.length?s(new o(n.concat(r))):r:n};i.exp({getMetadataKeys:function(t,e){return c(r(t),arguments.length<2?void 0:u(e))}})},{10:10,231:231,67:67,7:7,79:79}],302:[function(t,e,n){var i=t(67),r=t(7),o=t(79),s=i.has,a=i.get,l=i.key,u=function(t,e,n){if(s(t,e,n))return a(t,e,n);var i=o(e);return null!==i?u(t,i,n):void 0};i.exp({getMetadata:function(t,e,n){return u(t,r(e),arguments.length<3?void 0:l(n))}})},{67:67,7:7,79:79}],303:[function(t,e,n){var i=t(67),r=t(7),o=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(t,e){return o(r(t),arguments.length<2?void 0:s(e))}})},{67:67,7:7}],304:[function(t,e,n){var i=t(67),r=t(7),o=i.get,s=i.key;i.exp({getOwnMetadata:function(t,e,n){return o(t,r(e),arguments.length<3?void 0:s(n))}})},{67:67,7:7}],305:[function(t,e,n){var i=t(67),r=t(7),o=t(79),s=i.has,a=i.key,l=function(t,e,n){if(s(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e,n){return l(t,r(e),arguments.length<3?void 0:a(n))}})},{67:67,7:7,79:79}],306:[function(t,e,n){var i=t(67),r=t(7),o=i.has,s=i.key;i.exp({hasOwnMetadata:function(t,e,n){return o(t,r(e),arguments.length<3?void 0:s(n))}})},{67:67,7:7}],307:[function(t,e,n){var i=t(67),r=t(7),o=t(3),s=i.key,a=i.set;i.exp({metadata:function(n,i){return function(t,e){a(n,i,(void 0!==e?r:o)(t),s(e))}}})},{3:3,67:67,7:7}],308:[function(t,e,n){t(97)("Set")},{97:97}],309:[function(t,e,n){t(98)("Set")},{98:98}],310:[function(t,e,n){var i=t(33);i(i.P+i.R,"Set",{toJSON:t(20)("Set")})},{20:20,33:33}],311:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},{106:106,33:33}],312:[function(t,e,n){"use strict";function r(t,e){this._r=t,this._s=e}var i=t(33),o=t(28),s=t(118),a=t(52),l=t(37),u=RegExp.prototype;t(54)(r,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(o(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):l.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=s(t.lastIndex),new r(i,e)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padEnd:function(t,e){return r(this,t,1<arguments.length?e:void 0,!1)}})},{109:109,33:33}],314:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padStart:function(t,e){return r(this,t,1<arguments.length?e:void 0,!0)}})},{109:109,33:33}],315:[function(t,e,n){"use strict";t(111)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},{111:111}],316:[function(t,e,n){"use strict";t(111)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},{111:111}],317:[function(t,e,n){t(126)("asyncIterator")},{126:126}],318:[function(t,e,n){t(126)("observable")},{126:126}],319:[function(t,e,n){var i=t(33);i(i.S,"System",{global:t(40)})},{33:33,40:40}],320:[function(t,e,n){t(97)("WeakMap")},{97:97}],321:[function(t,e,n){t(98)("WeakMap")},{98:98}],322:[function(t,e,n){t(97)("WeakSet")},{97:97}],323:[function(t,e,n){t(98)("WeakSet")},{98:98}],324:[function(t,e,n){for(var i=t(141),r=t(81),o=t(94),s=t(40),a=t(42),l=t(58),u=t(128),c=u("iterator"),h=u("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),v=0;v<f.length;v++){var g,m=f[v],y=p[m],b=s[m],A=b&&b.prototype;if(A&&(A[c]||a(A,c,d),A[h]||a(A,h,m),l[m]=d,y))for(g in i)A[g]||o(A,g,i[g],!0)}},{128:128,141:141,40:40,42:42,58:58,81:81,94:94}],325:[function(t,e,n){var i=t(33),r=t(113);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{113:113,33:33}],326:[function(t,e,n){function i(n){return u?function(t,e){return n(s(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),e)}:n}var r=t(40),o=t(33),s=t(46),a=t(88),l=r.navigator,u=!!l&&/MSIE .\./.test(l.userAgent);o(o.G+o.B+o.F*u,{setTimeout:i(r.setTimeout),setInterval:i(r.setInterval)})},{33:33,40:40,46:46,88:88}],327:[function(t,e,n){t(254),t(191),t(193),t(192),t(195),t(197),t(202),t(196),t(194),t(204),t(203),t(199),t(200),t(198),t(190),t(201),t(205),t(206),t(157),t(159),t(158),t(208),t(207),t(178),t(188),t(189),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(161),t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(175),t(176),t(177),t(241),t(246),t(253),t(244),t(236),t(237),t(242),t(247),t(249),t(232),t(233),t(234),t(235),t(238),t(239),t(240),t(243),t(245),t(248),t(250),t(251),t(252),t(152),t(154),t(153),t(156),t(155),t(140),t(138),t(145),t(142),t(148),t(150),t(137),t(144),t(134),t(149),t(132),t(147),t(146),t(139),t(143),t(131),t(133),t(136),t(135),t(151),t(141),t(224),t(230),t(225),t(226),t(227),t(228),t(229),t(209),t(160),t(231),t(266),t(267),t(255),t(256),t(261),t(264),t(265),t(259),t(262),t(260),t(263),t(257),t(258),t(210),t(211),t(212),t(213),t(214),t(217),t(215),t(216),t(218),t(219),t(220),t(221),t(223),t(222),t(270),t(268),t(269),t(311),t(314),t(313),t(315),t(316),t(312),t(317),t(318),t(292),t(295),t(291),t(289),t(290),t(293),t(294),t(276),t(310),t(275),t(309),t(321),t(323),t(274),t(308),t(320),t(322),t(273),t(319),t(272),t(277),t(278),t(279),t(280),t(281),t(283),t(282),t(284),t(285),t(286),t(288),t(287),t(297),t(298),t(299),t(300),t(302),t(301),t(304),t(303),t(305),t(306),t(307),t(271),t(296),t(326),t(325),t(324),e.exports=t(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,323:323,324:324,325:325,326:326}],328:[function(t,R,e){(function(t){!function(t){"use strict";function o(t,e,n,i){var o,s,a,l,r=e&&e.prototype instanceof d?e:d,u=Object.create(r.prototype),c=new f(i||[]);return u._invoke=(o=t,s=n,a=c,l=E,function(t,e){if(l===x)throw new Error("Generator is already running");if(l===_){if("throw"===t)throw e;return v()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var i=p(n,a);if(i){if(i===C)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===E)throw l=_,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=x;var r=h(o,s,a);if("normal"===r.type){if(l=a.done?_:T,r.arg===C)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(l=_,a.method="throw",a.arg=r.arg)}}),u}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function d(){}function n(){}function e(){}function i(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(a){function l(t,e,n,i){var r=h(a[t],a,e);if("throw"!==r.type){var o=r.arg,s=o.value;return s&&"object"==typeof s&&g.call(s,"__await")?Promise.resolve(s.__await).then(function(t){l("next",t,n,i)},function(t){l("throw",t,n,i)}):Promise.resolve(s).then(function(t){o.value=t,n(o)},i)}i(r.arg)}var e;"object"==typeof t.process&&t.process.domain&&(l=t.process.domain.bind(l)),this._invoke=function(n,i){function t(){return new Promise(function(t,e){l(n,i,t,e)})}return e=e?e.then(t,t):t()}}function p(t,e){var n=t.iterator[e.method];if(n===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,p(t,e),"throw"===e.method))return C;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,C;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,C):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function r(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function a(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(r,this),this.reset(!0)}function l(e){if(e){var t=e[y];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=u,t.done=!0,t};return i.next=i}}return{next:v}}function v(){return{value:u,done:!0}}var u,c=Object.prototype,g=c.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},y=m.iterator||"@@iterator",b=m.asyncIterator||"@@asyncIterator",A=m.toStringTag||"@@toStringTag",w="object"==typeof R,S=t.regeneratorRuntime;if(S)w&&(R.exports=S);else{(S=t.regeneratorRuntime=w?R.exports:{}).wrap=o;var E="suspendedStart",T="suspendedYield",x="executing",_="completed",C={},k={};k[y]=function(){return this};var M=Object.getPrototypeOf,O=M&&M(M(l([])));O&&O!==c&&g.call(O,y)&&(k=O);var P=e.prototype=d.prototype=Object.create(k);n.prototype=P.constructor=e,e.constructor=n,e[A]=n.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,e):(t.__proto__=e,A in t||(t[A]="GeneratorFunction")),t.prototype=Object.create(P),t},S.awrap=function(t){return{__await:t}},i(s.prototype),s.prototype[b]=function(){return this},S.AsyncIterator=s,S.async=function(t,e,n,i){var r=new s(o(t,e,n,i));return S.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},i(P),P[A]="Generator",P[y]=function(){return this},P.toString=function(){return"[object Generator]"},S.keys=function(n){var i=[];for(var t in n)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},S.values=l,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(a),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){function t(t,e){return o.type="throw",o.arg=n,i.next=t,e&&(i.method="next",i.arg=u),!!e}if(this.done)throw n;for(var i=this,e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=g.call(r,"catchLoc"),a=g.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&g.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),a(n),C}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;a(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:l(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=u),C}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])}).call(this,n(42))},function(t,e,n){"use strict";var i,r;i=[n(11),n(66)],void 0===(r=function(t,e){t.ajax=e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var f=function(){var n=/^(?:application|text)\/xml/;var i=/^application\/json/;var l=function(t,e){if(t==null)t=e.getResponseHeader("content-type");if(n.test(t)){return e.responseXML}else if(i.test(t)&&e.responseText!==""){return JSON.parse(e.responseText)}else{return e.responseText}};var u=function(t){return t.status>=200&&t.status<300||t.status===304||t.status===0&&window.location.protocol==="file:"};var d=function(i,r,o,s,a){return function(){p(i,o);if(i.readyState!==4)return;var t=i.status;var e=l(r.headers&&r.headers.Accept,i);if(u(i)){if(r.success)r.success(e);if(s)s(e)}else{var n=new Error("Server responded with a status of "+t);if(r.error)r.error(i,t,n);if(a)a(i)}}};var p=function(t,e){if(!e)return;var n=["readyState","status","statusText","responseText","responseXML","setRequestHeader","getAllResponseHeaders","getResponseHeader","statusCode","abort"];for(var i=0;i<n.length;i++){var r=n[i];try{e[r]=typeof t[r]==="function"?t[r].bind(t):t[r]}catch(t){console.log(t)}}return e};return function(t){if(t==null)throw new Error("You must provide options");if(t.type==null)t.type="GET";var n,i,e=new XMLHttpRequest;var r=f.Promise||typeof Promise!=="undefined"&&Promise;var o=r&&new r(function(t,e){n=t;i=e});if(t.contentType){if(t.headers==null)t.headers={};t.headers["Content-Type"]=t.contentType}if(t.type==="GET"&&typeof t.data==="object"){var s="";var a=function(t,e){return e==null?"":"&"+encodeURIComponent(t)+"="+encodeURIComponent(e)};for(var l in t.data){s+=a(l,t.data[l])}if(s){var u=t.url.indexOf("?")===-1?"?":"&";t.url+=u+s.substring(1)}}e.onreadystatechange=d(e,t,o,n,i);e.open(t.type,t.url,t.async!==false);if(!(t.headers&&t.headers.Accept)){var c="*/".concat("*");var h={"*":c,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"};e.setRequestHeader("Accept",t.dataType&&h[t.dataType]?h[t.dataType]+(t.dataType!=="*"?", "+c+"; q=0.01":""):h["*"])}if(t.headers)for(var l in t.headers){e.setRequestHeader(l,t.headers[l])}if(t.beforeSend)t.beforeSend(e);e.send(t.data);t.originalXhr=e;p(e,o);return o?o:e}}();return f})?i.call(e,n,e,t):i)||(t.exports=r)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var u="pending";return function(){var i=this,r=u,o=[],s=[],a=[],l=[];this.resolve=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r===u&&(o=e,r="resolved",a.forEach(function(t){return t.apply(i,e)}),l=a=null),i},this.reject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r===u&&(s=e,r="rejected",l.forEach(function(t){return t.apply(i,e)}),l=a=null),i},this.state=function(){return r},this.then=function(t){return"resolved"===r?t.apply(i,o):r===u&&a.push(t),i},this.catch=function(t){return"rejected"===r?t.apply(i,s):r===u&&l.push(t),i},this.always=function(t){return i.then(t).catch(t)};var t={then:this.then,catch:this.catch,always:this.always,state:this.state};this.promise=function(){return t},Object.freeze(this)}}.call(e,n,e,t))||(t.exports=i)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,a){"use strict";var n;void 0===(n=function(t){function e(t,e){var n;return t=t||{},i.isArray(t)||(t=[t]),t=t.filter(i.isPlainObject),(n=i.extend.apply(i,t.map(o))).mixins=i(t).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(i.isPlainObject).uniq().value(),r.mix(n),s.call(this,n,e)}var i=a(0),n=a(11),r=a(30),o=i.partialRight(i.omit,"mixins"),s=n.Model.extend;return"Model Collection View Router History".split(" ").forEach(function(t){n[t].extend=e}),e}.call(e,a,e,t))||(t.exports=n)},function(t,e,h){"use strict";var n;void 0===(n=function(t){var n,i,r,e=h(0),l=h(29),o=h(3),u=h(1),s=h(8),a=h(2),c=!1===window.globals.suppressAnalytics&&-1===window.location.protocol.indexOf("file");if(c){n=document.createElement("iframe"),i=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}(),r=s.Deferred();n.id="analytics-frame",n.src="analytics-frame.html#"+i,n.style.position="fixed",n.style.left="-1000px",n.style.top=0,window.addEventListener("message",function t(e){e.data.id===i&&("loaded"===e.data.message?r.resolve():"xhr sent"===e.data.message&&(document.body.removeChild(n),window.removeEventListener("message",t),i=n=null))}),document.body.appendChild(n)}return{initialize:function(t){e.bindAll(this,"onMounted"),this.confirmValidProps(),this.dfd=r,t.assetLib(),t.slideMap(),a.once(o.slide.HAS_MOUNTED,this.onMounted)},confirmValidProps:function(){this.hasValidProps=["productChannel","publishSource","aid","cid","playerVersion"].every(function(t){return null!=window.globals[t]})},onMounted:function(t){var e=Math.round(performance.now()),n=u.getPath(t,"props.model.parent.isMessageScene",!1),i=document.getElementById("font-test"),r=document.getElementById("font-test-download"),o=document.getElementById("font-test-default"),s=Math.floor(r.getComputedTextLength())!==Math.floor(o.getComputedTextLength()),a={os:[l.osname,l.osversion].join(" "),browser:[l.name,l.version].join(" "),playerVersion:window.globals.playerVersion,playerType:"HTML5-A",lmsPresent:window.globals.lmsPresent,tinCanPresent:window.globals.tinCanPresent,cmi5Present:window.globals.cmi5Present,aoSupport:window.globals.aoSupport,protocol:window.location.protocol.slice(0,-1),productChannel:window.globals.productChannel,publishSource:window.globals.publishSource,cid:window.globals.cid,timeToLoad:e,resumePrompt:n,canDownloadFonts:s};i.parentNode.removeChild(i),this.sendMessage("player_course_load",a)},sendMessage:function(t,e){c&&this.hasValidProps&&r.then(function(){n.contentWindow.postMessage({id:i,event:t,properties:e,aid:window.globals.aid},"*")})}}}.call(e,h,e,t))||(t.exports=n)},function(t,e,u){"use strict";var n;void 0===(n=function(t){function o(t,e){return s.findIndex(t,{id:e})}function i(t){return t instanceof n||t instanceof r}function e(e){this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=e&&(["onUpdate","onComplete"].forEach(function(t){this[t]=e[t]}.bind(this)),e.tweens&&e.tweens.forEach(function(t){var e=t.delay();i(t)&&(this.wrapGsap(t),e=a.toMilliseconds(e)),this.addSeekable(t,e,!0)}.bind(this)))}var s=u(0),a=u(1),n=u(12),r=u(34),l=u(33);return s.extend(e.prototype,{add:function(t,e,n){if(s.isString(t))this.labels[t]=e;else{if(e=s.isString(e)?this.labels[e]:e||0,s.isFunction(t))return this.insertCallback(this.wrapCallback(t,e)),void this.updateDuration(e);i(t)&&this.wrapGsap(t),s.isFunction(t.stepAnimation)&&this.addSeekable(t,e,n)}},remove:function(t){var e,n,i,r;s.isString(t)?this.labels[t]=null:null!=t.timelineData&&(e=t.timelineData.seekableId,0<=(n=o(this.callbacks,e))&&(this.callbacks.splice(n,1),0<=(i=o(this.seekables,e))&&(this.seekables.splice(i,1),0<=(r=o(this.activeSeekables,e))&&(this.activeMutated=!0,this.activeSeekables.splice(r,1)))),t.timelineData=null,this.mutated=!0)},updateDuration:function(t){t>this.duration&&(this.duration=t,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(t){this.updateDuration(t.timelineData.startTime+t.totalTime())},wrapGsap:function(i){i.pause(),i.totalTime=function(){return a.toMilliseconds(i.duration())},i.stepAnimation=function(t,e){var n=a.toSeconds(t);i.seek(n,!0),i.render(n,!!e,!0)}},addSeekable:function(t,e,n){var i=t.totalTime(),r=a.clamp(0,i,this.currentTime-e),o=this.wrapSeekable(t,e);this.seekables.push(o),this.insertCallback(o),!n&&this.currentTime>=e&&((this.executingCallbacks||r<=i)&&o.timelineCallback(),this.executingCallbacks||t.stepAnimation(r)),this.updateDuration(e+t.totalTime())},wrapCallback:function(t,e){return{startTime:e,id:s.uniqueId("wc"),timelineCallback:t}},wrapSeekable:function(t,e){var n=s.uniqueId("ws"),i={startTime:e,id:n,seekable:t};return i.timelineCallback=function(){i.seekable.killed||this.activeSeekables.push(i)}.bind(this),t.timelineData={parent:this,seekableId:n,startTime:e},i},insertCallback:function(t){0===this.callbacks.length||t.startTime>=s.last(this.callbacks).startTime?this.callbacks.push(t):this.callbacks.splice(s.sortedLastIndex(this.callbacks,t,"startTime"),0,t)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:l.time()-this.startTime)},play:function(){!this.playing&&!this.hasParentTimeline()&&this.currentTime<this.duration&&(this.playing=!0,this.startTime=l.time()-this.currentTime,l.requestAnimationFrame(this.tick.bind(this)))},seek:function(t,e){this.hasParentTimeline()||(t<=this.lastCallbackTime&&this.reset(),this.startTime=l.time()-t,this.currentTime=t,this.executingCallbacks&&!this.renderDirty||this.update(e))},reset:function(){this.killed||(this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach(function(t){null!=t.seekable.reset&&t.seekable.reset()}))},progress:function(t,e){return null==t?a.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(t*this.duration,e),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return a.clamp(0,this.duration,this.currentTime)},totalTime:function(t){if(null==t)return this.duration;this.duration=t},tick:function(){var t;this.killed||(t=this.currentTime,this.currentTime=l.time()-this.startTime,this.playing&&(t<this.duration||0<this.activeSeekables.length)&&!this.hasParentTimeline()&&(this.update(),l.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(t,e){this.currentTime;this.currentTime=a.clamp(0,this.duration,t),this.update(e)},update:function(t){this.renderDirty=!1,!this.silent&&this.executeCallbacks()&&(this.updateActiveSeekables(t),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,t||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var t=s.sortedLastIndex(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(t>=this.callbacks.length)return!(this.executingCallbacks=!1);for(var e=this.callbacks.slice(t),n=e.length,i=0,r=this.currentTime;!this.killed&&i<n&&e[i].startTime<=r;){if(this.lastCallbackTime=e[i].startTime,e[i].timelineCallback(),r>this.currentTime)return this.executingCallbacks=!1;r=this.currentTime,i++}return!(this.executingCallbacks=!1)},updateActiveSeekables:function(t){var e,n,i,r=this.activeSeekables.length-1;for(this.activeMutated=!1;0<=r&&!this.killed;)(!this.activeMutated||r<this.activeSeekables.length)&&(e=(i=this.activeSeekables[r]).seekable,n=i.startTime,e.stepAnimation(this.currentTime-n,t),this.currentTime>=n+e.totalTime()&&(!this.activeMutated||i===this.activeSeekables[r])&&this.activeSeekables.splice(r,1)),r--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach(function(t){null!=t.seekable.kill&&t.seekable.kill()}),this.seekables=null)}}),e}.call(e,u,e,t))||(t.exports=n)},function(t,e,n){!function(){var t=this.Backbone;t=t||n(11);var i=Array.prototype.slice;function r(t,n){t.prototype[n]=function(){var t=arguments.length?"set":"get",e=i.call(arguments);return e.unshift(n),this[t].apply(this,e)}}t.Model.shorthandify=function(t){if(!(t=t||this.prototype.shorthand))return this;"string"==typeof t&&(t=[t]);for(var e=0,n=t.length;e<n;e++)r(this,t[e]);return this},e.shorthandify=t.Model.shorthandify}()},function(t,e,b){"use strict";var n;void 0===(n=function(t){var o,s,e,a=b(0),l=b(34),u=b(33),c=b(3),h=b(2),d=b(1),p=b(5),f=b(74),v=b(37),n=b(14),g=b(6).addBodyListener,m={},i=window.vInterfaceObject||window,y={mainWindow:null,updateTime:function(){var t=n.getCurrentWindowSlide();return null!=t&&u.tick(),this.getIsPlaying(t)||e},getIsPlaying:function(t){var e=this,n=t.getBaseLayer(),i=t.slideLayers().activeLayers,r=this.isLayerTimelinePlaying(n);return!r&&0<i.length&&(r=i.some(function(t){return e.isLayerTimelinePlaying(t)})),r},isLayerTimelinePlaying:function(t){return!t.getHasTimelineFinished()&&!t.getIsTimelinePaused()},nextSlide:function(){var t=o.shift();t&&h.trigger(c.request.NEXT_SLIDE,d.prefixWithPlayer(t))},pausePlayer:function(){h.trigger(c.detection.VISIBILITY_HIDDEN)},playPlayer:function(){h.trigger(c.detection.VISIBILITY_SHOWN)}},r={silenceActions:{trigger_next_slide:!1,close_player:!1},initialize:function(n,t){var e=d.parseParams();if("1"===e.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0,this.silenceActions.close_player=!0),window.autoSpider){s=e.frametimems?parseFloat(e.frametimems):33.33,g("mousedown",this.onPlayerClicked.bind(this)),g("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=t.display().width(),window.g_nHeight=t.display().height(),"1"===e.overrideclock&&(l.prototype.play=a.noop,u.overrideClock(s),this.clockIsOverridden=!0,h.on(c.video.STATE_CHANGED,this.onVideoEvent.bind(this)));o=a(t.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter(function(t){return!/^MsgScene|^PromptScene/.test(t)}).tap(function(t){t.forEach(function(t){var e=n.getSlide(d.prefixWithPlayer(t)).get("showAnimationId");null!=e&&(m[e]=t)})}).rest().value();var i={playerTime:0,type:"dark-spider",AdvanceFrame:function(){return y.updateTime()},AutoUpdateTime:function(){u.tick()},UpdateAutomationTime:function(t){var e=u.frameTimeMs;u.frameTimeMs=t-u.currentTime,u.tick(),u.frameTimeMs=e},TriggerNextSlide:function(){y.nextSlide()},TriggerPause:function(){p.env.is360&&y.pausePlayer()},TriggerPlay:function(){p.env.is360&&y.playPlayer()},CaptureSlideImage:function(){return f.generate()},GetCourseStateData:function(){return v.getState()},GetTargetDuration:function(t){var e=m[t];return e?n.getSlide(d.prefixWithPlayer(e)).getTransitionAnimation().duration():n.getSlide(d.prefixWithPlayer(t)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return i},a.bindAll(this,"onSlideStarted","onSlideTransition","onNextSlideRequesting","onMainWindowCreated","onEnterFullscreen","onExitFullscreen","onLoaderShown","onLoaderHidden","onTincanStatement","onPlayButtonShown");var r={};r[c.slide.STARTED]=this.onSlideStarted,r[c.slide.TRANSITION_STARTED]=this.onSlideTransition,r[c.layer.TIMELINE_ACTIVATED]=this.onLayerTimelineActivated,r[c.loader.SHOW]=this.onLoaderShown,r[c.loader.HIDE]=this.onLoaderHidden,r[c.window.MAIN_CREATED]=this.onMainWindowCreated,r[c.request.NEXT_SLIDE]=this.onNextSlideRequesting,r[c.presentation.ENTER_FULLSCREEN]=this.onEnterFullscreen,r[c.presentation.EXIT_FULLSCREEN]=this.onExitFullscreen,r[c.startOverlay.READY]=this.onPlayButtonShown,p.env.isRise&&(r[c.tincan.STATEMENT]=this.onTincanStatement),h.on(r)}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(t){y.mainWindow=t,this.callIfExists("AutomationReady")},onSlideTransition:function(t,e,n){this.callIfExists("OnSlideTransition",t,e,n)},onSlideStarted:function(t){e=!1,this.callIfExists("OnSlideStarted",t)},onMediaStarted:function(t){this.callIfExists("OnMediaStarted",t)},onNextSlideRequesting:function(){e=!0,this.callIfExists("OnNextSlideRequesting")},onPlayButtonShown:function(){this.callIfExists("OnPlayButtonShown")},onLoaderShown:function(){this.callIfExists("OnLoaderShown")},onLoaderHidden:function(){this.callIfExists("OnLoaderHidden")},onVideoEvent:function(t,e,n){this.callIfExists("OnVideoEvent",t,e,n)},onTincanStatement:function(t){this.callIfExists("LmsUpdate",t)},onLayerTimelineActivated:function(t){if(t.isBaseLayer()){var e=t.getClosestAncestorByKind("slide").absoluteId;r.onSlideStarted(d.stripPlayer(e))}},callIfExists:function(t){var e=i[t];"function"==typeof e&&e.apply(i,a.rest(arguments))}};return r}.call(e,b,e,t))||(t.exports=n)},function(t,e,i){"use strict";var n;void 0===(n=function(t){var u=i(14),c=i(4),n=i(0),h=i(15),e=i(5),d=e.device.isMobile,p=e.theme.isUnified,f=/data-reactid="(.*?)"/g,v=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g;return{createVideoThumb:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=parseFloat(t.parentNode.style.width),r=parseFloat(t.parentNode.style.height);return(isNaN(i)||isNaN(r))&&(i=parseFloat(t.parentNode.parentNode.style.width),r=parseFloat(t.parentNode.parentNode.style.height)),e.width=i,e.height=r,n.drawImage(t,0,0,e.width,e.height),{uri:e.toDataURL("image/jpeg",.8),src:t.src}},addVideoImageThumbs:function(t,e){var i={};return n(t).map(this.createVideoThumb).forEach(function(t){i[t.src]=t.uri}).value(),e.replace(/<video(.*?)<\/video>/g,function(t){var e,n=document.createElement("div");return n.innerHTML=t,e=n.querySelector("video").src,['<img src="',i[e],'"/>'].join("")})},generate:function(){var t,e,n,i,r,o,s=u.getCurrentWindow().getCurSlide(),a="",l=d||p?h.getWindowScale():h.getScale();return null!=s?(t=s.el.innerHTML,e=s.props.model.get("width"),n=s.props.model.get("height"),t=t.replace(f,"").replace(v,"-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;"),0<(o=document.getElementById("slide").querySelectorAll("video")).length&&(t=this.addVideoImageThumbs(o,t)),r=function(t){var e;if(null!=t)return(e=document.createElement("div")).id="lib",e.setAttribute("class","offscreen"),e.innerHTML=t.innerHTML,[e.querySelector("#video-pen"),e.querySelector("#presentation-canvas"),e.querySelector("#zoomimage-container"),e.querySelector("canvas")].forEach(function(t){null!=t&&t.parentNode.removeChild(t)}),e}(i=document.getElementById(c.els.LIB)),null!=i&&(a=r.outerHTML.replace(f,"")),{width:e,height:n,html:['<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/'+(d?"mobile":"desktop")+'.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+e*l+"px; height: "+n*l+'px; } </style> </head> <body> <div class="slide-thumb">',t,a,'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+n*l+", slideW = "+e*l+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); <\/script> </body></html>'].join("")}):{html:null}}}}.call(e,i,e,t))||(t.exports=n)},function(t,e,_){"use strict";var n;void 0===(n=function(t){function u(t){var e={id:t.id,description:{}};return e.description[y]=t.lmstext,e}var e,d=_(0),n=_(8),c=_(1),i=_(3),r=_(2),s=window.TinCan||_(76),o=_(4),a=_(18),l=s.Utils.convertMillisecondsToISO8601Duration,h=s.Utils.getUUID,p="choice",f="matching",v="sequencing",g="http://adlnet.gov/expapi/activities/course",m="http://adlnet.gov/expapi/activities/cmi.interaction",y="und",b="http://",A=/file/.test(window.location.protocol),w={};w[p]=w[v]=function(t,e){t.choices=e.choices().map(u)},w[f]=function(t,e){t.target=e.choices().map(u),t.source=e.statements().map(u)};var S={likert:"likert"};S.sequence=v,S.multiplechoice=S.truefalse=S.hotspot=S.wordbank=S.multipleresponse=p,S.numeric="numeric",S.fillin="fill-in",S.essay="long-fill-in",S.matching=f;var E={};E.multiplechoice=E.hotspot=E.wordbank=E.sequence=E.truefalse=E.multipleresponse=function(t){var e=t&&t.choiceResponse,n=null!=e?e:t;return c.stripChoice(n)},E.essay=E.fillin=E.numeric=d.identity,E.matching=function(t){return[c.stripStatement(t.statementResponse),c.stripChoice(t.choiceResponse)].join("[.]")};var T=void 0,x=void 0;return{queue:[],tinCan:null,resumer:null,scoring:null,scorings:null,version:0,retryCount:0,setTotalSlides:d.noop,reportStatus:d.noop,initialize:function(t,e,n,i,r){if(window.globals.tinCanPresent||r){this.setPreso(i);var o=c.queryStringToObj();return this.urlParams=o,this.version=e,null!=o.activity_id&&(b=o.activity_id.replace(/\/$/,"")),this.scorings=n,this.scoring=this.scorings.first(),this.tinCan=A||r?new s:new s({url:window.location.toString().replace("&tincan=true","")}),this.sendData=r?this.sendStatementLocal:this.sendStatement,y=i.get("tincanLanguage"),this}},setPreso:function(t){e=t},setResumer:function(t){this.resumer=t},createConfig:function(t){return null==this.urlParams.activity_id&&(t.activity={id:"http://"+e.get("courseId")}),t},getItem:function(){this.resumeDfd=n.Deferred();var t=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState("resume",t),A&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(t,e){var n=this.createConfig({callback:d.noop});this.tinCan.setState("resume",e,n)},sendResumeReady:function(t,e){null==t&&this.resumeDfd.resolve(e&&e.contents)},courseStarted:function(t){var e=this.getStmtObj({type:g,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb("attempted")});t||(e.result={completion:!1}),this.queueStatement(e)},quizComplete:function(t){if(!x){T=t.scoring;var e=t.get("lmstext"),n=this.getStmtObj(t.id,{type:"http://adlnet.gov/expapi/activities/objective",name:e,description:e,verb:this.getVerb(this.getCompletedVerb(t))});t.get("issurvey")||(n.result={score:{scaled:t.prop("PercentScore")/100,raw:t.prop("Score"),min:0,max:t.maxPoints},success:t.isPassed()}),this.queueStatement(n)}},courseComplete:function(t,e){if(!e&&!x){x=!0;var n=this.getStmtObj({type:g,name:t.get("lmstext"),description:t.get("description"),verb:this.getVerb(this.getCompletedVerb(t))});n.result={duration:l(this.resumer.getCourseTime()),completion:!0},t.isSurvey()||t.isAction()||(n.result.score={scaled:t.getPercentScore()},n.result.success=t.isPassed()),this.queueStatement(n)}},manualCourseComplete:function(t,e){this.courseComplete(e,!1)},quizRetried:function(t){a.hasFlag(a.constants.MULTIPLE_QUIZ_TRACKING)&&T==t&&(x=!1)},viewedComplete:function(t){if(!x){x=!0;var e=this.getStmtObj({type:g,name:t.get("lmstext"),description:t.get("description"),verb:this.getVerb("completed")}),n={};n[this.formatUri("viewcount")]=t.viewedSlides,e.result={completion:!0,duration:l(this.resumer.getCourseTime()),extensions:n},this.queueStatement(e)}},slideViewed:function(t){var e=t.get("title"),n=this.getStmtObj(t.id,{type:"http://adlnet.gov/expapi/activities/module",name:e,description:e,verb:this.getVerb("experienced")});this.queueStatement(n)},interactionAnswered:function(t,e){this[e.isType("likert")?"logLikert":"logQuestion"](t,e)},logLikert:function(a,l){l.hasResponses()&&l.responses.forEach(function(t,e){var n=l.statements()[e].lmstext,i=c.stripStatement(t.statementResponse),r=[l.parent.id,l.id,i],o={scale:l.choices().map(u),interactionType:S.likert},s=this.getStmtObj(r,{type:m,name:n,description:n,verb:this.getVerb("answered"),parent:this.formatUri(a.id)});this.setDefinitions(s,o),s.result={response:c.stripChoice(t.choiceResponse)},this.queueStatement(s)}.bind(this))},logQuestion:function(t,e){if(e.hasResponses()){var n,i=e.get("lmstext"),r=e.type(),o=S[r],s=E[r],a=w[o]||d.noop,l={interactionType:o},u={response:e.responses.map(s).join("[,]")},c=[e.parent.id,e.id],h=this.getStmtObj(c,{type:m,name:i,description:i,verb:this.getVerb("answered"),parent:this.formatUri(t.id)});(n=o)!==f&&n!==v&&n!==p||(l.correctResponsesPattern=[this.getCorrectResponses(e)]),a(l,e),this.setDefinitions(h,l),e.get("issurvey")||(u.success=e.isPassing(),u.score={raw:e.prop("Score")}),h.result=u,this.queueStatement(h)}},formatUri:function(){var t=d.compact(arguments),e=[b],n=this.version<1?".":"/";return e.concat(t).join(n)},getCorrectResponses:function(t){var e=t.prop("CorrectResponse"),n=t.isType("sequence");return e.map(function(t){var e=t.id;return n?e=t.choice.id:t.choice&&t.statement&&(e=[t.statement.id,t.choice.id].join("[.]")),e}).join("[,]")},getVerb:function(t){var e=new s.Verb(t);return e.display["en-US"]=e.display.und,delete e.display.und,e},getCompletedVerb:function(t){return null==t||t.isType("survey")?"completed":t.isPassed()?"passed":"failed"},setDefinitions:function(t,e){d.extend(t.object.definition,e)},getStmtObj:function(t,e){d.isPlainObject(t)&&(e=t,t=void 0);var n={name:{},description:{}};return n.name[y]=e.name||"",n.description[y]=e.description||"",n.type=e.type,d.isArray(t)||(t=[t]),{id:h(),object:{id:this.formatUri.apply(this,t),definition:n},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:e.parent||b,objectType:"Activity"}]}},verb:e.verb,objectType:"Activity"}},queueStatement:function(t){0===this.queue.length?this.sendData(t):this.queue.unshift(t)},sendStatementCallback:function(t,e){var n=this;null!=t[0].err&&this.retryCount<o.XAPI_RETRY_INTERVALS_MS.length?setTimeout(function(){return n.sendStatement(e)},o.XAPI_RETRY_INTERVALS_MS[this.retryCount++]):(this.retryCount=0,this.popQueue())},popQueue:function(){0<this.queue.length&&this.sendData(this.queue.pop())},sendStatement:function(t){this.tinCan.sendStatement(t,this.sendStatementCallback.bind(this))},sendStatementLocal:function(t){r.trigger(i.tincan.STATEMENT,t),this.popQueue()}}}.call(e,_,e,t))||(t.exports=n)},function(module,exports,__webpack_require__){var CryptoJS=CryptoJS||function(a){var t={},e=t.lib={},n=e.Base={extend:function(t){c.prototype=this;var e=new c;return t&&e.mixIn(t),e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}},l=e.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||r).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;t=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=a.ceil(e/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*a.random()|0);return l.create(e,t)}}),i=t.enc={},r=i.Hex={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return l.create(n,e/2)}},o=i.Latin1={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return l.create(n,e)}},s=i.Utf8={stringify:function(t){try{return decodeURIComponent(escape(o.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return o.parse(unescape(encodeURIComponent(t)))}},u=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=l.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=s.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,i=e.sigBytes,r=this.blockSize,o=i/(4*r);t=(o=t?a.ceil(o):a.max((0|o)-this._minBufferSize,0))*r,i=a.min(4*t,i);if(t){for(var s=0;s<t;s+=r)this._doProcessBlock(n,s);s=n.splice(0,t),e.sigBytes-=i}return l.create(s,i)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});function c(){}e.Hasher=u.extend({init:function(){this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=u.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(n){return function(t,e){return n.create(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return h.HMAC.create(n,e).finalize(t)}}});var h=t.algo={};return t}(Math),zNc,BNc,ANc,CNc,DNc,UNc,TinCan;zNc=CryptoJS,BNc=(ANc=zNc.lib).WordArray,ANc=ANc.Hasher,CNc=[],DNc=zNc.algo.SHA1=ANc.extend({_doReset:function(){this._hash=BNc.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=0;l<80;l++){if(l<16)CNc[l]=0|t[e+l];else{var u=CNc[l-3]^CNc[l-8]^CNc[l-14]^CNc[l-16];CNc[l]=u<<1|u>>>31}u=(i<<5|i>>>27)+a+CNc[l],u=l<20?u+(1518500249+(r&o|~r&s)):l<40?u+(1859775393+(r^o^s)):l<60?u+((r&o|r&s|o&s)-1894007588):u+((r^o^s)-899497514),a=s,s=o,o=r<<30|r>>>2,r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[15+(64+i>>>9<<4)]=n,t.sigBytes=4*e.length,this._process()}}),zNc.SHA1=ANc._createHelper(DNc),zNc.HmacSHA1=ANc._createHmacHelper(DNc),UNc=CryptoJS.lib.WordArray,CryptoJS.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)r.push(i.charAt(s>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(t){var e=(t=t.replace(/\s/g,"")).length,n=this._map,i=n.charAt(64);if(i){var r=t.indexOf(i);-1!=r&&(e=r)}for(var o=[],s=0,a=0;a<e;a++)if(a%4){var l=n.indexOf(t.charAt(a-1))<<a%4*2,u=n.indexOf(t.charAt(a))>>>6-a%4*2;o[s>>>2]|=(l|u)<<24-s%4*8,s++}return UNc.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(){"use strict";var l={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};(TinCan=function(t){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(t)}).prototype={LOG_SRC:"TinCan",log:function(t,e){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(e=e||this.LOG_SRC||"TinCan",console.log("TinCan."+e+": "+t))},init:function(t){var e;if(this.log("init"),(t=t||{}).hasOwnProperty("url")&&""!==t.url&&this._initFromQueryString(t.url),t.hasOwnProperty("recordStores")&&void 0!==t.recordStores)for(e=0;e<t.recordStores.length;e+=1)this.addRecordStore(t.recordStores[e]);t.hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),t.hasOwnProperty("actor")&&(t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),t.hasOwnProperty("registration")&&(this.registration=t.registration)},_initFromQueryString:function(t){this.log("_initFromQueryString");var e,n,i,r=TinCan.Utils.parseURL(t).params,o=["endpoint","auth"],s={},a=null;if(r.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+r.actor);try{this.actor=TinCan.Agent.fromJSON(r.actor),delete r.actor}catch(t){this.log("_initFromQueryString - failed to set actor: "+t)}}if(r.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:r.activity_id}),delete r.activity_id),(r.hasOwnProperty("activity_platform")||r.hasOwnProperty("registration")||r.hasOwnProperty("grouping"))&&(i={},r.hasOwnProperty("activity_platform")&&(i.platform=r.activity_platform,delete r.activity_platform),r.hasOwnProperty("registration")&&(i.registration=this.registration=r.registration,delete r.registration),r.hasOwnProperty("grouping")&&(i.contextActivities={},i.contextActivities.grouping=r.grouping,delete r.grouping),this.context=new TinCan.Context(i)),r.hasOwnProperty("endpoint")){for(e=0;e<o.length;e+=1)n=o[e],r.hasOwnProperty(n)&&(s[n]=r[n],delete r[n]);for(e in r)r.hasOwnProperty(e)&&(l.hasOwnProperty(e)?delete r[e]:(a=a||{})[e]=r[e]);null!==a&&(s.extended=a),s.allowFail=!1,this.addRecordStore(s)}},addRecordStore:function(t){var e;this.log("addRecordStore"),e=t instanceof TinCan.LRS?t:new TinCan.LRS(t),this.recordStores.push(e)},prepareStatement:function(t){return this.log("prepareStatement"),t instanceof TinCan.Statement||(t=new TinCan.Statement(t)),null===t.actor&&null!==this.actor&&(t.actor=this.actor),null===t.target&&null!==this.activity&&(t.target=this.activity),null!==this.context&&(null===t.context?t.context=this.context:(null===t.context.registration&&(t.context.registration=this.context.registration),null===t.context.platform&&(t.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===t.context.contextActivities?t.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===t.context.contextActivities.grouping&&(t.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===t.context.contextActivities.parent&&(t.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===t.context.contextActivities.other&&(t.context.contextActivities.other=this.context.contextActivities.other))))),t},sendStatement:function(t,i){this.log("sendStatement");var e,n,r,o=this,s=this.prepareStatement(t),a=this.recordStores.length,l=[],u=[];if(0<a)for("function"==typeof i&&(r=function(t,e){var n;o.log("sendStatement - callbackWrapper: "+a),1<a?(--a,u.push({err:t,xhr:e})):1===a?(u.push({err:t,xhr:e}),n=[u,s],i.apply(this,n)):o.log("sendStatement - unexpected record store count: "+a)}),n=0;n<a;n+=1)e=this.recordStores[n],l.push(e.saveStatement(s,{callback:r}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof i&&i.apply(this,[null,s]);return{statement:s,results:l}},getStatement:function(t,e){if(this.log("getStatement"),0<this.recordStores.length)return this.recordStores[0].retrieveStatement(t,{callback:e});this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(t,i,e){this.log("voidStatement");var n,r,o,s,a,l=this,u=this.recordStores.length,c=[],h=[];if(t instanceof TinCan.Statement&&(t=t.id),void 0!==e.actor?r=e.actor:null!==this.actor&&(r=this.actor),o=new TinCan.Statement({actor:r,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:t}}),0<u)for("function"==typeof i&&(a=function(t,e){var n;l.log("voidStatement - callbackWrapper: "+u),1<u?(--u,h.push({err:t,xhr:e})):1===u?(h.push({err:t,xhr:e}),n=[h,o],i.apply(this,n)):l.log("voidStatement - unexpected record store count: "+u)}),s=0;s<u;s+=1)n=this.recordStores[s],c.push(n.saveStatement(o,{callback:a}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof i&&i.apply(this,[null,o]);return{statement:o,results:c}},getVoidedStatement:function(t,e){if(this.log("getVoidedStatement"),0<this.recordStores.length)return this.recordStores[0].retrieveVoidedStatement(t,{callback:e});this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(t,i){this.log("sendStatements");var e,n,r,o=this,s=[],a=this.recordStores.length,l=[],u=[];if(0===t.length)"function"==typeof i&&i.apply(this,[null,s]);else{for(n=0;n<t.length;n+=1)s.push(this.prepareStatement(t[n]));if(0<a)for("function"==typeof i&&(r=function(t,e){var n;o.log("sendStatements - callbackWrapper: "+a),1<a?(--a,u.push({err:t,xhr:e})):1===a?(u.push({err:t,xhr:e}),n=[u,s],i.apply(this,n)):o.log("sendStatements - unexpected record store count: "+a)}),n=0;n<a;n+=1)e=this.recordStores[n],l.push(e.saveStatements(s,{callback:r}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof i&&i.apply(this,[null,s])}return{statements:s,results:l}},getStatements:function(t){this.log("getStatements");var e,n,i={};if(0<this.recordStores.length)return e=this.recordStores[0],n=(t=t||{}).params||{},t.sendActor&&null!==this.actor&&("0.9"===e.version||"0.95"===e.version?n.actor=this.actor:n.agent=this.actor),t.sendActivity&&null!==this.activity&&("0.9"===e.version||"0.95"===e.version?n.target=this.activity:n.activity=this.activity),void 0===n.registration&&null!==this.registration&&(n.registration=this.registration),i={params:n},void 0!==t.callback&&(i.callback=t.callback),e.queryStatements(i);this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(t,e){var n,i;if(this.log("getState"),0<this.recordStores.length)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.retrieveState(t,n);this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(t,e,n){var i,r;if(this.log("setState"),0<this.recordStores.length)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor,activity:void 0!==n.activity?n.activity:this.activity},void 0!==n.registration?i.registration=n.registration:null!==this.registration&&(i.registration=this.registration),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),void 0!==n.callback&&(i.callback=n.callback),r.saveState(t,e,i);this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(t,e){var n,i;if(this.log("deleteState"),0<this.recordStores.length)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.dropState(t,n);this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(t,e){var n,i;if(this.log("getActivityProfile"),0<this.recordStores.length)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.retrieveActivityProfile(t,n);this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(t,e,n){var i,r;if(this.log("setActivityProfile"),0<this.recordStores.length)return r=this.recordStores[0],i={activity:void 0!==(n=n||{}).activity?n.activity:this.activity},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveActivityProfile(t,e,i);this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(t,e){var n,i;if(this.log("deleteActivityProfile"),0<this.recordStores.length)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.dropActivityProfile(t,n);this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(t,e){var n,i;if(this.log("getAgentProfile"),0<this.recordStores.length)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.retrieveAgentProfile(t,n);this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(t,e,n){var i,r;if(this.log("setAgentProfile"),0<this.recordStores.length)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveAgentProfile(t,e,i);this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(t,e){var n,i;if(this.log("deleteAgentProfile"),0<this.recordStores.length)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.dropAgentProfile(t,n);this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},module.exports=TinCan}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},getISODateString:function(t){function e(t,e){var n,i;for(null==t&&(t=0),null==e&&(e=2),n=Math.pow(10,e-1),i=t.toString();t<n&&1<n;)i="0"+i,n/=10;return i}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+e(t.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(t){var e,n,i,r,o=0<=t.indexOf("-"),s=t.indexOf("T"),a=t.indexOf("H"),l=t.indexOf("M"),u=t.indexOf("S");if(-1===s||-1!==l&&l<s||-1!==t.indexOf("D")||-1!==t.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return e=-1===a?(a=s,0):parseInt(t.slice(s+1,a),10),n=-1===l?(l=s,0):parseInt(t.slice(a+1,l),10),i=parseFloat(t.slice(l+1,u)),r=parseInt(1e3*(60*(60*e+n)+i),10),isNaN(r)&&(r=0),o&&(r*=-1),r},convertMillisecondsToISO8601Duration:function(t){var e,n,i=parseInt(t,10),r="",o="";return i<0&&(r="-",i*=-1),o=r+"PT",0<(e=parseInt(i/36e5,10))&&(o+=e+"H"),0<(n=parseInt(i%36e5/6e4,10))&&(o+=n+"M"),o+=i%36e5%6e4/1e3+"S"},getSHA1String:function(t){return CryptoJS.SHA1(t).toString(CryptoJS.enc.Hex)},getBase64String:function(t){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(t))},getLangDictionaryValue:function(t,e){var n,i=this[t];if(void 0!==e&&void 0!==i[e])return i[e];if(void 0!==i.und)return i.und;if(void 0!==i["en-US"])return i["en-US"];for(n in i)if(i.hasOwnProperty(n))return i[n];return""},parseURL:function(t){function e(t){return decodeURIComponent(t.replace(s," "))}var n,i,r,o,s=/\+/g,a=/([^&=]+)=?([^&]*)/g;if(n=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),(r={protocol:(i=t.match(n))[1],host:i[2],hostname:i[3],port:i[4],pathname:i[5],search:i[6],hash:i[7],params:{}}).path=r.protocol+"//"+r.host+r.pathname,""!==r.search)for(;o=a.exec(r.search.substring(1));)r.params[e(o[1])]=e(o[2]);return r},getServerRoot:function(t){var e=t.split("/");return e[0]+"//"+e[2]},getContentTypeFromHeader:function(t){return String(t).split(";")[0]},isApplicationJSON:function(t){return 0===TinCan.Utils.getContentTypeFromHeader(t).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var t=TinCan.LRS=function(t){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(t)};t.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=TinCan.versions(),i=!1;if((t=t||{}).hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!t.hasOwnProperty("endpoint")||null===t.endpoint||""===t.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(t.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),t.hasOwnProperty("allowFail")&&(this.allowFail=t.allowFail),t.hasOwnProperty("auth")?this.auth=t.auth:t.hasOwnProperty("username")&&t.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(t.username+":"+t.password)),t.hasOwnProperty("extended")&&(this.extended=t.extended),this._initByEnvironment(t),void 0!==t.version){for(this.log("version: "+t.version),e=0;e<n.length;e+=1)if(n[e]===t.version){i=!0;break}if(!i)throw this.log("[error] LRS invalid: version not supported ("+t.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+t.version+")"};this.version=t.version}else this.version=n[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(t){this.log("sendRequest");var e,n=this.endpoint+t.url,i={};if(0===t.url.indexOf("http")&&(n=t.url),null!==this.extended)for(e in t.params=t.params||{},this.extended)this.extended.hasOwnProperty(e)&&(t.params.hasOwnProperty(e)||null!==this.extended[e]&&(t.params[e]=this.extended[e]));for(e in i.Authorization=this.auth,"0.9"!==this.version&&(i["X-Experience-API-Version"]=this.version),t.headers)t.headers.hasOwnProperty(e)&&(i[e]=t.headers[e]);return this._makeRequest(n,i,t)},about:function(i){var t,e,n;if(this.log("about"),t={url:"about",method:"GET",params:{}},void 0!==(i=i||{}).callback&&(n=function(t,e){var n=e;null===t&&(n=TinCan.About.fromJSON(e.responseText)),i.callback(t,n)},t.callback=n),e=this.sendRequest(t),!n)return null===e.err&&(e.xhr=TinCan.About.fromJSON(e.xhr.responseText)),e},saveStatement:function(t,e){var n,i;this.log("saveStatement"),e=e||{};try{i=t.asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}return n={url:"statements",data:JSON.stringify(i),headers:{"Content-Type":"application/json"}},null!==t.id?(n.method="PUT",n.params={statementId:t.id}):n.method="POST",void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveStatement:function(t,i){var e,n,r;return this.log("retrieveStatement"),e={url:"statements",method:"GET",params:{statementId:t}},void 0!==(i=i||{}).callback&&(r=function(t,e){var n=e;null===t&&(n=TinCan.Statement.fromJSON(e.responseText)),i.callback(t,n)},e.callback=r),n=this.sendRequest(e),r||(n.statement=null)===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText)),n},retrieveVoidedStatement:function(t,i){var e,n,r;return this.log("retrieveVoidedStatement"),i=i||{},e={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?e.params.statementId=t:e.params.voidedStatementId=t,void 0!==i.callback&&(r=function(t,e){var n=e;null===t&&(n=TinCan.Statement.fromJSON(e.responseText)),i.callback(t,n)},e.callback=r),n=this.sendRequest(e),r||(n.statement=null)===n.err&&(n.statement=TinCan.Statement.fromJSON(n.xhr.responseText)),n},saveStatements:function(t,e){this.log("saveStatements");var n,i,r,o=[];if(e=e||{},0===t.length)return void 0!==e.callback?void e.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(r=0;r<t.length;r+=1){try{i=t[r].asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}o.push(i)}return n={url:"statements",method:"POST",data:JSON.stringify(o),headers:{"Content-Type":"application/json"}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},queryStatements:function(i){var t,e,n;this.log("queryStatements"),(i=i||{}).params=i.params||{};try{t=this._queryStatementsRequestCfg(i)}catch(t){return this.log("[error] Query statements failed - "+t),void 0!==i.callback&&i.callback(t,{}),{err:t,statementsResult:null}}return void 0!==i.callback&&(n=function(t,e){var n=e;null===t&&(n=TinCan.StatementsResult.fromJSON(e.responseText)),i.callback(t,n)},t.callback=n),(e=this.sendRequest(t)).config=t,n||(e.statementsResult=null)===e.err&&(e.statementsResult=TinCan.StatementsResult.fromJSON(e.xhr.responseText)),e},_queryStatementsRequestCfg:function(t){this.log("_queryStatementsRequestCfg");var e,n,i={},r={url:"statements",method:"GET",params:i},o=["agent","actor","object","instructor"],s=["verb","activity"],a=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};for(n in u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],t.params.hasOwnProperty("target")&&(t.params.object=t.params.target),t.params)if(t.params.hasOwnProperty(n)&&void 0===l[n]&&void 0===u[this.version].supported[n])throw"Unrecognized query parameter configured: "+n;for(e=0;e<o.length;e+=1)void 0!==t.params[o[e]]&&(i[o[e]]=JSON.stringify(t.params[o[e]].asVersion(this.version)));for(e=0;e<s.length;e+=1)void 0!==t.params[s[e]]&&(i[s[e]]=t.params[s[e]].id);for(e=0;e<a.length;e+=1)void 0!==t.params[a[e]]&&(i[a[e]]=t.params[a[e]]);return r},moreStatements:function(i){var t,e,n,r,o;return this.log("moreStatements: "+i.url),i=i||{},r=TinCan.Utils.parseURL(i.url),o=TinCan.Utils.getServerRoot(this.endpoint),0===r.path.indexOf("/statements")&&(r.path=this.endpoint.replace(o,"")+r.path,this.log("converting non-standard more URL to "+r.path)),0!==r.path.indexOf("/")&&(r.path="/"+r.path),t={method:"GET",url:o+r.path,params:r.params},void 0!==i.callback&&(n=function(t,e){var n=e;null===t&&(n=TinCan.StatementsResult.fromJSON(e.responseText)),i.callback(t,n)},t.callback=n),(e=this.sendRequest(t)).config=t,n||(e.statementsResult=null)===e.err&&(e.statementsResult=TinCan.StatementsResult.fromJSON(e.xhr.responseText)),e},retrieveState:function(i,r){this.log("retrieveState");var t,e,n={},o={};if(n={stateId:i,activityId:r.activity.id},"0.9"===this.version?n.actor=JSON.stringify(r.agent.asVersion(this.version)):n.agent=JSON.stringify(r.agent.asVersion(this.version)),void 0!==r.registration&&null!==r.registration&&("0.9"===this.version?n.registrationId=r.registration:n.registration=r.registration),o={url:"activities/state",method:"GET",params:n,ignore404:!0},void 0!==r.callback&&(e=function(t,e){var n=e;if(null===t)if(404===e.status)n=null;else if(n=new TinCan.State({id:i,contents:e.responseText}),void 0!==e.getResponseHeader&&null!==e.getResponseHeader("ETag")&&""!==e.getResponseHeader("ETag")?n.etag=e.getResponseHeader("ETag"):n.etag=TinCan.Utils.getSHA1String(e.responseText),void 0!==e.contentType?n.contentType=e.contentType:void 0!==e.getResponseHeader&&null!==e.getResponseHeader("Content-Type")&&""!==e.getResponseHeader("Content-Type")&&(n.contentType=e.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.contentType))try{n.contents=JSON.parse(n.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}r.callback(t,n)},o.callback=e),t=this.sendRequest(o),!e&&(t.state=null)===t.err&&404!==t.xhr.status&&(t.state=new TinCan.State({id:i,contents:t.xhr.responseText}),void 0!==t.xhr.getResponseHeader&&null!==t.xhr.getResponseHeader("ETag")&&""!==t.xhr.getResponseHeader("ETag")?t.state.etag=t.xhr.getResponseHeader("ETag"):t.state.etag=TinCan.Utils.getSHA1String(t.xhr.responseText),void 0!==t.xhr.contentType?t.state.contentType=t.xhr.contentType:void 0!==t.xhr.getResponseHeader&&null!==t.xhr.getResponseHeader("Content-Type")&&""!==t.xhr.getResponseHeader("Content-Type")&&(t.state.contentType=t.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(t.state.contentType)))try{t.state.contents=JSON.parse(t.state.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}return t},saveState:function(t,e,n){var i,r;return this.log("saveState"),void 0===n.contentType&&(n.contentType="application/octet-stream"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),i={stateId:t,activityId:n.activity.id},"0.9"===this.version?i.actor=JSON.stringify(n.agent.asVersion(this.version)):i.agent=JSON.stringify(n.agent.asVersion(this.version)),void 0!==n.registration&&null!==n.registration&&("0.9"===this.version?i.registrationId=n.registration:i.registration=n.registration),r={url:"activities/state",method:n.method,params:i,data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(r.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1&&(r.headers["If-Match"]=n.lastSHA1),this.sendRequest(r)},dropState:function(t,e){var n,i;return this.log("dropState"),n={activityId:e.activity.id},"0.9"===this.version?n.actor=JSON.stringify(e.agent.asVersion(this.version)):n.agent=JSON.stringify(e.agent.asVersion(this.version)),null!==t&&(n.stateId=t),void 0!==e.registration&&null!==e.registration&&("0.9"===this.version?n.registrationId=e.registration:n.registration=e.registration),i={url:"activities/state",method:"DELETE",params:n},void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)},retrieveActivityProfile:function(i,r){this.log("retrieveActivityProfile");var t,e,n={};if(n={url:"activities/profile",method:"GET",params:{profileId:i,activityId:r.activity.id},ignore404:!0},void 0!==r.callback&&(e=function(t,e){var n=e;if(null===t)if(404===e.status)n=null;else if(n=new TinCan.ActivityProfile({id:i,activity:r.activity,contents:e.responseText}),void 0!==e.getResponseHeader&&null!==e.getResponseHeader("ETag")&&""!==e.getResponseHeader("ETag")?n.etag=e.getResponseHeader("ETag"):n.etag=TinCan.Utils.getSHA1String(e.responseText),void 0!==e.contentType?n.contentType=e.contentType:void 0!==e.getResponseHeader&&null!==e.getResponseHeader("Content-Type")&&""!==e.getResponseHeader("Content-Type")&&(n.contentType=e.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.contentType))try{n.contents=JSON.parse(n.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}r.callback(t,n)},n.callback=e),t=this.sendRequest(n),!e&&(t.profile=null)===t.err&&404!==t.xhr.status&&(t.profile=new TinCan.ActivityProfile({id:i,activity:r.activity,contents:t.xhr.responseText}),void 0!==t.xhr.getResponseHeader&&null!==t.xhr.getResponseHeader("ETag")&&""!==t.xhr.getResponseHeader("ETag")?t.profile.etag=t.xhr.getResponseHeader("ETag"):t.profile.etag=TinCan.Utils.getSHA1String(t.xhr.responseText),void 0!==t.xhr.contentType?t.profile.contentType=t.xhr.contentType:void 0!==t.xhr.getResponseHeader&&null!==t.xhr.getResponseHeader("Content-Type")&&""!==t.xhr.getResponseHeader("Content-Type")&&(t.profile.contentType=t.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(t.profile.contentType)))try{t.profile.contents=JSON.parse(t.profile.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}return t},saveActivityProfile:function(t,e,n){var i;return this.log("saveActivityProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={url:"activities/profile",method:n.method,params:{profileId:t,activityId:n.activity.id},data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropActivityProfile:function(t,e){var n;return this.log("dropActivityProfile"),n={url:"activities/profile",method:"DELETE",params:{profileId:t,activityId:e.activity.id}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveAgentProfile:function(i,r){this.log("retrieveAgentProfile");var t,e,n={};if(n={method:"GET",params:{profileId:i},ignore404:!0},"0.9"===this.version?(n.url="actors/profile",n.params.actor=JSON.stringify(r.agent.asVersion(this.version))):(n.url="agents/profile",n.params.agent=JSON.stringify(r.agent.asVersion(this.version))),void 0!==r.callback&&(e=function(t,e){var n=e;if(null===t)if(404===e.status)n=null;else if(n=new TinCan.AgentProfile({id:i,agent:r.agent,contents:e.responseText}),void 0!==e.getResponseHeader&&null!==e.getResponseHeader("ETag")&&""!==e.getResponseHeader("ETag")?n.etag=e.getResponseHeader("ETag"):n.etag=TinCan.Utils.getSHA1String(e.responseText),void 0!==e.contentType?n.contentType=e.contentType:void 0!==e.getResponseHeader&&null!==e.getResponseHeader("Content-Type")&&""!==e.getResponseHeader("Content-Type")&&(n.contentType=e.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.contentType))try{n.contents=JSON.parse(n.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}r.callback(t,n)},n.callback=e),t=this.sendRequest(n),!e&&(t.profile=null)===t.err&&404!==t.xhr.status&&(t.profile=new TinCan.AgentProfile({id:i,agent:r.agent,contents:t.xhr.responseText}),void 0!==t.xhr.getResponseHeader&&null!==t.xhr.getResponseHeader("ETag")&&""!==t.xhr.getResponseHeader("ETag")?t.profile.etag=t.xhr.getResponseHeader("ETag"):t.profile.etag=TinCan.Utils.getSHA1String(t.xhr.responseText),void 0!==t.xhr.contentType?t.profile.contentType=t.xhr.contentType:void 0!==t.xhr.getResponseHeader&&null!==t.xhr.getResponseHeader("Content-Type")&&""!==t.xhr.getResponseHeader("Content-Type")&&(t.profile.contentType=t.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(t.profile.contentType)))try{t.profile.contents=JSON.parse(t.profile.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}return t},saveAgentProfile:function(t,e,n){var i;return this.log("saveAgentProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={method:n.method,params:{profileId:t},data:e,headers:{"Content-Type":n.contentType}},"0.9"===this.version?(i.url="actors/profile",i.params.actor=JSON.stringify(n.agent.asVersion(this.version))):(i.url="agents/profile",i.params.agent=JSON.stringify(n.agent.asVersion(this.version))),void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropAgentProfile:function(t,e){var n,i;return this.log("dropAgentProfile"),i={method:"DELETE",params:n={profileId:t}},"0.9"===this.version?(i.url="actors/profile",n.actor=JSON.stringify(e.agent.asVersion(this.version))):(i.url="agents/profile",n.agent=JSON.stringify(e.agent.asVersion(this.version))),void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)}},t.syncEnabled=null}(),function(){"use strict";var n=TinCan.AgentAccount=function(t){this.log("constructor"),this.homePage=null,this.name=null,this.init(t)};n.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["name","homePage"];for(void 0!==(t=t||{}).accountServiceHomePage&&(t.homePage=t.accountServiceHomePage),void 0!==t.accountName&&(t.name=t.accountName),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){this.log("toString");var t="";return null!==this.name||null!==this.homePage?(t+=null!==this.name?this.name:"-",t+=":",t+=null!==this.homePage?this.homePage:"-"):t="AgentAccount: unidentified",t},asVersion:function(t){this.log("asVersion: "+t);var e={};return"0.9"===(t=t||TinCan.versions()[0])?(e.accountName=this.name,e.accountServiceHomePage=this.homePage):(e.name=this.name,e.homePage=this.homePage),e}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.Agent=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(t)};n.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i=["name","mbox","mbox_sha1sum","openid"];for(void 0!==(t=t||{}).lastName||void 0!==t.firstName?(t.name="",void 0!==t.firstName&&0<t.firstName.length&&(t.name=t.firstName[0],1<t.firstName.length&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.lastName&&0<t.lastName.length&&(t.name+=t.lastName[0],1<t.lastName.length&&(this.degraded=!0))):void 0===t.familyName&&void 0===t.givenName||(t.name="",void 0!==t.givenName&&0<t.givenName.length&&(t.name=t.givenName[0],1<t.givenName.length&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.familyName&&0<t.familyName.length&&(t.name+=t.familyName[0],1<t.familyName.length&&(this.degraded=!0))),"object"==typeof t.name&&null!==t.name&&(1<t.name.length&&(this.degraded=!0),t.name=t.name[0]),"object"==typeof t.mbox&&null!==t.mbox&&(1<t.mbox.length&&(this.degraded=!0),t.mbox=t.mbox[0]),"object"==typeof t.mbox_sha1sum&&null!==t.mbox_sha1sum&&(1<t.mbox_sha1sum.length&&(this.degraded=!0),t.mbox_sha1sum=t.mbox_sha1sum[0]),"object"==typeof t.openid&&null!==t.openid&&(1<t.openid.length&&(this.degraded=!0),t.openid=t.openid[0]),"object"==typeof t.account&&null!==t.account&&void 0===t.account.homePage&&void 0===t.account.name&&(0===t.account.length?delete t.account:(1<t.account.length&&(this.degraded=!0),t.account=t.account[0])),t.hasOwnProperty("account")&&(t.account instanceof TinCan.AgentAccount?this.account=t.account:this.account=new TinCan.AgentAccount(t.account)),e=0;e<i.length;e+=1)t.hasOwnProperty(i[e])&&null!==t[i[e]]&&(n=t[i[e]],"mbox"===i[e]&&-1===n.indexOf("mailto:")&&(n="mailto:"+n),this[i[e]]=n)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(t){this.log("asVersion: "+t);var e={objectType:this.objectType};return"0.9"===(t=t||TinCan.versions()[0])?(null!==this.mbox?e.mbox=[this.mbox]:null!==this.mbox_sha1sum?e.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?e.openid=[this.openid]:null!==this.account&&(e.account=[this.account.asVersion(t)]),null!==this.name&&(e.name=[this.name])):(null!==this.mbox?e.mbox=this.mbox:null!==this.mbox_sha1sum?e.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?e.openid=this.openid:null!==this.account&&(e.account=this.account.asVersion(t)),null!==this.name&&(e.name=this.name)),e}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.Group=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(t)};n.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(t){var e;if(this.log("init"),t=t||{},TinCan.Agent.prototype.init.call(this,t),void 0!==t.member)for(e=0;e<t.member.length;e+=1)t.member[e]instanceof TinCan.Agent?this.member.push(t.member[e]):this.member.push(new TinCan.Agent(t.member[e]))},toString:function(t){this.log("toString");var e=TinCan.Agent.prototype.toString.call(this,t);return e!==this.objectType+": unidentified"&&(e=this.objectType+": "+e),e},asVersion:function(t){var e,n;if(this.log("asVersion: "+t),t=t||TinCan.versions()[0],e=TinCan.Agent.prototype.asVersion.call(this,t),0<this.member.length)for(e.member=[],n=0;n<this.member.length;n+=1)e.member.push(this.member[n].asVersion(t));return e}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var r={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},n=TinCan.Verb=function(t){this.log("constructor"),this.id=null,this.display=null,this.init(t)};n.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i=["id","display"];if("string"==typeof t){for(n in this.id=t,this.display={und:this.id},r)if(r.hasOwnProperty(n)&&r[n]===t){this.id=n;break}}else{for(t=t||{},e=0;e<i.length;e+=1)t.hasOwnProperty(i[e])&&null!==t[i[e]]&&(this[i[e]]=t[i[e]]);null===this.display&&void 0!==r[this.id]&&(this.display={und:r[this.id]})}},toString:function(t){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",t):this.id},asVersion:function(t){var e;return this.log("asVersion"),"0.9"===(t=t||TinCan.versions()[0])?e=r[this.id]:(e={id:this.id},null!==this.display&&(e.display=this.display)),e},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.Result=function(t){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(t)};n.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["completion","duration","extensions","response","success"];for((t=t||{}).hasOwnProperty("score")&&null!==t.score&&(t.score instanceof TinCan.Score?this.score=t.score:this.score=new TinCan.Score(t.score)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(t){this.log("asVersion");var e,n={},i=["success","duration","response","extensions"],r=["score"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.completion&&("0.9"===t?this.completion&&(n.completion="Completed"):n.completion=this.completion),n}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.Score=function(t){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(t)};n.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["scaled","raw","min","max"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n={},i=["scaled","raw","min","max"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);return n}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.InteractionComponent=function(t){this.log("constructor"),this.id=null,this.description=null,this.init(t)};n.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","description"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n,i={id:this.id},r=["description"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)null!==this[n=r[e]]&&(i[n]=this[n]);return i},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var a={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},n=TinCan.ActivityDefinition=function(t){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(t)};n.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r=["name","description","moreInfo","extensions","correctResponsesPattern"],o=[];if((t=t||{}).hasOwnProperty("type")&&null!==t.type){for(i in a)a.hasOwnProperty(i)&&a[i]===t.type&&(t.type=a[i]);this.type=t.type}if(t.hasOwnProperty("interactionType")&&null!==t.interactionType&&(this.interactionType=t.interactionType,"choice"===t.interactionType||"sequencing"===t.interactionType?o.push("choices"):"likert"===t.interactionType?o.push("scale"):"matching"===t.interactionType?(o.push("source"),o.push("target")):"performance"===t.interactionType&&o.push("steps"),0<o.length))for(e=0;e<o.length;e+=1)if(i=o[e],t.hasOwnProperty(i)&&null!==t[i])for(this[i]=[],n=0;n<t[i].length;n+=1)t[i][n]instanceof TinCan.InteractionComponent?this[i].push(t[i][n]):this[i].push(new TinCan.InteractionComponent(t[i][n]));for(e=0;e<r.length;e+=1)t.hasOwnProperty(r[e])&&null!==t[r[e]]&&(this[r[e]]=t[r[e]])},toString:function(t){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",t):null!==this.description?this.getLangDictionaryValue("description",t):""},asVersion:function(t){this.log("asVersion");var e,n,i,r={},o=["name","description","interactionType","correctResponsesPattern","extensions"],s=["choices","scale","source","target","steps"];for(t=t||TinCan.versions()[0],null!==this.type&&(r.type="0.9"===t?a[this.type]:this.type),e=0;e<o.length;e+=1)null!==this[i=o[e]]&&(r[i]=this[i]);for(e=0;e<s.length;e+=1)if(null!==this[i=s[e]])for(r[i]=[],n=0;n<this[i].length;n+=1)r[i].push(this[i][n].asVersion(t));return 0!==t.indexOf("0.9")&&null!==this.moreInfo&&(r.moreInfo=this.moreInfo),r},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.Activity=function(t){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(t)};n.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for((t=t||{}).hasOwnProperty("definition")&&(t.definition instanceof TinCan.ActivityDefinition?this.definition=t.definition:this.definition=new TinCan.ActivityDefinition(t.definition)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){this.log("toString");var e="";return null!==this.definition&&""!==(e=this.definition.toString(t))?e:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(t){this.log("asVersion");var e={id:this.id,objectType:this.objectType};return t=t||TinCan.versions()[0],null!==this.definition&&(e.definition=this.definition.asVersion(t)),e}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.ContextActivities=function(t){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(t)};n.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r,o=["category","parent","grouping","other"];for(t=t||{},e=0;e<o.length;e+=1)if(i=o[e],t.hasOwnProperty(i)&&null!==t[i])if("[object Array]"===Object.prototype.toString.call(t[i]))for(n=0;n<t[i].length;n+=1)this.add(i,t[i][n]);else r=t[i],this.add(i,r)},add:function(t,e){if("category"===t||"parent"===t||"grouping"===t||"other"===t)return null===this[t]&&(this[t]=[]),e instanceof TinCan.Activity||(e="string"==typeof e?{id:e}:e,e=new TinCan.Activity(e)),this[t].push(e),this[t].length-1},asVersion:function(t){this.log("asVersion");var e,n,i={},r=["parent","grouping","other"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)if(null!==this[r[e]]&&0<this[r[e]].length)if("0.9"===t||"0.95"===t)1<this[r[e]].length&&this.log("[warning] version does not support multiple values in: "+r[e]),i[r[e]]=this[r[e]][0].asVersion(t);else for(i[r[e]]=[],n=0;n<this[r[e]].length;n+=1)i[r[e]].push(this[r[e]][n].asVersion(t));if(null!==this.category&&0<this.category.length){if("0.9"===t||"0.95"===t)throw this.log("[error] version does not support the 'category' property: "+t),new Error(t+" does not support the 'category' property");for(i.category=[],e=0;e<this.category.length;e+=1)i.category.push(this.category[e].asVersion(t))}return i}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.Context=function(t){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(t)};n.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r=["registration","revision","platform","language","extensions"],o=["instructor","team"];for(t=t||{},e=0;e<r.length;e+=1)n=r[e],t.hasOwnProperty(n)&&null!==t[n]&&(this[n]=t[n]);for(e=0;e<o.length;e+=1)n=o[e],t.hasOwnProperty(n)&&null!==t[n]&&(void 0!==(i=t[n]).objectType&&"Person"!==i.objectType||(i.objectType="Agent"),"Agent"!==i.objectType||i instanceof TinCan.Agent?"Group"!==i.objectType||i instanceof TinCan.Group||(i=new TinCan.Group(i)):i=new TinCan.Agent(i),this[n]=i);t.hasOwnProperty("contextActivities")&&null!==t.contextActivities&&(t.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=t.contextActivities:this.contextActivities=new TinCan.ContextActivities(t.contextActivities)),t.hasOwnProperty("statement")&&null!==t.statement&&(t.statement instanceof TinCan.StatementRef||t.statement instanceof TinCan.SubStatement?this.statement=t.statement:"StatementRef"===t.statement.objectType?this.statement=new TinCan.StatementRef(t.statement):"SubStatement"===t.statement.objectType?this.statement=new TinCan.SubStatement(t.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(t){this.log("asVersion");var e,n={},i=["registration","revision","platform","language","extensions"],r=["instructor","team","contextActivities","statement"];if(t=t||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==t&&"0.95"!==t)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+t),new Error(t+" does not support SubStatements in the 'statement' property");for(e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return n}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.StatementRef=function(t){this.log("constructor"),this.id=null,this.init(t)};n.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){return this.log("toString"),this.id},asVersion:function(t){this.log("asVersion");var e={objectType:this.objectType,id:this.id};return"0.9"===t&&(e.objectType="Statement"),e}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.SubStatement=function(t){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(t)};n.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["timestamp"];for((t=t||{}).hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n,i=["timestamp"],r=["actor","verb","result","context"];for(e={objectType:this.objectType},t=t||TinCan.versions()[0],n=0;n<i.length;n+=1)null!==this[i[n]]&&(e[i[n]]=this[i[n]]);for(n=0;n<r.length;n+=1)null!==this[r[n]]&&(e[r[n]]=this[r[n]].asVersion(t));return null!==this.target&&(e.object=this.target.asVersion(t)),"0.9"===t&&(e.objectType="Statement"),e}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.Statement=function(t,e){this.log("constructor"),void 0===(e="number"==typeof e?{storeOriginal:e}:e||{}).storeOriginal&&(e.storeOriginal=null),void 0===e.doStamp&&(e.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(t,e)};n.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(t,e){this.log("init");var n,i=["id","stored","timestamp","version","inProgress","voided"];for(t=t||{},e.storeOriginal&&(this.originalJSON=JSON.stringify(t,null,e.storeOriginal)),t.hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("authority")&&(void 0!==t.authority.objectType&&"Person"!==t.authority.objectType||(t.authority.objectType="Agent"),"Agent"===t.authority.objectType?t.authority instanceof TinCan.Agent?this.authority=t.authority:this.authority=new TinCan.Agent(t.authority):"Group"===t.authority.objectType&&(t.actor instanceof TinCan.Group?this.authority=t.authority:this.authority=new TinCan.Group(t.authority))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),n=0;n<i.length;n+=1)t.hasOwnProperty(i[n])&&null!==t[i[n]]&&(this[i[n]]=t[i[n]]);e.doStamp&&this.stamp()},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n={},i=["id","timestamp"],r=["actor","verb","result","context","authority"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.target&&(n.object=this.target.asVersion(t)),"0.9"!==t&&"0.95"!==t||null!==this.voided&&(n.voided=this.voided),"0.9"===t&&null!==this.inProgress&&(n.inProgress=this.inProgress),n},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var o=TinCan.StatementsResult=function(t){this.log("constructor"),this.statements=null,this.more=null,this.init(t)};o.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(t){this.log("init"),(t=t||{}).hasOwnProperty("statements")&&(this.statements=t.statements),t.hasOwnProperty("more")&&(this.more=t.more)}},o.fromJSON=function(t){o.prototype.log("fromJSON");var e,n,i,r=[];try{e=JSON.parse(t)}catch(t){o.prototype.log("fromJSON - JSON.parse error: "+t)}if(e){for(i=0;i<e.statements.length;i+=1){try{n=new TinCan.Statement(e.statements[i],4)}catch(t){o.prototype.log("fromJSON - statement instantiation failed: "+t+" ("+JSON.stringify(e.statements[i])+")"),n=new TinCan.Statement({id:e.statements[i].id},4)}r.push(n)}e.statements=r}return new o(e)}}(),function(){"use strict";var n=TinCan.State=function(t){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};n.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.ActivityProfile=function(t){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};n.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.AgentProfile=function(t){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};n.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("agent")&&(t.agent instanceof TinCan.Agent?this.agent=t.agent:this.agent=new TinCan.Agent(t.agent)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var n=TinCan.About=function(t){this.log("constructor"),this.version=null,this.init(t)};n.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["version"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])}},n.fromJSON=function(t){n.prototype.log("fromJSON");var e=JSON.parse(t);return new n(e)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;"undefined"!=typeof window?(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(t){var e,n,i="";if(t instanceof Object){if(t.constructor===Array){for(e=0;e<t.length;e+=1)i+=this.stringify(t[e])+",";return"["+i.substr(0,i.length-1)+"]"}if(t.toString!==Object.prototype.toString)return'"'+t.toString().replace(/"/g,"\\$&")+'"';for(n in t)t.hasOwnProperty(n)&&(i+='"'+n.replace(/"/g,"\\$&")+'":'+this.stringify(t[n])+",");return"{"+i.substr(0,i.length-1)+"}"}return"string"==typeof t?'"'+t.replace(/"/g,"\\$&")+'"':String(t)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(t,e,n){var i,r,o;return log("requestComplete: "+n.finished+", xhr.status: "+t.status,LOG_SRC),o=void 0===t.status?n.fakeStatus:1223===t.status?204:t.status,n.finished?i:(n.finished=!0,r=e.ignore404&&404===o,200<=o&&o<400||r?e.callback?void e.callback(null,t):i={err:null,xhr:t}:(i={err:o,xhr:t},log(0===o?"[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+o+")":"[warning] There was a problem communicating with the Learning Record Store. ("+o+" | "+t.responseText+")",LOG_SRC),e.callback&&e.callback(o,t),i))},__IEModeConversion=function(t,e,n,i){var r;for(r in e)e.hasOwnProperty(r)&&n.push(r+"="+encodeURIComponent(e[r]));return void 0!==i.data&&n.push("content="+encodeURIComponent(i.data)),e["Content-Type"]="application/x-www-form-urlencoded",t+="?method="+i.method,i.method="POST",i.params={},0<n.length&&(i.data=n.join("&")),t},nativeRequest=function(t,e,n){log("sendRequest using XMLHttpRequest",LOG_SRC);var i,r,o,s,a=this,l=[],u={finished:!1,fakeStatus:null},c=void 0!==n.callback,h=t;for(r in log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC),n.params)n.params.hasOwnProperty(r)&&l.push(r+"="+encodeURIComponent(n.params[r]));if(0<l.length&&(h+="?"+l.join("&")),2048<=h.length){if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return s=new Error("Unsupported content type for IE Mode request"),void 0!==n.callback&&n.callback(s,null),{err:s,xhr:null};if(void 0===n.method)return s=new Error("method must not be undefined for an IE Mode Request conversion"),void 0!==n.callback&&n.callback(s,null),{err:s,xhr:null};t=__IEModeConversion(t,e,l,n)}else t=h;for(r in(i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(n.method,t,c),e)e.hasOwnProperty(r)&&i.setRequestHeader(r,e[r]);void 0!==n.data&&(n.data+=""),o=n.data,c&&(i.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+i.readyState,LOG_SRC),4===i.readyState&&requestComplete.call(a,i,n,u)});try{i.send(o)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}return c?i:requestComplete.call(this,i,n,u)},xdrRequest=function(t,e,n){log("sendRequest using XDomainRequest",LOG_SRC);var i,r,o,s,a,l=this,u=[],c={finished:!1,fakeStatus:null};if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),n.callback?(n.callback(a,null),null):{err:a,xhr:null};for(o in t+="?method="+n.method,n.params)n.params.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(n.params[o]));for(o in e)e.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(e[o]));void 0!==n.data&&u.push("content="+encodeURIComponent(n.data)),r=u.join("&"),(i=new XDomainRequest).open("POST",t),n.callback?(i.onload=function(){c.fakeStatus=200,requestComplete.call(l,i,n,c)},i.onerror=function(){c.fakeStatus=400,requestComplete.call(l,i,n,c)},i.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,i,n,c)}):(i.onload=function(){c.fakeStatus=200},i.onerror=function(){c.fakeStatus=400},i.ontimeout=function(){c.fakeStatus=0}),i.onprogress=function(){},i.timeout=0;try{i.send(r)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}if(n.callback)return i;for(s=1e4+Date.now(),log("sendRequest - until: "+s+", finished: "+c.finished,LOG_SRC);Date.now()<s&&null===c.fakeStatus;)__delay();return requestComplete.call(l,i,n,c)},TinCan.LRS.prototype._initByEnvironment=function(t){var e,n,i;if(log("_initByEnvironment",LOG_SRC),t=t||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,null===(e=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/)))throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(i=location.port,n=location.protocol.toLowerCase()===e[1],""===i&&(i="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),!n||location.hostname.toLowerCase()!==e[2]||i!==(null!==e[3]&&void 0!==e[3]&&""!==e[3]?e[3]:"http:"===e[1]?"80":"https:"===e[1]?"443":""))if(env.hasCORS){if(env.useXDR&&n)this._makeRequest=xdrRequest;else if(env.useXDR&&!n){if(!t.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!t.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var t=new XMLHttpRequest,e=window.location+"?forcenocache="+TinCan.Utils.getUUID();t.open("GET",e,!1),t.send(null)},TinCan.LRS.syncEnabled=!0):log("'window' not defined",LOG_SRC)}()},function(t,e,_){"use strict";var n;void 0===(n=function(t){function e(t){var e=r.rest(arguments);return[t].concat(e).join("/")}var n,i,r=_(0),o=_(51),s=_(5),a=_(1),l=(_(10),_(12)),u=_(8),c=_(7),h=_(6).addWindowListener,d=0,p="SavePlayerData",f="SaveResume",v="GetResumeInfo",g="RefreshSession",m="GetSessionId",y=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),b="</soap:Body></soap:Envelope>",A=window.location.origin,w=r.first(window.location.toString().split("#")),S="http://articulate.com",E="",T={GetResumeInfo:"sendResumeReady",GetSessionId:"onSessionId",RefreshSession:"dontDoAnything",SaveResume:"dontDoAnything",SavePlayerData:"dontDoAnything"},x={queue:[],priorityQueue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(t,e){if(window.globals.aoSupport)return this.activityId=t,this.scoring=e||{},this.sessionId=Date.now().toString(),h("pagehide",this.onBeforeUnload.bind(this)),this},setTotalSlides:function(t){this.totalSlides=t},setResumer:function(t){this.resumer=t,this.queueRequest(m)},interactionAnswered:function(){this.updateResults(),this.sendResultsData()},quizComplete:function(){this.updateResults(),this.sendResultsData()},courseComplete:function(){this.updateResults(),this.sendResultsData()},manualCourseComplete:function(){this.updateCompleteOnly(),this.sendResultsData()},courseStarted:r.noop,reportStatus:r.noop,viewedComplete:r.noop,slideViewed:function(){var e=[c.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach(function(t){e.push(t)}),e.push(c.writeCloseNode("viewdata")),this.updateViewData(e.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.sendResultsData())},getViewedEls:function(t){return t.reduce(function(t,e){return t.push(c.writeNode("slide",{id:a.stripPlayer(e.absoluteId),viewgroupid:e.getViewGroupId()},!0)),t},[])},setViewedResults:function(){var t=[c.writeNode("results"),c.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),c.writeCloseNode("results")].join("");this.updateResultsData(t)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var t=[c.writeNode("results"),c.writeNode("summary",this.getSummaryAttributes(),!0),c.writeNode("quizzes")];return null!=this.scoring.quiz&&t.push(this.scoring.quiz.getAoSoapXml()),t.push(c.writeCloseNode("quizzes"),c.writeCloseNode("results")),this.updateResultsData(t.join("")),this}},updateCompleteOnly:function(){return this.updateResultsData([c.writeNode("results"),c.writeNode("summary",{status:this.scoring.prop("Status")},!0),c.writeCloseNode("results")].join("")),this},getSummaryAttributes:function(t){return t={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(t.score=this.scoring.prop("PercentScore"),t.possibleScore=100),t.duration=this.resumer.getCourseTime(),t.status=this.scoring.prop("Status")),t},onSessionId:function(t){this.sessionId=t.querySelector("GetSessionIdResponse").textContent,this.createRefreshInterval()},killRefreshInterval:function(){this.onIntervalCompleteCall.kill(),this.onIntervalCompleteCall=null},createRefreshInterval:function(){this.onIntervalCompleteCall=l.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(g).createRefreshInterval()},dontDoAnything:r.noop,getItem:function(){return this.resumeDfd=u.Deferred(),this.queueRequest(v),this.resumeDfd.promise()},setItem:function(t,e){e!==this.lastData&&(this.lastData=e,this.updateResumeData(e))},sendResumeReady:function(t){var e=t.querySelector("GetResumeInfoResponse");this.resumeDfd.resolve(e.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(t){var e;n=["<resumeData>",c.xmlEncodeValue(t),"</resumeData>"].join(""),e=['<playerdata sessionid="',this.sessionId,'">',n,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(f,e),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(t){i=t,this.prepareHtmlUpdate()},updateResultsData:function(t){E=t,this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',d,'">',n,i,E,"</playerdata>"].join("")},sendResultsData:function(){var t=this.getPlayerData();d++,this.queueRequest(p,t,!0),this.scoring.markAttemptsSent()},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(){this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,this[s.browser.isIE?"sendSyncRequest":"sendRequest"]({command:this.hasResultsData()?p:f,xmlData:this.htmlUpdate}))},queueRequest:function(t,e,n){var i=n?this.priorityQueue:this.queue,r={command:t,xmlData:e};return 0===this.queue.length&&0===this.priorityQueue.length&&!1===this.awaitingResponse?this.sendRequest(r):i.unshift(r),this},requestCallback:function(t,e,n){var i;this.awaitingResponse=!1,e||(i=(new window.DOMParser).parseFromString(n.text,"application/xml")),this[t](i),this.popQueue()},popQueue:function(){var t=this.priorityQueue.pop()||this.queue.pop();null!=t&&this.sendRequest(t)},sendRequest:function(t){s.browser.isIE&&this.hasEnded&&this.sendSyncRequest(t);var e=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",t.command),i=this.createSoapRequest(t),r=T[t.command];this.awaitingResponse=!0,o.post(e).set("Content-Type","text/xml").set("soapaction",n).send(i).end(this.requestCallback.bind(this,r))},createActionUrl:r.partial(e,S),createBaseUrl:r.partial(e,A),createSoapRequest:function(t){return[y,"<command ".replace("command",t.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",S),"<contentUrl>",window.escape(w),"</contentUrl>",null!=t.xmlData?t.xmlData:"","</command>".replace("command",t.command),b].join("")},sendSyncRequest:function(t){var e=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",t.command),i=this.createSoapRequest(t),r=new window.XMLHttpRequest;r.open("POST",e,!1),r.setRequestHeader("SOAPAction",n),r.send(i)}};return window.handleBeforeUnload=x.onBeforeUnload.bind(x),x}.call(e,_,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}return n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length},n}.call(e,n,e,t))||(t.exports=i)},function(t,e,p){"use strict";var n;void 0===(n=function(t){var n=p(0),i=p(80),r=p(12),o=p(8),e=p(1),s=p(6).addWindowListener,a=p(18),l=p(81),u=void 0,c=void 0,h={complete:function(t){if(a.hasFlag(a.constants.MULTIPLE_QUIZ_TRACKING)){if(c)return;c=!0}t.api.SetReachedEnd()},incomplete:function(t){t.api.ResetStatus()},fail:function(t){if(a.hasFlag(a.constants.MULTIPLE_QUIZ_TRACKING)){if(c)return;c=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetFailed()},pass:function(t){if(a.hasFlag(a.constants.MULTIPLE_QUIZ_TRACKING)){if(c)return;c=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetPassed()}},d={queue:[],resumer:null,scorings:[],api:null,lessonCompleted:!1,setTotalSlides:n.noop,quizComplete:n.noop,courseStarted:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(l.verbs.VERB_ATTEMPTED),n=this.scorings.first();this.setCmi5StatementDefinitionParams(e,l.objects.OBJECT_COURSE,n.get("lmstext"),n.get("description")),t||(e.result=new this.api.TinCan.Result({completion:!1})),this.sendCmi5Statement(e)}},slideViewed:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(l.verbs.VERB_EXPERIENCED),n=t.get("title");this.setCmi5StatementDefinitionParams(e,l.objects.OBJECT_MODULE,n,n),this.sendCmi5Statement(e)}},setCmi5StatementDefinitionParams:function(t,e,n,i){t.target.definition=new this.api.TinCan.ActivityDefinition({type:e,name:{},description:{}}),t.target.definition.name[l.lang]=n,t.target.definition.description[l.lang]=i},sendCmi5Statement:function(t){this.api.cmi5.sendStatement(t,function(){})},initialize:function(t,e,n){var i=this.startWindow();return i&&(window.lmsAPI=window.parent,this.scorings=e,this.courseId=t,this.isCmi5=n,s("pagehide",this.lmsUnload.bind(this)),this.initCommitTimeout()),!0===i?this:i},startWindow:function(){this.api=window;var t=n.isFunction(this.api.Start);return t&&this.api.Start(),t},setResumer:function(t){this.resumer=t},getItem:function(t){var e;if(this.resumeDfd=this.resumeDfd||o.Deferred(),null!=this.api.IsLoaded&&this.api.IsLoaded()?(e=this.api.GetDataChunk(),this.resumeDfd.resolve(e),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):r.delayedCall(.5,this.getItem,void 0,this),null!=t)return this.resumeDfd.promise()},listenToResumer:function(){var t=this;this.resumer.resumeDfd.catch(function(){t.lastStatus="incomplete",h.incomplete(t)})},setItem:function(t,e){this.resumeData=e,this.sendDataCall||(this.sendDataCall=r.delayedCall(.5,this.sendData,void 0,this))},initCommitTimeout:function(){var t=parseInt(e.getPath(window,"FORCED_COMMIT_TIME",6e4),10);0<t&&r.delayedCall(e.toSeconds(t),this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall&&this.sendDataCall.kill(),(this.sendDataCall=null)!=this.resumeData&&this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(t,e){0<this.scorings.length&&(0,i[e.type()])(t,e,this.resumer.getCourseTime())},reportStatus:function(t){return this.updateScore(t),this.updateStatus(),this},updateStatus:function(){var t=this.scorings.getStatus(),e=h[t]||n.noop;return this.lastStatus&&this.lastStatus===t||(this.lastStatus=t,e(this)),this},updateScore:function(t){if((!a.hasFlag(a.constants.MULTIPLE_QUIZ_TRACKING)||!c)&&(null==t&&(t=this.scorings.guessCurrentScoring()),null!=t&&t.isType("quiz"))){var e=t.prop("PercentScore");this.lastScore!==e&&(u=t,this.lastScore=e,this.api.SetScore(e,100,0))}},viewedComplete:function(){return h[this.scorings.getStatus()](this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(t){null==this.unloaded&&(this.unloaded=!0,this.reportStatus(null),null!=this.sendDataCall&&this.forceCommit(),this.api.ConcedeControl(!0===t),this.api.Unload())},commit:function(){return this.api.CommitData(),this},courseComplete:function(t){return this.reportStatus(t).forceCommit(),this},quizRetried:function(t){a.hasFlag(a.constants.MULTIPLE_QUIZ_TRACKING)&&u==t&&(c=!1)},manualCourseComplete:function(t,e){d.courseComplete(e)}};return d}.call(e,p,e,t))||(t.exports=n)},function(t,e,s){"use strict";var n;void 0===(n=function(t){function l(t){return null==t&&(t=""),window.CreateResponseIdentifier(t.substr(0,1),t)}function u(t,e){return t.push(l(e)),t}function o(t,e,n){var i=e.statement.lmstext||e.statement,r=e.choice.lmstext||e.choice,o=window.CreateResponseIdentifier(n.toString(),i),s=window.CreateResponseIdentifier(i.charAt(0),r);return t.push(new window.MatchingResponse(o,s)),t}function c(t){return null==t.choice&&""===t?t="_":""===t.choice&&(t.choice="_"),t}function h(t){var e=p.first(t).toUpperCase();return n[e]||t}function i(t){return null!=t&&"true"===t.lmstext.toLowerCase()}function d(t,e){for(var n,i=e,r=[e.prop("AttemptCount")-1,t.getAttempts()];(n=i.get("lmsId"))&&r.push(n),i=i.parent;);return r.reverse().join("_")}var p=s(0),n=(s(4),{C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL}),r={truefalse:function(t,e,n){window.RecordTrueFalseInteraction(d(t,e),i(p.first(e.getResponseValues())),h(e.prop("Status")),i(p.first(e.getCorrectValues())),e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},multiEtc:function(t,e,n,i){var r,o,s,a;a=n.isType("sequence")?(o=function(t,e){return t.push(l(e.statement.lmstext),l(e.choice.lmstext)),t},s=n.getResponseValues().reduce(o,[]),c(n.getCorrectValues()).reduce(o,[])):(r=function(t){return p.isString(t)?t:null!=t.choice?t.choice.lmstext:t.lmstext},s=n.getResponseValues().map(r).reduce(u,[]),c(n.getCorrectValues().map(r)).reduce(u,[])),window[t](d(e,n),s,h(n.prop("Status")),a,n.get("lmstext"),e.prop("Weight"),i,e.get("lmstext"))},numeric:function(t,e,n,i){window.RecordFillInInteraction(d(t,e),e.getResponseValues(),h(e.prop("Status")),i||e.getCorrectValues(),e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},fillin:function(t,e,n){var i=e.getCorrectValues().map(function(t){return t.lmstext}).join("|#|");r.numeric(t,e,n,i)},matching:function(t,e,n){var i=e.getResponseValues().reduce(o,[]),r=e.getCorrectValues();r=c(r).reduce(o,[]),window.RecordMatchingInteraction(d(t,e),i,h(e.prop("Status")),r,e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},likert:function(t,e,n){var i=p.flatten(e.getResponseValues().map(function(t){return[t.statement.lmstext,t.choice.lmstext]})).join("|#|");window.RecordLikertInteraction(d(t,e),window.CreateResponseIdentifier(i.substr(0,1),i),h(e.prop("Status")),"",e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))}};return r.wordbank=r.hotspot=r.multiplechoice=r.multipleresponse=p.partial(r.multiEtc,"RecordMultipleChoiceInteraction"),r.sequence=p.partial(r.multiEtc,"RecordSequencingInteraction"),r.essay=r.numeric,r}.call(e,s,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={verbs:{VERB_EXPERIENCED:"http://adlnet.gov/expapi/verbs/experienced",VERB_ATTEMPTED:"http://adlnet.gov/expapi/verbs/attempted"},objects:{OBJECT_MODULE:"http://adlnet.gov/expapi/activities/module",OBJECT_COURSE:"http://adlnet.gov/expapi/activities/course"},lang:"und"};return Object.freeze(e),Object.freeze(e.verbs),Object.freeze(e.objects),e}.call(e,n,e,t))||(t.exports=i)},function(t,e,u){"use strict";var n;void 0===(n=function(t){function n(t){return t.split("=")}function i(t){return t[0]}var r=u(0),o=u(8),s="path=/",e={setCookie:function(t,e){var n=[t,e].join("=");return document.cookie=[n,["expires",new Date(Date.now()+31536e7).toGMTString()].join("="),s].join("; "),this},getCookies:function(e){return document.cookie.split("; ").map(n).filter(function(t){return 0===t[0].indexOf(e)})},getItem:function(t){var e=o.Deferred(),n=r(this.getCookies(t)).sortBy(i).reduce(function(t,e){return t+e[1]},"");return e.resolve(n),e.promise()},setItem:function(t,e){for(var n,i,r=0;0<e.length;)i=[t,r++].join("_"),n=e.slice(0,4048),this.setCookie(i,n),e=e.slice(4048);return this}},a={getItem:function(t){var e=o.Deferred(),n=window.localStorage.getItem(t);return e.resolve(n),e.promise()},setItem:function(t,e){var n;try{n=window.localStorage.setItem(t,e)}catch(t){console.warn(t)}return n}},l={setResumer:r.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!r.isUndefined(window.localStorage)}catch(t){return!1}},getStorage:function(){return r.extend(l,this.hasStorage()?a:e)}}}.call(e,u,e,t))||(t.exports=n)},function(t,e){!function(){"use strict";var F=10,j=16,B=4.5,U=1.5,W=[0,0,0,.5],o=!1,z={};(window.captionator=z).CaptionatorCueStructure=function(t,e){var a=this;this.isTimeDependent=!1,this.cueSource=t,this.options=e,this.processedCue=null,this.toString=function(o){if(!1===e.processCueHTML)return t;var s=function(t,e){if(null!==a.processedCue)return a.processedCue;var n,i,r="";for(n in t)n.match(/^\d+$/)&&t.hasOwnProperty(n)&&((i=t[n])instanceof Object&&i.children&&i.children.length?"v"===i.token?r+='<q data-voice="'+i.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+i.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+i.voice.replace(/[\"]/g,"")+'">'+s(i.children,e+1)+"</q>":"c"===i.token?r+="<span class='webvtt-span webvtt-class-span "+i.classes.join(" ")+"'>"+s(i.children,e+1)+"</span>":0<i.timeIn?null==o||0<o&&o>=i.timeIn?r+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+i.token+"' data-timestamp-seconds='"+i.timeIn+"'>"+s(i.children,e+1)+"</span>":o<i.timeIn&&(r+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+i.token+"' data-timestamp-seconds='"+i.timeIn+"'>"+s(i.children,e+1)+"</span>"):r+=i.rawToken+s(i.children,e+1)+"</"+i.token+">":(i instanceof String||"string"==typeof i||"number"==typeof i)&&(r+=i));return a.isTimeDependent||0!==e||(a.processedCue=r),r};return s(this,0)},this.getPlain=function(o){if(!1===e.processCueHTML)return t.replace(/<[^>]*>/gi,"");var s=function(t,e){var n,i,r="";for(n in t)n.match(/^\d+$/)&&t.hasOwnProperty(n)&&((i=t[n])instanceof Object&&i.children&&i.children.length?0<i.timeIn&&null!=o&&!(0<o&&o>=i.timeIn)||(r+=s(i.children,e+1)):(i instanceof String||"string"==typeof i||"number"==typeof i)&&(r+=i));return r};return s(this,0)}},z.CaptionatorCueStructure.prototype=[],z.TextTrack=function(t,e,n,i,r,o){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=t||"",this.internalMode=z.TextTrack.OFF,this.cues=new z.TextTrackCueList(this),this.activeCues=new z.ActiveTextTrackCueList(this.cues,this),this.kind=e||"subtitles",this.label=n||"",this.language=i||"",this.src=r||"",this.readyState=z.TextTrack.NONE,this.internalDefault=o||!1,this.getMode=function(){return this.internalMode},this.setMode=function(t){if(-1===[z.TextTrack.OFF,z.TextTrack.HIDDEN,z.TextTrack.SHOWING].indexOf(t))throw new Error("Illegal mode value for track: "+t);t!==this.internalMode&&(this.internalMode=t,this.readyState===z.TextTrack.NONE&&0<this.src.length&&t>z.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,z.rebuildCaptions(this.videoNode),t===z.TextTrack.OFF&&(this.cues.length=0,this.readyState=z.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(t,n){var i,r=new XMLHttpRequest;if(this.readyState===z.TextTrack.LOADED)n instanceof Function&&n(i);else{this.src=t,this.readyState=z.TextTrack.LOADING;var o=this;r.open("GET",t,!0),r.onreadystatechange=function(t){if(4===r.readyState)if(200===r.status){var e=o.videoNode._captionatorOptions||{};"metadata"===o.kind&&(e.processCueHTML=!1,e.sanitiseCueHTML=!1),i=z.parseCaptions(r.responseText,e),o.readyState=z.TextTrack.LOADED,o.cues.loadCues(i),o.activeCues.refreshCues.apply(o.activeCues),o.videoNode._captionator_dirtyBit=!0,z.rebuildCaptions(o.videoNode),o.onload.call(this),n instanceof Function&&n.call(o,i)}else o.readyState=z.TextTrack.ERROR,o.onerror()};try{r.send(null)}catch(t){o.readyState=z.TextTrack.ERROR,o.onerror(t)}}},this.addCue=function(t){if(!(t&&t instanceof z.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(t)},this.removeCue=function(){}},z.TextTrack.NONE=0,z.TextTrack.LOADING=1,z.TextTrack.LOADED=2,z.TextTrack.ERROR=3,z.TextTrack.OFF=0,z.TextTrack.HIDDEN=1,z.TextTrack.SHOWING=2,z.TextTrackCue=function(t,e,n,i,r,o,s){if(this.id=t,this.track=s instanceof z.TextTrack?s:null,this.startTime=parseFloat(e),this.endTime=parseFloat(n)>=this.startTime?parseFloat(n):this.startTime,this.text="string"==typeof i||i instanceof z.CaptionatorCueStructure?i:"",this.settings="string"==typeof r?r:"",this.intSettings={},this.pauseOnExit=!!o,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var a=this.intSettings,l=this;(r=r.split(/\s+/).filter(function(t){return 0<t.length}))instanceof Array&&r.forEach(function(t){var e={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};e[(t=t.split(":"))[0]]&&(a[e[t[0]]]=t[1]),e[t[0]]in l&&(l[e[t[0]]]=t[1])})}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var e=document.createDocumentFragment(),t=document.createElement("div");return t.innerHTML=String(this.text),Array.prototype.forEach.call(t.childNodes,function(t){e.appendChild(t.cloneNode(!0))}),e},this.isActive=function(){var t=0;if(this.track instanceof z.TextTrack&&(this.track.mode===z.TextTrack.SHOWING||this.track.mode===z.TextTrack.HIDDEN)&&this.track.readyState===z.TextTrack.LOADED)try{if(t=this.track.videoNode.currentTime,this.startTime<=t&&this.endTime>=t)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(t){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},z.TextTrackCueList=function(t){this.track=t instanceof z.TextTrack?t:null,this.getCueById=function(e){return this.filter(function(t){return t.id===e})[0]},this.loadCues=function(t){for(var e=0;e<t.length;e++)t[e].track=this.track,Array.prototype.push.call(this,t[e])},this.addCue=function(t){if(!(t&&t instanceof z.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(t.track!==this.track&&t.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,t)},this.toString=function(){return"[TextTrackCueList]"}},z.TextTrackCueList.prototype=[],z.ActiveTextTrackCueList=function(t,r){this.refreshCues=function(){if(t.length){var e=this,n=!1,i=[].slice.call(this,0);if(this.length=0,t.forEach(function(t){t.active&&(e.push(t),e[e.length-1]!==i[e.length-1]&&(n=!0))}),n)try{r.oncuechange()}catch(t){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},z.ActiveTextTrackCueList.prototype=new z.TextTrackCueList(null);z.rebuildCaptions=function(i){var t,e=i.textTracks||[],r=(i._captionatorOptions instanceof Object&&i._captionatorOptions,i.currentTime),n=[],o=[];e.forEach(function(t,e){t.mode===z.TextTrack.SHOWING&&t.readyState===z.TextTrack.LOADED&&(o=(o=[].slice.call(t.activeCues,0)).sort(function(t,e){return t.startTime>e.startTime?-1:1}),n=n.concat(o))}),t=n.map(function(t){return t.track.id+"."+t.id+":"+t.text.toString(r).length}),z.compareArray(t,i._captionator_previousActiveCues)&&!i._captionator_dirtyBit||(i._captionator_dirtyBit=!1,i._captionator_availableCueArea=null,i._captionator_previousActiveCues=t,z.styleCueCanvas(i),[].slice.call(i._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(i._containerObject.getElementsByTagName("div"),0)).forEach(function(t){t.cueObject&&!t.cueObject.active&&(t.cueObject.rendered=!1,t.cueObject.domNode=null,t.parentElement.removeChild(t))}),n.forEach(function(t){var e,n;"metadata"!==t.track.kind&&t.mode!==z.TextTrack.HIDDEN&&(t.rendered?(n=(e=t.domNode).getElementsByClassName("captionator-cue-inner")[0],t.text.toString(r)!==e.currentText&&(e.currentText=t.text.toString(r),n.innerHTML=e.currentText,n.spanified=!1)):(e=document.createElement("div"),(n=document.createElement("span")).className="captionator-cue-inner",e.id=String(t.id).length?t.id:z.generateID(),e.className="captionator-cue",e.appendChild(n),((e.cueObject=t).domNode=e).setAttribute("lang",t.track.language),e.currentText=t.text.toString(r),n.innerHTML=e.currentText,t.rendered=!0,"descriptions"===t.track.kind?i._descriptionContainerObject.appendChild(e):i._containerObject.appendChild(e)),"descriptions"!==t.track.kind&&z.styleCue(e,t,i))}))},z.captionify=function(t,e,n){var i=[],r=0;if((n=n instanceof Object?n:{}).minimumFontSize&&"number"==typeof n.minimumFontSize&&(F=n.minimumFontSize),n.minimumLineHeight&&"number"==typeof n.minimumLineHeight&&(j=n.minimumLineHeight),n.fontSizeVerticalPercentage&&"number"==typeof n.fontSizeVerticalPercentage&&(B=n.fontSizeVerticalPercentage),n.lineHeightRatio&&"number"!=typeof n.lineHeightRatio&&(U=n.lineHeightRatio),n.cueBackgroundColour&&n.cueBackgroundColour instanceof Array&&(W=n.cueBackgroundColour),HTMLVideoElement||t instanceof function(t){this.targetObject=t,this.currentTime=0;this.addEventListener=function(t,e,n){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.attachEvent=function(t,e){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.updateTime=function(t){isNaN(t)||(this.currentTime=t)}}||n.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||n.forceCaptionify){if(!o&&n.exportObjects&&(window.TextTrack=z.TextTrack,window.TextTrackCueList=z.TextTrackCueList,window.ActiveTextTrackCueList=z.ActiveTextTrackCueList,window.TextTrackCue=z.TextTrackCue,o=!0),t&&!1!==t&&null!=t)if(t instanceof Array)for(r=0;r<t.length;r++)"string"==typeof t[r]?i=i.concat([].slice.call(document.querySelectorAll(t[r]),0)):t[r].constructor===HTMLVideoElement&&i.push(t[r]);else"string"==typeof t?i=[].slice.call(document.querySelectorAll(t),0):t.constructor===HTMLVideoElement&&i.push(t);else i=[].slice.call(document.getElementsByTagName("video"),0);return!!i.length&&(i.forEach(function(u){u.addTextTrack=function(t,e,n,i,r,o,s){var a,l=["subtitles","captions","descriptions","captions","metadata","chapters"];l.slice(0,7);if(t="string"==typeof t?t:"",n="string"==typeof n?n:"",i="string"==typeof i?i:"",!l.filter(function(t){return e===t}).length)throw z.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return!!(a=new z.TextTrack(t,e,n,i,r,null))&&(u.textTracks instanceof Array||(u.textTracks=[]),u.textTracks.push(a),a)},z.processVideoElement(i[r],e,n)}),!0)}return!1}return!1},z.parseCaptions=function(t,g){g=g instanceof Object?g:{};var m="",r=[],y="",b=[],A=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,w=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,S=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,f=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,E=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,T=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,x=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,_=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,C=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,i=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(t){var k=function(t){function e(t){return!!t.replace(/[^a-z0-9]+/gi,"").length}var n,i,r,o,s,a=new z.CaptionatorCueStructure(t,g),l=[],u=[],c=0;for(n in r=a,l=t.split(/(<\/?[^>]+>)/gi))if(l.hasOwnProperty(n))if("<"===(i=l[n]).substr(0,1)){if("/"===i.substr(1,1)){var h=i.substr(2).split(/[\s>]+/g)[0];if(0<u.length){var d=0;for(c=u.length-1;0<=c;c--){if(u[d=c][u[c].length-1].token===h)break}r=u[d],u=u.slice(0,d)}}else if(i.substr(1).match(f)||i.match(/^<v\s+[^>]+>/i)||i.match(/^<c[a-z0-9\-\_\.]+>/)||i.match(/^<(b|i|u|ruby|rt)>/)||!1!==g.sanitiseCueHTML){var p={token:i.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:i,children:[]};"v"===p.token?p.voice=i.match(/^<v\s*([^>]+)>/i)[1]:"c"===p.token?p.classes=i.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(e):(o=p.rawToken.match(f))&&(a.isTimeDependent=!0,s=o.slice(1),p.timeIn=parseInt(60*(s[0]||0)*60,10)+parseInt(60*(s[1]||0),10)+parseInt(s[2]||0,10)+parseFloat("0."+(s[3]||0))),r.push(p),u.push(r),r=p.children}}else!1!==g.sanitiseCueHTML&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),g.ignoreWhitespace||(i=i.replace(/\n+/g,"<br />"))),r.push(i);return a},l=function(t){var e,n=0;return"string"!=typeof t?0:((e=i.exec(t))&&(e=e.slice(1),n=parseInt(60*(e[0]||0)*60,10)+parseInt(60*(e[1]||0),10)+parseInt(e[2]||0,10)+parseFloat("0."+(e[3]||0))),n)};if(r=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),/<tt\s+xml/gi.exec(t)){var e=document.createElement("ttml");return e.innerHTML=t,[].slice.call(e.querySelectorAll("[begin],[end]"),0).map(function(t,e){var n,i,r,o=String(t.getAttribute("begin")),s=String(t.getAttribute("end")),a=t.getAttribute("id")||e;return i=l(o),r=l(s),n=!1===g.processCueHTML?t.innerHTML:k(t.innerHTML),new z.TextTrackCue(a,i,r,n,{},!1,null)})}return t.split(/\n+/g).reduce(function(t,e,n,i){return t||!!T.exec(e)},!1)?(r=r.split(/\n+/g),m="LRC"):r=r.split(/\n\n+/g),r=r.filter(function(t){return t.match(/^WEBVTT(\s*FILE)?/gi)?!(m="WebVTT"):!!t.replace(/\s*/gi,"").length}).map(function(t,e){var n,i,r,o,s,a,l,u,c,h,d="";if(u=x.exec(t))return b=(b=u.slice(2).join("")).split(/\s+/g).filter(function(t){return t&&!!t.length}),null;if(u=_.exec(t))return y+=u[u.length-1],null;if(u=C.exec(t))return null;for(n="LRC"===m?[t.substr(0,t.indexOf("]")+1),t.substr(t.indexOf("]")+1)]:t.split(/\n/g);!n[0].replace(/\s+/gi,"").length&&0<n.length;)n.shift();for(l=n[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(n.shift().replace(/\s*/gi,"")):e,a=0;a<n.length;a++){var p=n[a];(c=S.exec(p))||(c=A.exec(p))||(c=w.exec(p))?(s=c.slice(1),i=parseInt(60*(s[0]||0)*60,10)+parseInt(60*(s[1]||0),10)+parseInt(s[2]||0,10)+parseFloat("0."+(s[3]||0)),r=parseInt(60*(s[4]||0)*60,10)+parseInt(60*(s[5]||0),10)+parseInt(s[6]||0,10)+parseFloat("0."+(s[7]||0)),s[8]&&(d=s[8])):(c=E.exec(p))?(s=c.slice(1),r=(i=parseFloat(s[0]))+parseFloat(s[1]),s[2]&&(d=s[2])):(c=T.exec(p))&&(s=c.slice(1,c.length-1),r=i=parseInt(60*(s[0]||0)*60,10)+parseInt(60*(s[1]||0),10)+parseInt(s[2]||0,10)+parseFloat("0."+(s[3]||0))),n=n.slice(0,a).concat(n.slice(a+1));break}if(!i&&!r)return null;var f=b.reduce(function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t},{});for(var v in f=d.split(/\s+/g).filter(function(t){return t&&!!t.length}).reduce(function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t},f),d="",f)f.hasOwnProperty(v)&&(d+=d.length?" ":"",d+=v+":"+f[v]);return o=!1===g.processCueHTML?n.join("\n"):k(n.join("\n")),(h=new z.TextTrackCue(l,i,r,o,d,!1,null)).styleData=y,h}).filter(function(t){return null!==t}),"LRC"===m&&(r.forEach(function(t,e){var n,i=0;0<e&&(i=t.startTime,(n=r[--e]).endTime<i&&(n.endTime=i))}),r=r.filter(function(t){return 0<t.text.toString().replace(/\s*/,"").length})),r}throw new Error("Required parameter captionData not supplied.")},z.processVideoElement=function(r,o,s){var a=[],t=navigator.language||navigator.userLanguage;o||t.split("-")[0];if(s=s instanceof Object?s:{},!r.captioned){r._captionatorOptions=s,r.className+=(r.className.length?" ":"")+"captioned",r.captioned=!0,0===r.id.length&&(r.id=z.generateID());[].slice.call(r.querySelectorAll("track"),0).forEach(function(e){var t=null;t=0<e.querySelectorAll("source").length?e.querySelectorAll("source"):e.getAttribute("src");var n=r.addTextTrack(e.getAttribute("id")||z.generateID(),e.getAttribute("kind"),e.getAttribute("label"),e.getAttribute("srclang").split("-")[0],t,e.getAttribute("type"),e.hasAttribute("default"));(e.track=n).trackNode=e,n.videoNode=r,a.push(n);var i=!1;"subtitles"!==n.kind&&"captions"!==n.kind||o!==n.language||!s.enableCaptionsByDefault||a.filter(function(t){return("captions"===t.kind||"subtitles"===t.kind)&&o===t.language&&t.mode===z.TextTrack.SHOWING}).length||(i=!0),"chapters"===n.kind&&o===n.language&&(a.filter(function(t){return"chapters"===t.kind&&t.mode===z.TextTrack.SHOWING}).length||(i=!0)),"descriptions"===n.kind&&!0===s.enableDescriptionsByDefault&&o===n.language&&(a.filter(function(t){return"descriptions"===t.kind&&t.mode===z.TextTrack.SHOWING}).length||(i=!0)),!0===i&&a.forEach(function(t){t.trackNode.hasAttribute("default")&&t.mode===z.TextTrack.SHOWING&&(t.mode=z.TextTrack.HIDDEN)}),e.hasAttribute("default")&&(a.filter(function(t){return!(!t.trackNode.hasAttribute("default")||t.trackNode===e)}).length||(i=!0,n.internalDefault=!0)),!0===i&&(n.mode=z.TextTrack.SHOWING)}),r.addEventListener("timeupdate",function(t){var e=t.target;try{e.textTracks.forEach(function(t){t.activeCues.refreshCues.apply(t.activeCues)})}catch(t){}s.renderer instanceof Function?s.renderer.call(z,e):z.rebuildCaptions(e)},!1),window.addEventListener("resize",function(t){r._captionator_dirtyBit=!0,z.rebuildCaptions(r)},!1),!0===s.enableHighResolution&&window.setInterval(function(){try{r.textTracks.forEach(function(t){t.activeCues.refreshCues.apply(t.activeCues)})}catch(t){}s.renderer instanceof Function?s.renderer.call(z,r):z.rebuildCaptions(r)},20)}return r},z.getNodeMetrics=function(t){var e,n,i=window.getComputedStyle(t,null),r=t,o=t.offsetTop,s=t.offsetLeft,a=0;for(e=parseInt(i.getPropertyValue("width"),10),n=parseInt(i.getPropertyValue("height"),10);r=r.offsetParent;)o+=r.offsetTop,s+=r.offsetLeft;if(t.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?a=32:-1!==l.indexOf("opera")?a=25:-1!==l.indexOf("firefox")?a=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?a=44:-1!==l.indexOf("safari")&&(a=25)}else if(t._captionatorOptions){var u=t._captionatorOptions;u.controlHeight&&(a=parseInt(u.controlHeight,10))}return{left:s,top:o,width:e,height:n,controlHeight:a}},z.applyStyles=function(t,e){for(var n in e)!{}.hasOwnProperty.call(e,n)||(t.style[n]=e[n])},z.checkDirection=function(t){var e="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",n=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+e+"]");return new RegExp("^[^"+e+"]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(t)?"rtl":n.test(t)?"ltr":""},z.styleCue=function(t,n,e){var i,r,o,s,a,u,l,c,h,d,p,f,v,g,m,y,b=0,A=0,w=0,S=0,E=0,T=0,x=0,_=0,C=0,k=0,M=0,O=e._captionatorOptions||{},P=50,R=0,I=0,L=!0,D="",N=(n.track.language,function(t){if(t.spanified)return t.characterCount;function e(t){return!!t.length}function n(t){l++,z.applyStyles(t,{display:"block",lineHeight:"auto",height:u+"px",width:f+"px",textAlign:"center"})}var i,r,o,s,a="<span class='captionator-cue-character'>",l=0;for(i in t.childNodes)t.childNodes.hasOwnProperty(i)&&!t.childNodes[i].nospan&&(3===(r=t.childNodes[i]).nodeType?(s=document.createDocumentFragment(),o=r.nodeValue,s.appendChild(document.createElement("span")),s.childNodes[0].innerHTML=a+o.split(/(.)/).filter(e).join("</span>"+a)+"</span>",[].slice.call(s.querySelectorAll("span.captionator-cue-character"),0).forEach(n),r.parentNode.replaceChild(s,r)):1===t.childNodes[i].nodeType&&(l+=N(t.childNodes[i])));return t.characterCount=l,t.spanified=!0,l});if(m=z.getNodeMetrics(e),e._captionator_availableCueArea||(e._captionator_availableCueArea={bottom:m.height-m.controlHeight,right:m.width,top:0,left:0,height:m.height-m.controlHeight,width:m.width}),"horizontal"===n.direction&&(z.applyStyles(t,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),R=parseInt(t.offsetWidth,10),I=(I=Math.floor(R/e._captionator_availableCueArea.width*100))<=100?I:100),a=m.height*(B/100)/96*72,a=F<=a?a:F,u=Math.floor(a/72*96),l=Math.floor(a*U),l=j<l?l:j,p=Math.ceil(l/72*96),(f=p)*Math.floor(m.height/p)<m.height&&(p=Math.floor(m.height/Math.floor(m.height/p)),l=Math.ceil(p/96*72)),p*Math.floor(m.width/p)<m.width&&(f=Math.ceil(m.width/Math.floor(m.width/p))),h=Math.floor(e._captionator_availableCueArea.height/p),d=Math.floor(e._captionator_availableCueArea.width/f),0===parseFloat(String(n.size).replace(/[^\d\.]/gi,""))?!0===O.sizeCuesByTextBoundingBox?i=I:L=!(i=100):(L=!1,i=(i=parseFloat(String(n.size).replace(/[^\d\.]/gi,"")))<=100?i:100),o="horizontal"===n.direction?Math.floor(.01*m.width):0,s="horizontal"===n.direction?0:Math.floor(.01*m.height),"auto"===n.linePosition?n.linePosition="horizontal"===n.direction?h:d:String(n.linePosition).match(/\%/)&&(n.snapToLines=!1,n.linePosition=parseFloat(String(n.linePosition).replace(/\%/gi,""))),"horizontal"===n.direction)S=p,"auto"!==n.textPosition&&L&&(I<i-(P=parseFloat(String(n.textPosition).replace(/[^\d\.]/gi,"")))?i-=P:i=I),w=!0===n.snapToLines?e._captionator_availableCueArea.width*(i/100):m.width*(i/100),b="auto"===n.textPosition?(e._captionator_availableCueArea.right-w)/2+e._captionator_availableCueArea.left:(P=parseFloat(String(n.textPosition).replace(/[^\d\.]/gi,"")),(e._captionator_availableCueArea.right-w)*(P/100)+e._captionator_availableCueArea.left),A=!0===n.snapToLines?(h-1)*p+e._captionator_availableCueArea.top:(c=m.controlHeight+p+2*s,(m.height-c)*(n.linePosition/100));else{if(A=e._captionator_availableCueArea.top,b=e._captionator_availableCueArea.right-f,w=f,S=e._captionator_availableCueArea.height*(i/100),T=N(t),x=[].slice.call(t.querySelectorAll("span.captionator-cue-character"),0),E=Math.floor((S-2*s)/u),w=Math.ceil(T/E)*f,_=Math.ceil(T/E),C=(T-E*(_-1))*u,!0===n.snapToLines)b="vertical-lr"===n.direction?e._captionator_availableCueArea.left:e._captionator_availableCueArea.right-w;else{var H=w+2*o;b="vertical-lr"===n.direction?(m.width-H)*(n.linePosition/100):m.width-H-(m.width-H)*(n.linePosition/100)}A="auto"===n.textPosition?(e._captionator_availableCueArea.bottom-S)/2+e._captionator_availableCueArea.top:(n.textPosition=parseFloat(String(n.textPosition).replace(/[^\d\.]/gi,"")),(e._captionator_availableCueArea.bottom-S)*(n.textPosition/100)+e._captionator_availableCueArea.top),g=v=M=k=0,x.forEach(function(t,e){v="vertical-lr"===n.direction?f*k:w-f*(k+1),"start"===n.alignment||"start"!==n.alignment&&k<_-1?g=M*u+s:"end"===n.alignment?g=M*u-u+(S+2*s-C):"middle"===n.alignment&&(g=(S-2*s-C)/2+M*u),t.setAttribute("aria-hidden","true"),z.applyStyles(t,{position:"absolute",top:g+"px",left:v+"px"}),E-1<=M?(M=0,k++):M++}),t.accessified||(D=n.text.getPlain(e.currentTime),(y=document.createElement("div")).innerHTML=D,y.nospan=!0,t.appendChild(y),t.accessified=!0,z.applyStyles(y,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===n.direction&&(r="rtl"===z.checkDirection(String(n.text))?{start:"right",middle:"center",end:"left"}[n.alignment]:{start:"left",middle:"center",end:"right"}[n.alignment]),z.applyStyles(t,{position:"absolute",overflow:"hidden",width:w+"px",height:S+"px",top:A+"px",left:b+"px",padding:s+"px "+o+"px",textAlign:r,backgroundColor:"rgba("+W.join(",")+")",direction:z.checkDirection(String(n.text)),lineHeight:l+"pt",boxSizing:"border-box"}),"vertical"===n.direction||"vertical-lr"===n.direction)b-e._captionator_availableCueArea.left-e._captionator_availableCueArea.left>=e._captionator_availableCueArea.right-(b+w)?e._captionator_availableCueArea.right=b:e._captionator_availableCueArea.left=b+w,e._captionator_availableCueArea.width=e._captionator_availableCueArea.right-e._captionator_availableCueArea.left;else{if(t.scrollHeight>1.2*t.offsetHeight)if(n.snapToLines){for(var V=0;t.scrollHeight>1.2*t.offsetHeight;)S+=p,t.style.height=S+"px",V++;A-=V*p,t.style.top=A+"px"}else{t.scrollHeight;S=t.scrollHeight+s,c=m.controlHeight+S+2*s,A=(m.height-c)*(n.linePosition/100),t.style.height=S+"px",t.style.top=A+"px"}A-e._captionator_availableCueArea.top-e._captionator_availableCueArea.top>=e._captionator_availableCueArea.bottom-(A+S)&&e._captionator_availableCueArea.bottom>A?e._captionator_availableCueArea.bottom=A:e._captionator_availableCueArea.top<A+S&&(e._captionator_availableCueArea.top=A+S),e._captionator_availableCueArea.height=e._captionator_availableCueArea.bottom-e._captionator_availableCueArea.top}},z.styleCueCanvas=function(t){var e,n,i,r,o,s,a=t._captionatorOptions instanceof Object?t._captionatorOptions:{};if(!(t instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(t._containerObject&&(o=(i=t._containerObject).id),t._descriptionContainerObject&&(s=(r=t._descriptionContainerObject).id),r?r.parentNode||document.body.appendChild(r):((r=document.createElement("div")).className="captionator-cue-descriptive-container",s=z.generateID(),r.id=s,(t._descriptionContainerObject=r).setAttribute("aria-live","polite"),r.setAttribute("aria-atomic","true"),r.setAttribute("role","region"),document.body.appendChild(r),z.applyStyles(r,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),i)i.parentNode||document.body.appendChild(i);else{if((i=document.createElement("div")).className="captionator-cue-canvas",o=z.generateID(),i.id=o,a.appendCueCanvasTo){var l=null;if(a.appendCueCanvasTo instanceof HTMLElement)l=a.appendCueCanvasTo;else if("string"==typeof a.appendCueCanvasTo)try{var u=document.querySelectorAll(a.appendCueCanvasTo);if(!(0<u.length))throw null;l=u[0]}catch(t){l=document.body,a.appendCueCanvasTo=!1}else l=document.body,a.appendCueCanvasTo=!1;l.appendChild(i)}else document.body.appendChild(i);t._containerObject=i}var c=z.getNodeMetrics(t);e=c.height*(B/100)/96*72,e=F<=e?e:F,n=Math.floor(e*U),n=j<n?n:j,z.applyStyles(i,{position:"absolute",overflow:"hidden",zIndex:100,height:c.height-c.controlHeight+"px",width:c.width+"px",top:(a.appendCueCanvasTo?0:c.top)+"px",left:(a.appendCueCanvasTo?0:c.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:e+"pt",lineHeight:n+"pt",boxSizing:"border-box"})},z.createDOMException=function(e,n,i){try{document.querySelectorAll("div/[]")}catch(t){var r=function(t,e,n){this.code=t,this.message=e,this.name=n};return r.prototype=t,new r(e,n,i)}},z.compareArray=function(t,e){if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}return!1},z.generateID=function(t){var e="";for(t=t||10;e.length<t;)e+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+e}}()},function(t,e){!function(){function t(t,e){return[].slice.call((e||document).querySelectorAll(t))}if(window.addEventListener){var c=window.StyleFix={link:function(n){try{if("stylesheet"!==n.rel||n.hasAttribute("data-noprefix"))return}catch(t){return}var e,i=n.href||n.getAttribute("data-href"),r=i.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(r)||[""])[0],s=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(r)||[""])[0],a=/^([^?]*)\??/.exec(i)[1],l=n.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&e()},e=function(){if((t=u.responseText)&&n.parentNode&&(!u.status||u.status<400||600<u.status)){if(t=c.fix(t,!0,n),r){var t=t.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(t,e,n){return/^([a-z]{3,10}:|#)/i.test(n)?t:/^\/\//.test(n)?'url("'+o+n+'")':/^\//.test(n)?'url("'+s+n+'")':/^\?/.test(n)?'url("'+a+n+'")':'url("'+r+n+'")'}),e=r.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");t=t.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+e,"gi"),"$1")}(e=document.createElement("style")).textContent=t,e.media=n.media,e.disabled=n.disabled,e.setAttribute("data-href",n.getAttribute("href")),l.insertBefore(e,n),l.removeChild(n),e.media=n.media}};try{u.open("GET",i),u.send(null)}catch(t){"undefined"!=typeof XDomainRequest&&((u=new XDomainRequest).onerror=u.onprogress=function(){},u.onload=e,u.open("GET",i),u.send(null))}n.setAttribute("data-inprogress","")},styleElement:function(t){if(!t.hasAttribute("data-noprefix")){var e=t.disabled;t.textContent=c.fix(t.textContent,!0,t),t.disabled=e}},styleAttribute:function(t){var e=t.getAttribute("style");e=c.fix(e,!1,t);t.setAttribute("style",e)},process:function(){t('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),t("style").forEach(StyleFix.styleElement),t("[style]").forEach(StyleFix.styleAttribute)},register:function(t,e){(c.fixers=c.fixers||[]).splice(void 0===e?c.fixers.length:e,0,t)},fix:function(t,e,n){for(var i=0;i<c.fixers.length;i++)t=c.fixers[i](t,e,n)||t;return t},camelCase:function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}).replace("-","")},deCamelCase:function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}};setTimeout(function(){t('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(a){function o(t,e,n,i,r){return(t=u[t]).length&&(t=RegExp(e+"("+t.join("|")+")"+n,"gi"),r=r.replace(t,i)),r}if(window.StyleFix&&window.getComputedStyle){var u=window.PrefixFree={prefixCSS:function(t,e,n){var i=u.prefix;if(-1<u.functions.indexOf("linear-gradient")&&(t=t.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(t,e,n,i){return e+(n||"")+"linear-gradient("+(90-i)+"deg"})),t=o("functions","(\\s|:|,)","\\s*\\(","$1"+i+"$2(",t),t=o("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+i+"$2$3",t),t=o("properties","(^|\\{|\\s|;)","\\s*:","$1"+i+"$2:",t),u.properties.length){var r=RegExp("\\b("+u.properties.join("|")+")(?!:)","gi");t=o("valueProperties","\\b",":(.+?);",function(t){return t.replace(r,i+"$1")},t)}return e&&(t=o("selectors","","\\b",u.prefixSelector,t),t=o("atrules","@","\\b","@"+i+"$1",t)),(t=t.replace(RegExp("-"+i,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,u.prefix)},property:function(t){return(0<=u.properties.indexOf(t)?u.prefix:"")+t},value:function(t,e){return t=o("functions","(^|\\s|,)","\\s*\\(","$1"+u.prefix+"$2(",t),t=o("keywords","(^|\\s)","(\\s|$)","$1"+u.prefix+"$2$3",t),0<=u.valueProperties.indexOf(e)&&(t=o("properties","(^|\\s|,)","($|\\s|,)","$1"+u.prefix+"$2$3",t)),t},prefixSelector:function(t){return t.replace(/^:{1,2}/,function(t){return t+u.prefix})},prefixProperty:function(t,e){var n=u.prefix+t;return e?StyleFix.camelCase(n):n}};!function(){function t(t){if("-"===t.charAt(0)){i.push(t);var e=(t=t.split("-"))[1];for(n[e]=++n[e]||1;3<t.length;)t.pop(),e=t.join("-"),StyleFix.camelCase(e)in r&&-1===i.indexOf(e)&&i.push(e)}}var n={},i=[],e=getComputedStyle(document.documentElement,null),r=document.createElement("div").style;if(0<e.length)for(var o=0;o<e.length;o++)t(e[o]);else for(var s in e)t(StyleFix.deCamelCase(s));var a,l;o=0;for(l in n)o<(e=n[l])&&(a=l,o=e);for(u.prefix="-"+a+"-",u.Prefix=StyleFix.camelCase(u.prefix),u.properties=[],o=0;o<i.length;o++)0===(s=i[o]).indexOf(u.prefix)&&(a=s.slice(u.prefix.length),StyleFix.camelCase(a)in r||u.properties.push(a));!("Ms"!=u.Prefix||"transform"in r||"MsTransform"in r)&&"msTransform"in r&&u.properties.push("transform","transform-origin"),u.properties.sort()}(),function(){function t(t,e){return r[e]="",r[e]=t,r[e]}var e={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};e["repeating-linear-gradient"]=e["repeating-radial-gradient"]=e["radial-gradient"]=e["linear-gradient"];var n={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};u.functions=[],u.keywords=[];var i,r=document.createElement("div").style;for(i in e){var o,s=(o=e[i]).property;!t(o=i+"("+o.params+")",s)&&t(u.prefix+o,s)&&u.functions.push(i)}for(var a in n)!t(a,s=n[a])&&t(u.prefix+a,s)&&u.keywords.push(a)}(),function(){function t(t){return r.textContent=t+"{}",r.sheet.cssRules.length}var e={":read-only":null,":read-write":null,":any-link":null,"::selection":null},n={keyframes:"name",viewport:null,document:'regexp(".")'};u.selectors=[],u.atrules=[];var i,r=a.appendChild(document.createElement("style"));for(i in e){var o=i+(e[i]?"("+e[i]+")":"");!t(o)&&t(u.prefixSelector(o))&&u.selectors.push(i)}for(var s in n)!t("@"+(o=s+" "+(n[s]||"")))&&t("@"+u.prefix+o)&&u.atrules.push(s);a.removeChild(r)}(),u.valueProperties=["transition","transition-property"],a.className+=" "+u.prefix,StyleFix.register(u.prefixCSS)}}(document.documentElement)},function(t,e,c){"use strict";var n;void 0===(n=function(t){var s=c(7),e=(c(5),c(15),c(3)),n=c(2),i=c(6).addWindowListener,a=document.createElement("div");document.body.appendChild(a);var o=document.getElementById("focus-sink"),l=void 0,u=!window.globals.HAS_FRAME,r={initialize:function(){_.bindAll(this,"onSlideStarted","takeFocusOff"),n.on(e.slide.STARTED,this.onSlideStarted),i("resize",this.takeFocusOff)},setFocusRectOn:function(r,t,e){var o=2<arguments.length&&void 0!==e?e:0;if(!u)if(null!=r){var n=[];n=null==t?r.getClientRects():Array.isArray(t)?[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)):[t],n=_.map(n,function(t){var e={left:t.left,top:t.top,width:t.width,height:t.height,bottom:t.bottom,right:t.right};if(s.hasClass(r,"acc-shadow-el")){var n=DS.views.getTopNameSpace().slide.el.getBoundingClientRect();e.left=Math.max(e.left,n.left),e.top=Math.max(e.top,n.top),e.right=Math.min(e.right,n.right),e.bottom=Math.min(e.bottom,n.bottom),e.width=e.right-e.left,e.height=e.bottom-e.top}else e.bottom=e.right="";for(var i in e.left-=o,e.top-=o,e.width+=2*o,e.height+=2*o,e)e[i]+="px";return e}),a.innerHTML="",_.forEach(n,function(t){var e=document.createElement("div");e.className="tab-focus-box",a.appendChild(e),s.setStyles(e,t)}),l=r}else console.warn('cannot set focus rect on "null"')},takeFocusOff:function(t){null!=t&&t!==l||(a.innerHTML="")},reCenter:function(){document.body.focus(),this.takeFocusOff()},onSlideStarted:function(t,e){var n=this;if(!u&&null!=e.currView&&document.hasFocus()){var i=s.closest(e.currView.el,function(t){return"label"===t.firstElementChild.getAttribute("data-ref")});if(!i.contains(document.activeElement)){var r=s.closest(e.currView.el,function(t){return"container"===t.getAttribute("data-ref")});o.focus(),window.setTimeout(function(){return r.focus()},100)}window.setTimeout(function(){return n.setFocusRectOn(i)},16)}},lastFocusedElement:function(){return l}};return r.initialize(),r}.call(e,c,e,t))||(t.exports=n)},function(t,e,o){"use strict";var n;function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(n=function(t){var n=o(26),e=o(9),i=o(8),r=e.warn("fontHelper");return{loadFonts:function(t){if(null==n.loadFonts)return i.promiseToVow(Promise.all(Array.from(document.fonts).map(function(t){return t.load()})));var e=DS.frame.getFonts().reduce(function(t,i){return t.push.apply(t,s(i.files.map(function(t){var e=t.bold,n=t.italic;return{name:i.name,bold:e,italic:n}}))),t},[]);return n.loadFonts([].concat(s(t.get("fontLib")||[]),s(e)),r)}}}.call(e,o,e,t))||(t.exports=n)},function(t,e,u){"use strict";var n;void 0===(n=function(t){var d=u(0),e=u(6),n=e.addWindowListener,i=e.addDocumentListener,p=e.addBodyListener,o=u(5),f=(u(3),u(2),u(1)),v=u(7),g=u(12),s=(u(4),u(27)),r=u(38),m=u(59),a=r.camelCase("transform"),l={doFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},styleIfExists:function(t,e,n){t&&(t.style[e]=n)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");o.orientation.isPortrait?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",f.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initAndroid:function(){this.doFullScreen(document.documentElement),this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),document.body.style.minHeight=o.smallestSide+"px"},initTouchableThemeAndPhone:function(){var t,i,r;document.body.style.height="120%",document.querySelector("#preso").style.position="fixed",10<=o.os.iOSVersion&&setInterval(function(){var t=document.querySelector(".controls"),e=window.innerHeight,n=document.documentElement.clientHeight;e<n?(i=n-e)!==r&&null!=t&&(t.style[a]=s.transformTranslate(f.pxify(0),f.pxify(-i)),r=i):null!=t&&""!==t.style[a]&&(t.style[a]="")},100),n("resize",function(){clearTimeout(t),t=setTimeout(function(){window.scrollTo(0,1)},30)})},initIOS:function(){var r=document.querySelector(".mobile-chrome-warning");r.innerHTML='<div class="mobile-chrome-warning-btn">\n      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" x="0px" y="0px" width="107px" height="78px" viewBox="0 0 107 78">\n\n        <g id="mobile-chrome-warning-arrow">\n          <path fill="white" stroke="none" d="\n          M 24.1 31.4\n          L 12.05 15.85 0 31.4 8.3 31.4 8.3 54 15.25 54 15.25 31.4 24.1 31.4 Z"></path>\n        </g>\n\n        <path id="mobile-chrome-warning-hand" stroke="white" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" fill="none" d="\n        M 37.55 16.1\n        Q 36.3 14.8 36.3 13.1 36.3 11.45 37.55 10.15 38.85 8.9 40.55 8.9 42.2 8.9 43.5 10.15\n        L 46.75 13.375 46.75 13.35\n        Q 45.5 12.05 45.5 10.35 45.5 8.7 46.75 7.4 48.05 6.15 49.75 6.15 51.4 6.15 52.7 7.4\n        L 57 11.65\n        Q 56.05 10.4828125 56.05 9 56.05 7.3 57.3 6 58.6 4.8 60.3 4.8 62 4.8 63.3 6\n        L 74.3 17\n        Q 76.3 19.05 77.5 21.55 78.75 24.05 79.1 26.9 79.4 29.7 80.65 32.25 81.85 34.75 83.85 36.75\n        L 85.6 38.5 69.5 54.6\n        Q 68.25 53.35 66.5 52.1 64.75 50.8 62.85 49.85 60.95 48.85 59.25 48.5\n        L 32 42.5\n        Q 31.15 42.3 30.45 41.8 29.1 40.8 28.85 39.3 28.6 37.85 29.35 36.55 30.05 35.25 31.65 34.7\n        L 31.9 34.65\n        Q 32.55 34.45 33.25 34.45\n        L 44.3 34.9 17.65 8.2\n        Q 16.4 6.9 16.4 5.2 16.4 3.55 17.65 2.25 18.95 1 20.65 1 22.3 1 23.6 2.25\n        L 37.55 16.1 39.2 17.75\n        M 58.95 13.65\n        L 58.075 12.775 57.3 12\n        Q 57.140234375 11.833984375 57 11.65\n        L 58.075 12.775\n        M 46.75 13.375\n        L 48.4 15"></path>\n\n      </svg>\n    </div>\n\n    <div class="mobile-chrome-warning-bubble">\n      Drag up for fullscreen\n    </div>';var t,o,s,a,e,l=document.querySelector(".mobile-chrome-warning-bubble"),u=document.querySelector(".mobile-chrome-warning-btn"),c=document.querySelector("#preso"),h=0;document.body.style.height="120%",i("touchstart",function(){o=!0}),i("touchend",function(){o=!1}),r.addEventListener("touchstart",function(){g.killTweensOf(l),g.killTweensOf(u),g.to(u,.05,{opacity:1,scaleX:.6,scaleY:.6}),g.to(l,.1,{opacity:1}),g.to(l,.3,{opacity:0,delay:3})}),setInterval(function(){var t=document.activeElement,e=window.innerHeight,n=document.documentElement.clientHeight,i=e<n;d.extend(c.style,{position:"fixed",left:"0px",top:"0px",zIndex:0}),t&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName)||(i?("block"!==r.style.display&&"none"!==c.style.display&&(r.style.display="block",g.killTweensOf(l),g.killTweensOf(u),g.set(l,{opacity:0}),g.to(l,1,{opacity:1}),g.to(l,.8,{opacity:0,delay:3}),g.to(u,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"back.out"}),s=!0,h=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||o||window.scrollTo(0,0)):"none"!==r.style.display&&"block"!==c.style.display&&(r.style.display="none",c.style.zIndex=null,s=!1))},100),n("resize",function(){clearTimeout(t),t=setTimeout(function(){window.scrollTo(0,1)},30)}),p("touchstart",function(t){1===t.touches.length&&(a=t.touches[0].clientY),s&&(h=Math.abs(window.innerHeight-document.body.clientHeight))});!function t(){if(s&&o){var e=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-h)/88;r.style.opacity=1-e,r.style.height=f.pxify(75+150*e)}else o||(r.style.opacity=1,r.style.height="75px");window.requestAnimationFrame(t)}(),p("touchmove",function(t){var i,e=!1,n=t.target,r=v.parentNodesOf(n,function(t){return m.isScrollable(t)});m.isScrollable(n)&&r.unshift(n),s||(e=1!==t.touches.length||null==a||(i=t.touches[0].clientY,!d.isEmpty(r)&&r.every(function(t){var e=0===t.scrollTop&&a<i,n=t.scrollTop+t.offsetHeight===t.scrollHeight&&i<a;return e||n}))),e&&t.preventDefault()}),p("touchend",function(){a=null}),document.documentElement.addEventListener("touchstart",function(t){1===t.touches.length&&(e?t.preventDefault():(e=!0,setTimeout(function(){e=!1},500)))})}};return o.theme.isClassic&&o.device.isMobile&&window.addEventListener("scroll",function(){document.body.scrollTop<0&&(document.body.scrollTop=0)}),document.addEventListener("touchmove",function(t){1!==t.touches.length&&t.preventDefault()},{passive:!1}),o.env.isInIframe||o.deviceView.isTablet?l.init=d.noop:o.os.isAndroid&&!o.env.is360?l.init=l.initAndroid:o.os.isIOS&&o.device.isPhone?l.init=l.initTouchableThemeAndPhone:o.os.isIOS&&8<=o.os.iOSVersion?l.init=l.initIOS:l.init=d.noop,l}.call(e,u,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i,r;i=[n(0),n(9),n(2),n(3),n(10),n(28),n(4),n(1),n(14)],void 0===(r=function(i,t,s,a,n,e,l,r,o){function u(t){var e=n.resolvePath(r.prefixWithPlayer(t),{context:g,optional:!0});if(null==e)throw new Error(["No object exists at path ",r.doubleQuote(t)].join(""));return e}function c(t){p.postMessage(JSON.stringify(t),"*")}function h(){var t,e;t="notifyPreview",e=i.toArray(arguments),c({jsonrpc:"2.0",method:t,params:e})}function d(t){var e,n,i=JSON.parse(t.data);try{e=i.id,n=A[i.method].apply(this,i.params),c({jsonrpc:"2.0",id:e,result:n})}catch(t){!function(t,e){c({jsonrpc:"2.0",id:t,error:{code:-1,message:e}})}(i.id,t.message)}}var p,f,v,g,m=t.throwError("previewHelper"),y={kind:"adjustvar",operator:"set"},b={kind:"reset_player"},A={getValue:function(t){var e=u(t);return e.isVar?e.value():e},getCurrentTime:function(){return o.getCurrentWindowSlide().currentTimeline().elapsedTime()},setCurrentTime:function(t){o.getCurrentWindowSlide().currentTimeline().seek(t)},gotoSlide:function(t){s.trigger(a.request.NEXT_SLIDE,r.prefixWithPlayer(t))},overrideOrientations:function(t){v.set("orientations",t)},resetPlayer:function(t){f.executeAction(i.defaults({startslideid:r.prefixWithPlayer(t)},b),{context:g})},resetSlide:function(t){var e=u(t);if(!e.isSlide)throw new Error(["Object at",r.doubleQuote(t),"is not a slide"].join(" "));e.reset()},setVariable:function(t,e){var n=u(t);if(!n.isVar)throw new Error(["Object at",r.doubleQuote(t),"is not a variable"].join(" "));f.executeAction(i.defaults({variable:n.absoluteId,value:{type:n.type(),value:e}},y),{context:g})},setBackgroundColor:function(t){document.body.style.background=t},setStringTable:function(t){e.reInit(JSON.parse(t)),s.trigger(a.controlOptions.RESET),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setColorScheme:function(t){var e=DS.frameModel.frame.controlOptions.controls.closed_captions;w("player-preview-css",t),s.trigger(a.scheme.CHANGED,"player-preview-css"),s.trigger(a.controlOptions.RESET),S(e)},setFontScale:function(t){s.trigger(a.frame.FONT_SCALE,t),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setControlOptions:function(t,e){var n=JSON.parse(t),i=JSON.parse(e),r=DS.frameModel.outlineInSidebar,o=DS.frameModel.sidebarOpts.closed;s.trigger(a.controlLayout.UPDATE,DS.frameModel.frame.default_layout,l.refs.FRAME,i),s.trigger(a.controlOptions.CHANGED,n),!r&&DS.frameModel.outlineInSidebar||!i.outline.search?s.trigger(a.sidebar.HIDE_SEARCH):i.outline.search&&i.outline.enabled&&!DS.frameModel.outlineInSidebar&&s.trigger(a.sidebar.SHOW_SEARCH),o&&!DS.frameModel.sidebarOpts.closed?s.trigger(a.sidebar.OPEN):!o&&DS.frameModel.sidebarOpts.closed&&s.trigger(a.sidebar.CLOSE),S(n.controls.closed_captions)},setGlossaryData:function(t){var e=JSON.parse(t);s.trigger(a.glossary.UPDATE,e)},setNavData:function(t){var e=JSON.parse(t);s.trigger(a.navData.UPDATE,e),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setSkipNav:function(t){t!=DS.frameModel.frame.skip_nav_enabled&&(DS.frameModel.frame.skip_nav_enabled=t,DS.pubSub.trigger(DS.events.controlOptions.RESET),S(DS.frameModel.frame.controlOptions.controls.closed_captions))},setResources:function(t){var e=JSON.parse(t);s.trigger(a.resources.UPDATE,e)},setResourcesDescription:function(t){s.trigger(a.resources.UPDATE_DESCRIPTION,t)},setActiveTab:function(t){s.trigger(a.sidebar.ACTIVE_TAB_SET,t)},setChromeless:function(t){t!=DS.frameModel.frame.chromeless&&(DS.frameModel.frame.chromeless=t,s.trigger(a.frameModel.CHROMELESS_CHANGED,t),S(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFont:function(t){w("player-preview-font-css",t),s.trigger(a.controlOptions.RESET),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setTextDirection:function(t){t!=DS.frameModel.frame.textdirection&&(DS.frameModel.frame.textdirection=t,DS.frameModel.rtl="rtl"===t,s.trigger(a.controlOptions.RESET),s.trigger(a.navData.REFRESH_VIEW),S(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFrameSize:function(t,e){DS.presentation.updateTotalSize(t,e),DS.scaler.scale()}},w=function(t,e){var n=document.getElementById(t);null==n&&((n=document.createElement("style")).id=t,document.body.appendChild(n)),n.innerText=e},S=function(t){window.globals.HAS_SLIDE||(s.trigger(a.slide.STARTED,"dummySlide",g.getFirstSlide(),l.refs.FRAME),s.trigger(a.navData.SELECT_FIRST_SLIDE_LINK),t?s.trigger(a.captions.SHOW_BUTTON):s.trigger(a.captions.HIDE_BUTTON))};return{initialize:function(t,e,n){f=n,e.isPreview()&&(null!=window.parent&&window.parent!==window?(v=t,g=e,p=window.parent,window.document.getElementById(l.els.PRESO).addEventListener("click",function(){return h("PREVIEW_CLICKED")}),window.addEventListener("message",d),window.globals.HAS_SLIDE||S(DS.frameModel.frame.controlOptions.controls.closed_captions),s.on(a.preview.NOTIFY,h),h("PREVIEW_FRAME_READY")):m("initialize","Cannot load parent window"))}}}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var h=n(4);return{initialize:function(t){if(this.isInitialized=!0,t){var e=document.createElement("div");e.id="slide";var n=document.createElement("div");n.className="slide-container",e.appendChild(n),document.getElementById(h.els.PRESO).appendChild(e),DS.frame={createWindow:function(){return{el:e,captionEl:document.createElement("div"),id:h.refs.FRAME,x:function(){return 0},y:function(){return 0},getWinScale:function(){return DS.scaler.getScale()},onPinchZoom:function(){},getPinchZoomBounds:function(){}}}}}else{var i=this.getPreviewInfo(),r=i.totalWidth,o=i.totalHeight,s=this.getPreviewInfo(),a=s.slideWidth,l=s.slideHeight,u=s.slideDurationMs,c=s.text;DS.presentation={isPreview:function(){return!0},getFirstSlide:function(){return{props:{width:a,height:l},get:function(t){return this.props[t]},currentTimelineCompletedOnce:function(){return!1},currentTimeline:function(){return{on:function(){},off:function(){},progress:function(){return.5},timelineDuration:function(){return u},playbackState:function(){return"paused"},isPlaying:function(){return!1}}},on:function(){},off:function(){}}},updateTotalSize:function(t,e){r=t,o=e},display:function(){return{width:function(){return r},height:function(){return o},getWindowById:function(){}}},assetLib:function(){},slideMap:function(){}},DS.renderEngine={createWindowFor:function(){var t=document.getElementById("slide");t.className="placeholder";var e=document.createElement("div");return e.className="placeholder-text",e.style.fontSize="8vw",e.innerText=c,t.appendChild(e),t}}}},getPreviewInfo:function(){return{slideWidth:this.getPreviewInfoParameter("slideWidth",720,parseInt),slideHeight:this.getPreviewInfoParameter("slideHeight",540,parseInt),totalWidth:this.getPreviewInfoParameter("totalWidth",980,parseInt),totalHeight:this.getPreviewInfoParameter("totalHeight",658,parseInt),slideDurationMs:this.getPreviewInfoParameter("slideDurationMs",5e3,parseInt),text:this.getPreviewInfoParameter("text","SLIDE")}},getPreviewInfoParameter:function(t,e,n){if(null==window.globals.parsedParams)return e;var i=window.globals.parsedParams[t];return null==i?e:null==n?i:n(i)}}}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){"use strict";var i;void 0===(i=function(t){for(var o=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-o)),r=window.setTimeout(function(){t(n+i)},i);return o=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}.call(e,n,e,t))||(t.exports=i)},function(t,e,f){"use strict";var n;void 0===(n=function(t){var n=f(0),r=f(6).addDocumentListener,i=f(7).isInput,o=f(15),s=(f(18),f(57)),a=f(5),l=f(19),u=f(2),c=f(3),h=f(13),v=f(4),g=[],d=void 0,p=void 0;return{enabled:!0,initialize:function(t){var e=this;p=t||function(t){return t},n.bindAll(this,"onTimelineChanged"),a.deviceView.isUnifiedDesktop&&!DS.presentation.isPreview()&&this.registerShortcut(p("togglezoom"),{key:"z",ctrl:!0,alt:!0},function(){o.enableZoomMode(!o.zoomMode)}),a.deviceView.isDesktop&&(u.on(c.playbackControls.TIMELINE_CHANGED,this.onTimelineChanged),this.registerShortcut(p("acctext_shortcut"),{key:"t",ctrl:!0,alt:!0},function(){h.onToggleAccessibleText()}),this.registerShortcut(p("mute_shortcut"),{key:"m",ctrl:!0,alt:!0},function(){h.onToggleVolume()}),this.registerShortcut(p("closedcaptions_shortcut"),{key:"c",ctrl:!0,alt:!0},function(){l.toggleCaptioning()}),this.registerShortcut(p("replay_shortcut"),{key:"r",ctrl:!0,alt:!0},function(){e.currTimeline.reset()}),this.registerShortcut(p("playpause_shortcut"),{key:"p",ctrl:!0,alt:!0},function(){null!=e.currTimeline&&(1!==e.currTimeline.progress()?e.currTimeline.togglePlayback():a.theme.isUnified&&e.currTimeline.reset())}),this.registerShortcut(p("previous_shortcut"),{key:",",keyCode:188,ctrl:!0,alt:!0},function(){e.onControlButtonShortcut("prev")}),this.registerShortcut(p("next_shortcut"),{key:".",keyCode:190,ctrl:!0,alt:!0},function(){e.onControlButtonShortcut("next")}),this.registerShortcut(p("submit_shortcut"),{key:"s",ctrl:!0,alt:!0},function(){e.onControlButtonShortcut("submit")}))},onControlButtonShortcut:function(t){var e=DS.views.getTopNameSpace()[t];e&&e.shortcutActivated()},onTimelineChanged:function(t){this.currTimeline=t},closeShortcutWindow:function(){null!=d&&(d.close(),d=null)},registerShortcut:function(t,e,n){var i=this;this.listenerAdded||(this.listenerAdded=!0,r("keydown",function(t){return i.onKeyDown(t)}),this.registerShortcut(p("shortcuthelp"),{key:"?",shift:!0},function(){null==d?d=DS.frame.createWindow("ShortcutWnd"):i.closeShortcutWindow()})),g.push({name:t,keyInfo:e,cb:n})},enableShortcuts:function(t){this.enabled=t,u.trigger(DS.events.player.ENABLE_KEYBOARD_SHORTCUTS,t)},onKeyDown:function(t){var c=t.ctrlKey,h=t.shiftKey,d=t.altKey,p=t.key,f=t.keyCode;if(!(i(document.activeElement)||s.keyPressHandlerExists(t)||!this.enabled&&"?"!==p)){var e=g.find(function(t){var e=t.keyInfo,n=e.key,i=e.keyCode,r=void 0===i?0:i,o=e.ctrl,s=void 0!==o&&o,a=e.shift,l=void 0!==a&&a,u=e.alt;return s===c&&l===h&&(void 0!==u&&u)===d&&(n.toLowerCase()===p.toLowerCase()||r===f)});e&&e.cb(),f==v.keys.F5&&t.preventDefault()}},getShortcutList:function(){return[].concat(g)}}}.call(e,f,e,t))||(t.exports=n)},function(t,e,u){"use strict";var n;void 0===(n=function(t){function r(t){var e=t.viewed,n=t.total;return 0===n?"":(100*e/n).toFixed(0)+"%"}function i(){var t=b.getCurrentWindowSlide();if(null!=t){var e=t.getScene();if(!e.isMessageScene()){var n,i,r,o,s,a,l,u,c,h=A.slides[t.absoluteId],d=y.variables(),p=(i=(n=t).getScene(),r=A.slides[n.absoluteId].menuSection,o=new Set,s=new Set,a={total:0,viewed:0},l={total:0,viewed:0},u={total:0,viewed:0},c={total:0,viewed:0},v.forEach(A.slides,function(t){var e=t.slide.viewed;t.slide.includeInSlideCounts()&&(a.total++,e&&(a.viewed++,o.add(t.scene)),t.scene===i&&(l.total++,e&&l.viewed++)),null!=t.menuSection&&t.slide.includeInSlideCounts()&&(u.total++,e&&(u.viewed++,s.add(t.menuSection)),t.menuSection===r&&(c.total++,e&&c.viewed++))}),{viewedSceneCount:o.size,viewedSectionCount:s.size,project:a,scene:l,menu:u,section:c}),f={sceneNumber:e.sceneNumber(),menuInclude:null!=h.menuSection?function(t){return t}:function(t){return""},projectInclude:t.includeInSlideCounts()?function(t){return t}:function(t){return""},menuCountInclude:null!==h.menuSection&&t.includeInSlideCounts()?function(t){return t}:function(t){return""}};w.forEach(function(t){var e=t.name,n=t.update;return d.get(e).value(n(p,h,f))}),m.trigger(g.slide.SLIDE_NUMBERS_UPDATED)}}}function o(t,e){var i=0,r=0;function o(t,e){function n(t){var e=t.getSlideDraw();return null!=e?e.slideNumberInScene()+t.index():t.slideNumberInScene()}return n(t)-n(e)}A.slides={},t.scenes().forEach(function(e){if(!e.isMessageScene()){var n=0;e.getAllSlides().sort(o).forEach(function(t){A.slides[t.absoluteId]={slideNumberInProject:t.includeInSlideCounts()?++i:0,slideNumberInScene:t.includeInSlideCounts()?++n:0,slide:t,scene:e},A.scenes[e.absoluteId]={slideCount:n}}),0!==e.sceneNumber()&&r++}}),A.sceneCount=r;var a=0,n=0;(e||[]).forEach(function(t,e){(function n(t,i,r,o,s){var e=A.slides[t.slideid];return null!=e&&(e.menuSlideNumber=e.slide.includeInSlideCounts()?++a:0,e.menuSlideTitle=l.decodeHtml(t.displaytext),e.menuSlideReference=o,e.menuSectionSlideNumber=e.slide.includeInSlideCounts()?r++:0,e.menuSection=s),v.forEach(t.links,function(t,e){r=n(t,i+1,r,o+"."+(e+1),s)}),r})(t,1,1,n=e+1,n)}),A.menuTotalSections=n}var v=u(0),g=u(3),e=u(4),m=u(2),l=u(1),y=void 0,b=void 0,A={slides:{},scenes:{}},n=e.varTypes,s=n.NUM,a=n.STRING,w=[{name:"menuSlidesViewed",update:function(t){return t.menu.viewed},type:s},{name:"menuTotalSlides",update:function(t){return t.menu.total},type:s},{name:"menuProgress",update:function(t){var e=t.menu;return r(e)},type:s},{name:"menuSectionSlidesViewed",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.viewed)},type:s},{name:"menuSectionTotalSlides",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.total)},type:s},{name:"menuSectionProgress",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(r(i))},type:s},{name:"projectSlidesViewed",update:function(t){return t.project.viewed},type:s},{name:"projectTotalSlides",update:function(t){return t.project.total},type:s},{name:"projectProgress",update:function(t){var e=t.project;return r(e)},type:s},{name:"sceneSlidesViewed",update:function(t){return t.scene.viewed},type:s},{name:"sceneTotalSlides",update:function(t){return t.scene.total},type:s},{name:"sceneProgress",update:function(t){var e=t.scene;return r(e)},type:s},{name:"menuSectionsViewed",update:function(t){return t.viewedSectionCount},type:s},{name:"projectScenesViewed",update:function(t){return t.viewedSceneCount},type:s},{name:"menuSlideNumber",update:function(t,e,n){var i=e.menuSlideNumber;return(0,n.menuCountInclude)(i)},type:s},{name:"menuSlideTitle",update:function(t,e){return e.menuSlideTitle},type:a},{name:"menuSlideReference",update:function(t,e){return e.menuSlideReference},type:a},{name:"menuSectionNumber",update:function(t,e,n){var i=e.menuSection;return(0,n.menuInclude)(i)},type:s},{name:"menuSectionSlideNumber",update:function(t,e,n){var i=e.menuSectionSlideNumber;return(0,n.menuCountInclude)(i)},type:s},{name:"menuTotalSections",update:function(){return A.menuTotalSections},type:s},{name:"projectSlideNumber",update:function(t,e,n){var i=e.slideNumberInProject;return(0,n.projectInclude)(i)},type:s},{name:"projectSlideTitle",update:function(t,e){return e.slide.title()},type:a},{name:"projectSlideReference",update:function(t,e,n){var i=e.slideNumberInScene;return n.sceneNumber+"."+i},type:a},{name:"projectTotalScenes",update:function(){return A.sceneCount},type:s},{name:"projectSceneNumber",update:function(t,e,n){var i=n.sceneNumber;return 0===i?"":i},type:s},{name:"sceneSlideNumber",update:function(t,e,n){var i=e.slideNumberInScene;return(0,n.projectInclude)(i)},type:s}];return{initialize:function(t,e,n){y=e.playerVars(),b=t,o(e,n),m.on(g.slide.HAS_MOUNTED,i),m.on(g.window.CLOSING,i),m.on(g.draw.RESET_COMPLETE,function(){return o(e,n)})},getPlayerVariables:function(){return w.map(function(t){var e=t.name,n=t.type;return{kind:"variable",name:e,type:n,value:n===s?0:"",resume:!1}})}}}.call(e,u,e,t))||(t.exports=n)},function(t,e,d){"use strict";var n;void 0===(n=function(t){var e,g=d(0),m=d(7),y=d(1),n=d(2),b=d(13),i=(d(15),d(5)),r=d(9),o=d(3),s=d(4),a=d(6),l=a.addWindowListener,u=a.addDocumentListener,c={sidebarOpen:!0,tryToSelect:function(t,e){var n=t.querySelector(e);return null==n&&r.throwError("tabFocusBox","invalid focus rule selector: ",e),n},focusRuleConfig:{VectorSlideObject:function(t){return c.tryToSelect(t,"svg g")},ImageSlideObject:function(t){return c.tryToSelect(t,"img")},VideoSlideObject:function(t){return c.tryToSelect(t,".video-slide-object")},ResourcesList:function(t){return t.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(e){"SlideObject"===e.displayName&&(e.props.model.forEachAncestor(function(t){"SlideObject"===y.getPath(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(t,"hidden",h),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",h)),(t.isSlideObject||t.isSlideLayer)&&e.listenTo(t,{hidden:h})}.bind(this)),e.listenTo(e.props.model,{hidden:h}))},show:function(t){null!=t&&(i.theme.isClassic||(this.handleSearch(t),this.sidebarOpen||this.isInSidebar(t),this.handleTopTabsDrop(t)),this.update(t),this.listenForHide(t),this.lastItemFocused=t)},handleTopTabsDrop:function(t){t&&t.el&&m.hasClass(t.el,"topmenu-item")&&null!=t.el.parentNode&&m.hasClass(t.el.parentNode,"top-tabs-drop")&&n.trigger(o.topTabs.OPEN_DROPDOWN,t)},handleSearch:function(t){"INPUT"===y.getPath(t,"tagName")&&m.hasClass(t,"search-input-element")&&n.trigger(o.search.SHOW)},isInSidebar:function(t){var e;null!=t.parentNode?e=t:null!=y.getPath(t,"el.parentNode")&&(e=t.el),null==e||!m.closest(e,function(t){return m.hasClass(t,"area-secondary")})||(n.trigger(o.sidebar.FORCE_OPEN),setTimeout(function(){this.update(t)}.bind(this),s.ANIMATION_DURATION))},updateLastFocusItem:function(){this.lastItemFocused&&this.update(this.lastItemFocused)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl||(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),m.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999})),this.borderEl},slideObjectShouldUseCss:function(t){return"TextInputSlideObject"===y.getPath(t,"refs.innard.displayName")||t.decorators&&null!=t.decorators.slideable||!i.theme.isClassic&&m.hasClass(t.el,"glossary-child")},domElShouldUseCss:function(t){return t.parentNode&&m.hasClass(t.parentNode,"search-clear")||m.hasClass(t,"lightbox-close-btn")||!i.theme.isClassic&&m.hasClass(t,"search-input-element")||m.closest(t,function(t){return m.hasClass(t,"lightbox")})},update:function(t){var e,n,i,r,o,s,a,l,u,c=this.getOrCreateBorder(),h=0,d=0,p={left:0,top:0},f=this.defaultOffsets,v=0;if(null!=t.displayName){if(h+=(f=this.focusOffsetConfig[t.displayName]||this.defaultOffsets).x,d+=f.y,this.slideObjectShouldUseCss(t))return void this.hide();e=t.el,a=null!=y.getPath(t,"refs.innard")?t.refs.innard.displayName:t.displayName,e=(this.focusRuleConfig[a]||g.identity)(e)}else{if(this.domElShouldUseCss(t))return void this.hide();e=t}i=e.getBoundingClientRect(),(r=m.isWithinSlide(e))?(p=(n=(s=b.windowManager.getCurrentWindow().getCurSlide()).el).getBoundingClientRect(),v=4,n.querySelector(".slide-top-container-main").appendChild(c)):((l=document.querySelector("#app-top-container")).appendChild(c),p=l.getBoundingClientRect()),0!==i.width&&0!==i.height?(o=2*v,(u=g.mapValues(this.constrainToSlide(r,s,{left:i.left-p.left+h-v,top:i.top-p.top+d-v,width:i.width+f.width+o,height:i.height+f.height+o}),y.pxify)).display="block",m.setStyles(c,u),this.isShown=!0):this.hide()},constrainToSlide:function(t,e,n){if(!t)return n;var i=e.props,r=e.props.winScale,o=i.model.get("width")*r,s=i.model.get("height")*r,a=n.left+n.width-o,l=n.top+n.height-s,u=n.left,c=n.top;return 0<a&&(n.width-=a-1.2),0<l&&(n.height-=l-1.2),u<0&&(n.width+=n.left,n.left=-1.2),c<0&&(n.height+=n.top,n.top=-1.2),n}},h=c.onAncestorHidden.bind(c);return i.theme.isClassic||(n.on(o.topbar.CLOSED_SIDEBAR,function(){c.sidebarOpen=!1}),n.on(o.topbar.OPENED_SIDEBAR,function(){c.sidebarOpen=!0}),u("mousedown",function(){clearTimeout(e),c.hide()}),l("resize",function(){clearTimeout(e),null!=c.borderEl&&(c.borderEl.style.display="none",e=setTimeout(function(){c.borderEl.style.display="block",c.updateLastFocusItem()},s.ANIMATION_DURATION))})),c}.call(e,d,e,t))||(t.exports=n)},function(t,e,tt){"use strict";var n,et=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(n=function(t){var p=tt(20),f=tt(1),h=tt(95),e=tt(2),n=tt(3),i=tt(61),s=(tt(0),tt(12)),v=tt(7),r=tt(10),o=tt(28),a=tt(101).createBackSpriteCanvas,l=tt(22),g=l.FOCUS_ON_TITLE,u=l.FOCUS_ON_BODY,c=l.FOCUS_ON_IMAGE,d=l.FOCUS_ON_VIDEO,m=l.FOCUS_ON_AUDIO,y=l.FOCUS_ON_NONE,b=tt(102),A=tt(103),w=tt(4).math,S=(w.TWO_PI,w.HALF_PI),E=tt(5).device.isMobile,T=tt(23),x=T.angle,_=T.angleDiff,C=(T.getPinchDistance,T.textureSettings),k=(T.backTextureSettings,T.isPanelBody),M=T.isPanelTitle,O=T.adjustVariable,P=(T.toScreenPosition,T.touchify),R=T.createBoundingBoxEl,I=T.isLeftClickOrTouch,L=T.isRightClick,D=tt(16),N=D.clickOrTouchEnd,H=D.downOrTouchStart,V=D.moveOrTouchMove,F=D.upOrTouchEnd,j=tt(21),B=j.formatMessage,U=j.getSpanStyle,W=j.crosshairsSvg,z=j.bottomUi,G=j.BOTTOM_UI_HEIGHT,q=j.modes,Y=tt(41),X=Y.freeNavigation,J=Y.guidedNavigtion,K=Y.navigation,$="",Q="crosshair";function Z(t){var d=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Z),this.onMarkerUpdated=function(t){null!=d.editorApi&&d.editorApi.onMarkerUpdated(t.getData())},this.onTransitionIn=function(){d.nudgeOnLoad&&(d.nudge(),d.model.setNudgedOnLoad())},this.onResize=function(){for(var t in d.sprites){d.sprites[t].userData.cssMarker.resize()}},this.renderSpriteBoundingBox=function(t,e){var n=e.scale.x*d.sceneRect.width/2,i=e.scale.y*d.sceneRect.height/2;d.spriteWidth=n,d.spriteHeight=i,Object.assign(d.boundingBox.style,{left:t.x-n/2+d.sceneRect.width/2+"px",top:t.y-i/2+d.sceneRect.height/2+"px",width:n+"px",height:i+"px"})},this.onBoxDown=function(t){if(null!=d.currMarker){var e=P(t,d),n=e.pageX,i=e.pageY,r=d.getBoxCenter(),o=r.cx,s=r.cy;d.handleData={isNonUniform:t.target.classList.contains("non-uniform"),dir:t.target.dataset.axis};var a=d.currMarker.scale.x,l=d.currMarker.scale.y,u=f.dist(n,i,o,s);d.scaleRatioX=a/u,d.scaleRatioY=l/u,document.addEventListener("mousemove",d.onBoxMove),document.addEventListener("mouseup",d.onBoxUp)}},this.onBoxMove=function(t){var e=P(t,d),n=e.pageX,i=e.pageY,r=d.getBoxCenter(),o=r.cx,s=r.cy,a=d.currMarker.userData.cssMarker,l=f.dist(n,i,o,s),u=void 0;if(d.handleData.isNonUniform)"x"===d.handleData.dir?(u=Math.max(50,l*d.scaleRatioX),a.scaleX(u)):"y"===d.handleData.dir&&(u=Math.max(50,l*d.scaleRatioY),a.scaleY(u));else if(d.currMarker.userData.cssMarker.isHotspot()){var c=Math.max(50,l*d.scaleRatioX),h=Math.max(50,l*d.scaleRatioY);a.scale(c,h)}else u=f.clamp(50,200,l*d.scaleRatioX),a.scale(u,u)},this.onBoxUp=function(t){d.handleData=null,document.removeEventListener("mousemove",d.onBoxMove),document.removeEventListener("mouseup",d.onBoxUp)},this.onSetInitialCamDone=function(){if(d.mode===q.SET_INITIAL_CAMERA_ANGLE){d.setCamUi.threeLatLonTextEl.innerHTML="<div>\n        "+d.localizedText.initialViewSet+"\n      </div>";var t=document.createElement("div");v.setStyles(t,{position:"absolute",width:"100%",height:"100%",left:0,top:0,background:"white",opacity:1}),d.el.appendChild(t),s.to(t,.3,{opacity:0,onComplete:function(){d.el.removeChild(t)}}),d.hideCrosshairUi(),d.initialLat=d.lat,d.initialLon=d.lon,null!=d.editorApi&&d.editorApi.onInitialCameraAngleSet(d.lat,d.lon),d.setMode(q.DEFAULT)}},this.goPrevGuided=function(){d.prevMarker=d.markersByIdx[d.guidedMarkerInView],d.nextMarker=d.markersByIdx[d.guidedMarkerInView-1],d.guidedMarkerInView--,d.nextMarker.downActiveState(),d.prevMarker.active=!1,d.hideShowGuidedArrows()},this.goNextGuided=function(){d.guidedMarkerInView++,d.prevMarker=d.markersByIdx[d.guidedMarkerInView-1],d.nextMarker=d.markersByIdx[d.guidedMarkerInView],d.nextMarker.downActiveState(),d.prevMarker.active=!1,d.hideShowGuidedArrows()},this.animate=function(t){var e=d.kpPanAnimation,n=Math.min(t-d.lastTimeStampMs,1/e);if(d.lastTimeStampMs=t,d.width==d.newWidth&&d.height==d.newHeight||d.changeSize(),d.panToCoord){if(d.phi+=e*(d.panCoord.phi-d.phi)*n,d.theta+=e*(d.panCoord.theta-d.theta)*n,d.lat=p.Math.radToDeg(S-d.phi),d.lon=p.Math.radToDeg(d.theta),Math.abs(d.phi-d.panCoord.phi)<.005&&Math.abs(d.theta-d.panCoord.theta)<.005){if(d.selectNextSprite&&setTimeout(function(){d.currMarker&&(d.displayBoundingBox(),d.showMarkerBounds(),d.boundingBox.style.display="block",d.selectNextSprite=!1)},300),null!=d.showNextSprite){var i=d.showNextSprite,r=i.userData.cssMarker.polyHotspot;i.userData.cssMarker.isHotspot()?(r.select(),d.hotspotLayer.currHotspot=r):i.userData.cssMarker.isHotspot()||(d.hotspotLayer.currHotspot=null),i.userData.cssMarker.panel&&d.mode!==q.SET_INITIAL_CAMERA_ANGLE&&(i.userData.cssMarker.panel.forcePlaceCenter=!0,window.requestAnimationFrame(function(){if(i.userData.cssMarker.isHotspot()){if(0!==d.markerShownCounter||d.editMode){d.calcSceneRect();var t=d.vecToScreenPosition(r.getCenterPoint(r.shapeMesh));i.userData.cssMarker.panel.show(!0,t)}else if(d.model.labelValues[i.userData.cssMarker.idx]){var e=d.vecToScreenPosition(r.getCenterPoint(r.shapeMesh));i.userData.cssMarker.panel.show(!0,e)}}else(0!==d.markerShownCounter||d.editMode||d.model.labelValues[i.userData.cssMarker.idx])&&i.userData.cssMarker.panel.show();i.userData.cssMarker.panel.hideSelectionBoxes(),d.markerShownCounter++})),d.isNavigationPan&&(window.requestAnimationFrame(function(){d.isFirstMarkerWithNoResume()||i.userData.cssMarker.setVisited()}),d.navigation.type===K.GUIDED&&0<d.markerShownCounter&&i.userData.cssMarker.triggerEvent("onlinkrelease",i.userData.id)),d.showNextSprite=null}d.isNavigationPan=!1}}else d.applyVelocity(),d.lat=Math.max(d.latMin,Math.min(d.latMax,d.lat)),d.phi=p.Math.degToRad(90-d.lat),d.theta=p.Math.degToRad(d.lon);d.targetX=d.radius*Math.sin(d.phi)*Math.cos(d.theta),d.targetY=d.radius*Math.cos(d.phi),d.targetZ=d.radius*Math.sin(d.phi)*Math.sin(d.theta),d.camera.target.set(d.targetX,d.targetY,d.targetZ),d.camera.lookAt(d.camera.target),d.renderer.render(d.scene,d.camera),d.cssRenderer.render(d.cssScene,d.camera),d.editMode&&(d.updateHotspotStrokes(),d.displayBoundingBox(),null!=d.currMarker&&d.showMarkerBounds(),d.mode===q.SET_INITIAL_CAMERA_ANGLE&&d.updateLatLonUi()),d.animateId=window.requestAnimationFrame(d.animate)},this.onMouseDown=function(t){d.contextMenuOrigin=null;var e=I(t),n=L(t);if(d.editMode){if(!e&&!n)return}else if(!e)return;d.calcSceneRect();var i=P(t,d),r=i.pageX,o=i.pageY,s=i.gesture;if(n&&d.editMode){if(d.hotspotLayer.getHotspotIntersection(r,o))return;return d.contextMenuOrigin={pageX:r,pageY:o},t.preventDefault(),void d.editorApi.onRightClick()}if(!s&&1==d.mobileZoom&&!d.allowSwiping&&!d.hotspotLayer.onMouseDown(t,r,o)){if(d.editMode&&d.mode===q.ADD_MARKER)return t.stopPropagation(),d.placeMarker(r,o,d.upcomingMarkerData.props,d.upcomingMarkerData.id),void t.preventDefault();d.panToCoord=!1,d.mode!=q.SET_INITIAL_CAMERA_ANGLE&&d.getMarkerIntersection(r,o,"over")?d.editMode&&(d.boundingBox.style.display="block",d.downOnMarker=!0):(null==d.hotspotLayer.draggableHotspot&&d.setCurrMarker(null),d.boundingBox.style.display="none",d.hideMarkerBounds(),d.isDragging=!0,d.forcingCameraTarget=!1,d.downX=r,d.downY=o,d.locX=r,d.locY=o,d.locXvel=0,d.locYvel=0,d.downLon=d.lon,d.downLat=d.lat,d.locDist=0,d.moveCounter=0)}},this.setupSuppressOnSelectionChange=function(){d.suppressOnSelectionChange+=1},this.teardownSuppressOnSelectionChange=function(){0<d.suppressOnSelectionChange&&--d.suppressOnSelectionChange},this.withOnSelectionChange=function(t){d.withoutOnSelectionChange(t),d.onSelectionChange()},this.withoutOnSelectionChange=function(t){d.setupSuppressOnSelectionChange(),t(),d.teardownSuppressOnSelectionChange()},this.onSelectionChange=function(){if(null!=d.editorApi&&0==d.suppressOnSelectionChange){var t=d.getCurrInputElement(),e=d.getCurrMediaElementType(),n=d.getIsMediaShowing(),i=void 0;if(null==t)i={isCollapsed:!0,isRightToLeft:!1,supportsParagraphs:!1,type:"none",mediaType:e,isMediaShowing:n,spanStyle:null};else{var r=document.getSelection();i={isCollapsed:r.isCollapsed,isRightToLeft:!1,supportsParagraphs:k(t),type:0<r.rangeCount?r.type.toLowerCase():"none",mediaType:e,isMediaShowing:n,spanStyle:0<r.rangeCount?U(t,r.getRangeAt(0)):null}}var o=JSON.stringify(i);d.lastSelectionChangedEventArgs!==o&&(d.editorApi.onSelectionChanged(i),d.lastSelectionChangedEventArgs=o)}},this.onMouseMove=function(t){var e=P(t,d),n=e.pageX,i=e.pageY;if(!(e.gesture||1!=d.mobileZoom||d.allowSwiping||(d.moveCounter++,d.hotspotLayer.onMouseMove(t,n,i),d.editMode&&d.hotspotLayer.isEditing())))if(d.canDragMarker())d.checkHideHotspotPanel(),d.dragMarker(n,i);else if(d.isDragging){d.prevLocX=d.locX,d.prevLocY=d.locY;var r=P(t,d),o=r.pageX,s=r.pageY;d.locX=o,d.locY=s,d.locDist=f.dist(d.locX,d.locY,d.prevLocX,d.prevLocY),d.locTheta=x(d.locX,d.locY,d.prevLocX,d.prevLocY),d.locXvel=d.locDist*Math.cos(d.locTheta),d.locYvel=d.locDist*Math.sin(d.locTheta),d.setLonLat(d.locX,d.locY)}else d.getMarkerIntersection(n,i,"move")},this.onMouseUp=function(t){var e=P(t,d),n=e.pageX,i=e.pageY;d.lastUpX=n,d.lastUpY=i,d.hotspotLayer.onMouseUp(t,n,i),d.hotspotReveal&&0===d.moveCounter&&"CANVAS"===t.target.tagName&&d.revealHotspotAnimation(),null!=d.pinch.currMatrix&&(d.pinch.scale=d.pinch.currMatrix.getScale().x-(1-.8),d.pinch.matrix=d.pinch.currMatrix),d.isDragging&&(d.isDragging=!1),d.downOnMarker&&(d.downOnMarker=!1,d.drag.started=!1,null!=d.currMarker&&(d.currMarker.userData.cssMarker.dragging=!1));d.getMarkerIntersection(n,i,"click")},this.model=t.model,this.el=t.el,this.cssEl=t.cssEl,this.overlaysEl=t.overlaysEl,this.editorApi=t.editorApi,this.suppressOnSelectionChange=0,this.markerShownCounter=0,this.mobileZoom=1,null!=this.editorApi&&this.setEditMode(!0),this.localizedText=t.localizedText||{},this.isDragging=!1,this.forcingCameraTarget=!1,this.newWidth=t.width,this.newHeight=t.height,this.origWidth=t.width,this.origHeight=t.height,this.nudgeOnLoad=t.nudgeOnLoad,this.downX=0,this.downY=0,this.downLon=0,this.downLat=0,this.lastTimeStampMs=performance.now(),this.kpPanAnimation=.008,this.lon=0,this.lat=0,this.phi=0,this.theta=0,this.radius=21,this.latMin=-89.8,this.latMax=89.5,this.oldIntersections={},this.drag={},this.sprites={},this.markersByIdx={},this.markerCount=0,this.initialLatOffset=0,this.assetManager=t.assetManager,this.slideObject=t.slideObject,this.overlaySvgEl=t.overlaySvgEl,this.miscOverlaysEl=t.miscOverlaysEl,this.editorBrandingColor=t.editorBrandingColor,this.setHotspotColor(t.hotspotColor),this.setHotspotReveal(t.hotspotReveal),this.pulseMarkers=t.pulseMarkers,this.navigation=t.navigation||{type:K.NONE,visible:!1},this.bind=t.bind,this.spherical=new p.Spherical,this.orientation=0,this.pinch={scale:1,matrix:new i},this.setupEditorMessages(),this.setMode(q.DEFAULT),this.setupScene(t),this.setupDom(t),this.setupBackSpriteTex(),this.setupVelocityToss(),this.setupRaycasting(),this.hotspotLayer=new A(this),this.setupMarkers(t.markerData),this.setMarkerPulse(t.pulseMarkers),this.setInitialCameraTarget(t.initialLat,t.initialLon),this.setupVars(),this.setupNavigation(),window.addEventListener("resize",this.onResize),null!=this.editorApi&&e.on(n.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated),this.ready()}return et(Z,[{key:"setInitialCameraTarget",value:function(t,e){this.editMode||!this.nudgeOnLoad?this.initialLat=t:(this.initialLatOffset=t-2>=this.latMin?-2:2,this.initialLat=t+this.initialLatOffset),this.initialLon=e,this.setCameraTarget(this.initialLat,this.initialLon)}},{key:"setupEditorMessages",value:function(){var t,e=this;this.editorMessages=(nt(t={updateText:function(t){return e.updateText(t)},updateMarker:function(t){return e.updateMarker(t)},updateMarkers:function(t){return e.updateMarkers(t)},removeMarker:function(t){return e.removeMarker(t.id)},forceRemoveMarker:function(t){return e.removeMarker(t.id,!0)},placeMarkerFromContextMenu:function(t){return e.placeMarkerFromContextMenu(t)},panToMarker:function(t){return e.panToMarker(t.id)},selectMarker:function(t){return e.selectMarker(t)},setFocus:function(t){return e.setFocus(t)},showMedia:function(){return e.showMedia()},hideMedia:function(){return e.hideMedia()},setEffects:function(t){return e.setEffect(t)},duplicateMarker:function(t){return e.duplicateMarker(t.sourceId,t.duplicatedMarkerData)},pasteMarker:function(t){return e.pasteMarker(t)},resetMode:function(){return e.setMode(q.DEFAULT)}},q.ADD_MARKER,function(t){e.setMode(q.ADD_MARKER),e.upcomingMarkerData=t}),nt(t,q.SET_INITIAL_CAMERA_ANGLE,function(t){return e.setMode(q.SET_INITIAL_CAMERA_ANGLE)}),nt(t,"saveInitialCameraAngle",function(){return e.onSetInitialCamDone()}),nt(t,q.SET_CROP_IMAGE_MEDIA,function(t){return e.setMode(q.SET_CROP_IMAGE_MEDIA)}),nt(t,"saveCropImageMedia",function(){return e.saveCropImageMedia()}),t)}},{key:"ready",value:function(){var t=this;window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){Object.values(t.sprites).forEach(function(t){null!=t&&t.userData.cssMarker.panoReady()})})})}},{key:"nudge",value:function(){var n=this;setTimeout(function(){n.spherical.setFromCartesianCoords(n.camera.target.x,n.camera.target.y,n.camera.target.z);var t=p.Math.radToDeg(S-n.phi);t+=-1*n.initialLatOffset,n.spherical.phi=p.Math.degToRad(90-t);var e=new p.Vector3;e.setFromSpherical(n.spherical),n.setPanToCoord(e)},250)}},{key:"setMarkerPulse",value:function(n){this.pulseMarkers=n,Object.values(this.sprites).forEach(function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()||e.adjust({props:{animation:n?"pulse":"normal"}})}})}},{key:"setupBackSpriteTex",value:function(){var e=this,t=a("none",this.maxAnisotropy),n=t.canvas,i=t.tex,r=t.mat;t.render,this.backSpriteTex={normal:function(){return{canvas:n,tex:i,mat:r}},pulse:function(){e.pulseAnimation||(e.pulseAnimation=a("pulse",e.maxAnisotropy));var t=e.pulseAnimation;return{canvas:t.canvas,tex:t.tex,mat:t.mat}},empty:function(){e.emptyTexture||(e.emptyTexture=a("empty",e.maxAnisotropy));var t=e.emptyTexture;return{canvas:t.canvas,tex:t.tex,mat:t.mat}}}}},{key:"getMarker",value:function(t){var e=this.sprites[t];if(null!=e)return e.userData.cssMarker}},{key:"removeMarker",value:function(t,e){var n=this.getMarker(t);if(null!=n){if(null!=n.polyHotspot&&n.polyHotspot.delete(e))return;n.remove(),this.boundingBox.style.display="none",this.cssScene.remove(n.object),this.scene.remove(n.sprite),this.scene.remove(n.backSprite),delete this.sprites[n.id],delete this.markersByIdx[n.idx],null!=this.editorApi&&this.editorApi.onMarkerRemoved(n.id)}}},{key:"getCurrInputElement",value:function(){var t=document.activeElement;return null!=t&&t!==document.body&&(k(t)||M(t))?t:null}},{key:"getCurrMediaElementType",value:function(){var t=this.currMarker;if(null==t)return y;var n=t.userData.cssMarker.panel;if(null==n)return y;function e(t){if(null!=t){var e=n.getSelectionBox(t);return null!=e&&e.shown}}return e(n.mediaImageEl)?c:e(n.mediaAudioEl)?m:e(n.mediaVideoPosterEl)?d:y}},{key:"getIsMediaShowing",value:function(){var t=this.currMarker;if(null==t)return!1;var e=t.userData.cssMarker.panel;return null!=e&&e.mediaShowing}},{key:"updateText",value:function(t){if(null!=this.getMarker(t.id)){var e=this.getCurrInputElement();null!=e&&this.withOnSelectionChange(function(){B(e,t)})}}},{key:"updateMarker",value:function(t){var e=this.getMarker(t.id);null!=e&&e.adjust(t)}},{key:"updateMarkers",value:function(t){for(var e in this.sprites)this.sprites[e].userData.cssMarker.adjustProps(t);null!=this.editorApi&&this.editorApi.onMarkersUpdated(this.getAllMarkerData())}},{key:"selectMarker",value:function(t){if(null!=this.currMarker){var e=this.currMarker.userData.cssMarker.panel;null!=e&&e.hide()}if(this.hideMarkerBounds(),null==t.id)this.selectNextSprite=!1,this.setCurrMarker(null);else{var n=this.getMarker(t.id);null!=n&&(this.selectNextSprite=!0,this.setCurrMarker(n.sprite),this.panToMarker(t.id))}}},{key:"setFocus",value:function(n){var i=this;null!=this.currMarker&&this.withOnSelectionChange(function(){var t=i.currMarker.userData.cssMarker.panel;if(null!=t){var e=n.focus;t.shown||e==y||(t.marker.isHotspot()?t.showHotspotPanel():t.show()),e===g?(t.showSelectionBox(t.titleEl,!0),t.titleEl.focus()):e===u?(t.showSelectionBox(t.bodyEl.parentNode,!0),t.bodyEl.focus()):e===c?t.showSelectionBox(t.mediaImageEl,!0):e===m?t.showSelectionBox(t.mediaAudioEl,!0):e===d?t.showSelectionBox(t.mediaVideoPosterEl,!0):t.hideSelectionBoxes()}})}},{key:"showMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.showMediaType(this.getCurrMediaElementType())}}},{key:"hideMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.hideAllMedia()}}},{key:"setEffect",value:function(t){null!=t.color&&this.setHotspotColor(t.color),null!=t.reveal&&this.setHotspotReveal(t.reveal),null!=t.pulseMarkers&&this.setMarkerPulse(t.pulseMarkers)}},{key:"editorMessage",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};this.editorMessages[t](n)}},{key:"setupDom",value:function(t){var e=this,n=t.width*t.scale,i=t.height*t.scale;this.renderer.setSize(n,i),this.renderer.domElement.style.pointerEvents="all",this.renderer.domElement.addEventListener(H,this.onMouseDown),this.cssRenderer.setSize(n,i),document.addEventListener(F,this.onMouseUp,!1),document.addEventListener(V,this.onMouseMove),this.el.appendChild(this.renderer.domElement),this.cssEl.appendChild(this.cssRenderer.domElement);var r=setInterval(function(){e.calcSceneRect(),0<e.sceneRect.width&&clearInterval(r)},16)}},{key:"toDomCoords",value:function(t,e){this.calcSceneRect();var n=t/window.innerWidth,i=e/window.innerHeight;return{x:n*this.sceneRect.width,y:i*this.sceneRect.height}}},{key:"toScreenPosition",value:function(t){var e=new p.Vector3;this.calcSceneRect();var n=this.sceneRect.width/2,i=this.sceneRect.height/2;return t.updateMatrixWorld(),e.setFromMatrixPosition(t.matrixWorld).project(this.camera),{x:e.x*n+n,y:-e.y*i+i}}},{key:"vecToScreenPosition",value:function(t){this.calcSceneRect();var e=this.sceneRect.width,n=this.sceneRect.height,i=t.clone().project(this.camera);return i.x=(i.x+1)/2,i.x*=e,i.y=-(i.y-1)/2,i.y*=n,i}},{key:"duplicateMarker",value:function(t,e){this.calcSceneRect();var n=this.sprites[t],i=this.toScreenPosition(n),r=this.scaleCoord(i.x,i.y),o=new p.Vector2(r.x,r.y);this.placeMarkerWithOffset(o,e)}},{key:"pasteMarker",value:function(t){this.calcSceneRect();var e=this.scaleCoord(this.sceneRect.width/2,this.sceneRect.height/2),n=new p.Vector2(e.x,e.y);this.placeMarkerWithOffset(n,t)}},{key:"placeMarkerWithOffset",value:function(t,e){for(var n=p.Math.degToRad(20),i=new p.Vector2(15*Math.cos(n),20*Math.sin(n)),r=.8*i.lengthSq();this.isScreenPositionNearbySprite(t,r);)t.add(i);this.placeMarker(t.x,t.y,e.props,e.id)}},{key:"isScreenPositionNearbySprite",value:function(t,e){for(var n in this.sprites){var i=this.sprites[n],r=this.toScreenPosition(i),o=this.scaleCoord(r.x,r.y);if(t.distanceToSquared(o)<e)return!0}return!1}},{key:"setHotspotColor",value:function(t){t=t||"#00ccff",this.hotspotColor=t,this.hotspotTransColor=f.rgbify(t,.4),this.hotspotMeshColor=f.rgbify(t),null!=this.hotspotLayer&&this.hotspotLayer.updateColors(),Object.values(this.sprites).forEach(function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.updateHotspotColor()}})}},{key:"setHotspotReveal",value:function(t){this.hotspotReveal=t}},{key:"revealHotspotAnimation",value:function(){var t=this;this.editMode||this.navigation.type===K.FREE&&(this.hotspotLayer.opacity=0,s.killTweensOf(this.hotspotLayer),s.to(this.hotspotLayer,.3,{opacity:1,ease:"power4.out",onComplete:function(){s.to(t.hotspotLayer,1.1,{opacity:0,delay:0,ease:"power4.out",onComplete:function(){t.revealingHotspotById=null}})}}))}},{key:"projection",value:function(e,t){if(null!=e){this.viewMatrix.copy(this.camera.matrixWorldInverse),this.viewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix,this.viewMatrix),this.renderData=this.projector.projectScene(this.scene,this.camera),this.elements=this.renderData.elements,this.normalViewMatrix.getNormalMatrix(this.camera.matrixWorldInverse),this.calcSceneRect();var n=this.elements.find(function(t){return t.object===e});if(null!=n){var i=n;i.x*=this.sceneRect.width/2,i.y*=-this.sceneRect.height/2,t(i,n)}}}},{key:"displayBoundingBox",value:function(){!this.currMarker||!f.getPath(this,"currMarker.userData.cssMarker")||"hotspot"===this.currMarker.userData.cssMarker.props.type&&f.getPath(this,"currMarker.userData.cssMarker.polyHotspot")||(this.currMarker.userData.cssMarker.isHotspot()?this.boundingBox.classList.add("hotspot-bb"):this.boundingBox.classList.remove("hotspot-bb"),this.boundingBox.style.display="block",this.projection(this.currMarker,this.renderSpriteBoundingBox))}},{key:"displayBoundingBoxOnMarker",value:function(t){this.projection(t.sprite,this.renderSpriteBoundingBox)}},{key:"setupProjector",value:function(){this.projector=new p.Projector,this.viewMatrix=new p.Matrix4,this.viewProjectionMatrix=new p.Matrix4,this.normalViewMatrix=new p.Matrix3}},{key:"getBoxCenter",value:function(){var t=this.boundingBox,e=this.scaleCoord(parseFloat(t.style.left),parseFloat(t.style.top)),n=this.scaleCoord(parseFloat(t.style.width),parseFloat(t.style.height));return{cx:e.x+n.x/2,cy:e.y+n.y/2}}},{key:"setupScene",value:function(t){this.setupProjector(),this.scene=new p.Scene,this.cssScene=new p.Scene,this.camera=new p.PerspectiveCamera(75,t.width/t.height,1,5e3),this.camera.layers.enable(1),this.camera.zoom=.8,this.camera.updateProjectionMatrix(),this.camera.target=new p.Vector3(0,0,0),this.renderer=new p.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio||2),this.cssRenderer=new p.CSS3DRenderer,this.maxAnisotropy=this.renderer.capabilities.getMaxAnisotropy();var e=E?50:64;this.sphere=new p.SphereBufferGeometry(1e3,e,e),this.sphere.scale(-1,1,1),this.sphere.rotateY(S),null!=t.croppedHeight?this.croppedTextureSphere(t):this.createSphere(t.dataUri),this.overlaysEl.classList.add("three-sixty-overlay"),this.createBoundingBox()}},{key:"createBoundingBox",value:function(){this.boundingBox=R(),this.overlaysEl.appendChild(this.boundingBox),this.boundingBox.addEventListener("mousedown",this.onBoxDown)}},{key:"croppedTextureSphere",value:function(r){var o=this,s=new Image;s.src=r.dataUri,s.addEventListener("load",function t(){var e=s.width/r.croppedWidth,n=document.createElement("canvas"),i=n.getContext("2d");n.width=r.fullWidth*e,n.height=r.fullHeight*e,i.fillStyle="black",i.fillRect(0,0,n.width,n.height),i.drawImage(s,r.croppedX*e,r.croppedY*e),o.createSphere(n.toDataURL()),s.removeEventListener("load",t)})}},{key:"createSphere",value:function(t){var e=new p.MeshBasicMaterial;e.depthTest=!1;var n=(new p.TextureLoader).load(t);n.anisotropy=this.maxAnisotropy,e.map=n,this.sphereMesh=new p.Mesh(this.sphere,e),this.scene.add(this.sphereMesh)}},{key:"calcSceneRect",value:function(){this.sceneRect=this.renderer.domElement.getBoundingClientRect(),this.sceneScale=this.newWidth/this.origWidth}},{key:"scaleCoord",value:function(t,e){return{x:t*=window.innerWidth/this.sceneRect.width,y:e*=window.innerHeight/this.sceneRect.height}}},{key:"setEditMode",value:function(t){this.editMode=t,e.trigger(n.threeSixtyImage.EDIT_MODE_CHANGED),this.editMode?(document.addEventListener("focusin",this.onSelectionChange),document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("focusout",this.onSelectionChange)):(document.removeEventListener("focusin",this.onSelectionChange),document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("focusout",this.onSelectionChange))}},{key:"setMode",value:function(t){this.mode!==t&&(this.mode===q.SET_INITIAL_CAMERA_ANGLE?this.cancelSetInitialCam():this.mode===q.SET_CROP_IMAGE_MEDIA&&this.cancelCropImageMedia(!1),(this.mode=t)===q.DEFAULT?(this.el.style.cursor=$,null!=this.hotspotLayer&&this.hotspotLayer.deleteUnfinishedHotspot()):t===q.ADD_MARKER?this.el.style.cursor=Q:t===q.SET_INITIAL_CAMERA_ANGLE?this.setInitialCameraAngle():t===q.SET_CROP_IMAGE_MEDIA&&this.setCropImageMedia())}},{key:"setupRaycasting",value:function(){this.raycaster=new p.Raycaster,this.mouseRay=new p.Vector2}},{key:"getBackSpriteMaterial",value:function(t,e){this.editMode||null!=e&&e.isVisited?t.animation="normal":this.pulseMarkers&&(t.animation="pulse");var n="hotspot"===t.type?"empty":t.animation;return this.backSpriteTex[n||"normal"]().mat}},{key:"initSprite",value:function(t,e){var n,i,r,o=void 0,s=void 0,a=void 0;return n=(o=document.createElement("canvas")).getContext("2d"),o.width=512,o.height=512,i=new p.CanvasTexture(o),r=new p.SpriteMaterial({map:i}),C(i,r,this.maxAnisotropy),(s=new p.Sprite(r)).material.opacity=1,s.renderOrder=10,(a=new p.Sprite(this.getBackSpriteMaterial(e))).renderOrder=1,a.dynamic=!0,a.userData.isBackSprite=!0,a.position.normalize(),a.scale.set(50,50,1),a.position.copy(t),{sprite:s,canvas:o,ctx:n,tex:i,mat:r,backSprite:a}}},{key:"createSprite",value:function(t,e,n){var i=this,r=this.initSprite(t,n),o=r.sprite,s=r.canvas,a=r.ctx,l=r.tex,u=(r.mat,r.backSprite);o.position.normalize(),o.scale.set(50,50,1),o.position.copy(t),o.userData.backSprite=u,this.scene.add(o),window.requestAnimationFrame(function(){return i.scene.add(u)});var c=new h({pano:this,loc:t,sprite:o,id:e,idx:this.markerCount++,canvas:s,backSprite:u,ctx:a,tex:l,props:DS._.merge({type:"normal"},n||{})});return o.userData.cssMarker=c,{sprite:this.sprites[e]=o,marker:this.markersByIdx[c.idx]=c}}},{key:"setupMarkers",value:function(t){var r=this;null!=t&&t.forEach(function(t){var e=new p.Vector3(t.xPos,t.yPos,t.zPos),n=r.createSprite(e,t.id,t.props).sprite;if(n.userData.id=t.id,"hotspot"===t.props.type)if(n.userData.cssMarker.hide(),n.userData.cssMarker.el.style.display="none",null!=t.props.hotspotData){var i=t.props.hotspotData;r.hotspotLayer.createHotspot(i,n.userData.cssMarker)}else r.hotspotLayer.createHotspotAtPoint(e,n.userData.cssMarker);"normal"===t.props.type&&r.makeMarkerSwitchable(n.userData.cssMarker,e)})}},{key:"setupVelocityToss",value:function(){this.locX=0,this.locY=0,this.prevLocX=0,this.prevLocY=0,this.locXvel=0,this.locYvel=0,this.enableVelocityDamping()}},{key:"enableVelocityDamping",value:function(){this.velDamp=.95}},{key:"disableVelocityDamping",value:function(){this.velDamp=0}},{key:"setLonLat",value:function(t,e){this.lon=.1*(this.downX-t)+this.downLon,this.lat=.1*(e-this.downY)+this.downLat}},{key:"stopVelocity",value:function(){this.locYvel=this.locXvel=0}},{key:"applyVelocity",value:function(){this.isDragging||this.forcingCameraTarget||this.downOnMarker||(this.locX+=this.locXvel,this.locY+=this.locYvel,this.locXvel*=this.velDamp,this.locYvel*=this.velDamp,this.setLonLat(this.locX,this.locY))}},{key:"destroy",value:function(){Object.values(this.sprites).forEach(function(t){null!=t&&t.userData.cssMarker.remove()}),this.el.removeChild(this.renderer.domElement),this.killAnimation(),window.removeEventListener("resize",this.onResize),null!=this.editorApi&&e.off(n.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated)}},{key:"killAnimation",value:function(){window.cancelAnimationFrame(this.animateId)}},{key:"changeSize",value:function(){this.camera.aspect=this.newWidth/this.newHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.newWidth,this.newHeight),this.cssRenderer.setSize(this.newWidth,this.newHeight),this.width=this.newWidth,this.height=this.newHeight}},{key:"updateLatLonUi",value:function(){var t=Math.round(this.lat),e=f.normalizeDeg(Math.round(this.lon));this.setCamUi.threeLatLonTextEl.innerHTML="<div>\n      "+this.localizedText.initialView+" "+t+"&#176;, "+e+"&#176;\n      </div>"}},{key:"resetCropImageMedia",value:function(){this.cancelCropImageMedia(!1),this.setCropImageMedia(!0)}},{key:"cancelCropImageMedia",value:function(t){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null),this.cropToolShown=!1,this.bottomCropUiEl.style.display="none";var e=this.currMarker.userData.cssMarker.panel;null!=e&&e.cancelCrop(),null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),t&&(this.setMode(q.DEFAULT),null!=this.editorApi&&this.editorApi.onCancelImageMediaCrop())}},{key:"saveCropImageMedia",value:function(){if(this.cropToolShown){var t=this.cropTool.getCropRect();t.markerId=this.currMarker.userData.cssMarker.id,this.currMarker.userData.cssMarker.panel.saveCrop(t),this.cancelCropImageMedia(!1),null!=this.editorApi&&this.editorApi.onImageMediaCrop(t)}}},{key:"setCropImageMedia",value:function(t){var e=this,n=0<arguments.length&&void 0!==t&&t;if(!this.cropToolShown){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null);var i=this.currMarker.userData.cssMarker.panel,r=i.prepCrop(),o=n?null:i.marker.getEditorVar("imageMediaCropRectangle");if(this.cropTool=new b(".panel-image-container"),this.cropTool.show(),null!=o&&this.cropTool.setCropRect(o),this.cropToolShown=!0,!this.bottomCropUiEl){var s=this.localizedText,a=s.cropReset,l=s.cropCancel,u=s.cropDone;this.bottomCropUiEl=document.createElement("div"),this.bottomCropUiEl.innerHTML=z({reset:a,cancel:l,done:u}),this.bottomCropUiEl=this.bottomCropUiEl.firstElementChild,this.bottomCropUiEl.style.zIndex=1e4,this.setCropUiBottom={},v.selectAllByRef(this.setCropUiBottom,this.bottomCropUiEl);var c=document.querySelector("#wrapper");null!=c&&c.appendChild(this.bottomCropUiEl),this.setCropUiBottom.threeBottomUiResetEl.addEventListener("click",function(){e.resetCropImageMedia()}),this.setCropUiBottom.threeBottomUiDoneEl.addEventListener("click",function(){e.saveCropImageMedia(),e.setMode(q.DEFAULT)}),this.setCropUiBottom.threeBottomUiCancelEl.addEventListener("click",function(){e.cancelCropImageMedia(!0)})}null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),r(),this.bottomCropUiEl.style.display="block",this.updateSize(this.newWidth,this.newHeight),this.positionCropUi()}}},{key:"hideCrosshairUi",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:.2,i=1<arguments.length&&void 0!==e?e:.8;null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),s.to(this.setCamUi.threeCrosshairsEl,n,{opacity:0}),this.bottomCamUiEl.style.display="none",s.to(this.setCamUi.threeLatLonPillEl,n,{opacity:0,delay:i}),this.el.parentNode.classList.remove("three-setting-intial-camera"),this.enableVelocityDamping()}},{key:"cancelSetInitialCam",value:function(){this.hideCrosshairUi(0,0)}},{key:"setupVars",value:function(){this.bind,null!=this.bind&&null!=this.navigation&&(this.vars={visitedPath:this.bind.visited,total:r.resolvePath(this.bind.total),visited:r.resolvePath(this.bind.visited)})}},{key:"hasNavigationVars",value:function(){return null!=this.bind&&null!=this.vars&&null!=this.vars.visitedPath&&null!=this.vars.total&&null!=this.vars.visited}},{key:"resumeVisitedMarkers",value:function(){for(var t=this.model.indexValues,e=this.model.labelValues,n=0;n<t.length;n++){var i=t[n];this.markersByIdx[i]&&this.markersByIdx[i].resumeVisited(e[i])}}},{key:"resumeNudgeOnLoad",value:function(){this.nudgeOnLoad=!this.model.nudgedOnLoad}},{key:"getNavigationText",value:function(){if(!1!==this.navigation.visible&&this.navigation.type!==K.NONE){var t=this.navigation.itemText||o.getString("three_image_item"),e=this.navigation.itemsText||o.getString("three_image_items"),n=this.navigation.viewedText||o.getString("three_image_viewed"),i=this.navigation.ofText||o.getString("three_image_of"),r=this.vars.total.value();if(this.navigation.type===K.FREE)return 0!==this.visitedMarkers?this.visitedMarkers+" "+i+" "+r+" "+n:r+" "+(1!==r?e:t);if(this.navigation.type===K.GUIDED)return Math.min(this.guidedMarkerInView+1,r)+" "+i+" "+r}}},{key:"updateNavigationText",value:function(){null!=this.navUi&&(this.navUi.threeNavContentEl.innerHTML=this.getNavigationText())}},{key:"setupNavigation",value:function(){this.hasNavigationVars()&&(O(this.bind.total,Object.keys(this.sprites).length,this),this.navigation.type===K.FREE&&!0===this.navigation.visible?(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.navigationEl.innerHTML=X(this.navigation.textColor,this.navigation.backgroundColor),this.navUi={},v.selectAllByRef(this.navUi,this.navigationEl),this.updateNavigationText())):this.navigation.type===K.GUIDED&&(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.setupGuidedUi(),this.goFirstGuidedMarker(),this.updateNavigationText())))}},{key:"visitedMarkersChanged",value:function(){this.navigation.type===K.GUIDED&&this.updateGuidedArrows()}},{key:"setupGuidedUi",value:function(){!0===this.navigation.visible&&(this.navigationEl.innerHTML=J(this.navigation.textColor,this.navigation.backgroundColor,this.editorBrandingColor||"#047EB3"),this.navUi={},v.selectAllByRef(this.navUi,this.navigationEl),s.from(this.navUi.threeNavigationEl,.4,{opacity:0,delay:.4}),this.navUi.threeGuidedLeftBtnEl.addEventListener(N,this.goPrevGuided),this.navUi.threeGuidedRightBtnEl.addEventListener(N,this.goNextGuided)),Object.values(this.markersByIdx).forEach(function(t){t.hide()})}},{key:"goFirstGuidedMarker",value:function(){var e=this;this.slideObject.afterHtmlReady(function(){if(e.navigation.type===K.GUIDED){var t=e.markersByIdx[e.guidedMarkerInView];null!=t&&(e.isNavigationPan=!0,t.show(),t.isHotspot()&&(t.polyHotspot.visible=e.hotspotReveal,t.polyHotspot.canClick=!0),e.panToMarker(t.id),e.updateGuidedArrows(),e.updateNavigationText())}})}},{key:"isFirstMarkerWithNoResume",value:function(){return 0===this.guidedMarkerInView&&0===this.model.indexValues.length}},{key:"updateGuidedArrows",value:function(){if(null!=this.navUi){if(this.isFirstMarkerWithNoResume())return this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),void this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled");-1!=this.model.indexValues.indexOf(this.guidedMarkerInView)&&this.guidedMarkerInView<this.vars.total.value()-1?this.navUi.threeGuidedRightBtnEl.classList.remove("three-guided-disabled"):this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),0<this.guidedMarkerInView?this.navUi.threeGuidedLeftBtnEl.classList.remove("three-guided-disabled"):this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled")}}},{key:"hideShowGuidedArrows",value:function(){null!=this.prevMarker&&(this.prevMarker.hide(),null!=this.prevMarker.panel&&(this.model.updateLabelState(this.prevMarker.idx,this.prevMarker.panel.shown),this.model.setVisitedMarkers()),this.prevMarker.isHotspot()&&(this.prevMarker.polyHotspot.visible=!1,this.prevMarker.polyHotspot.canClick=!1)),null!=this.nextMarker&&(this.nextMarker.show(),this.nextMarker.isHotspot()&&(this.nextMarker.polyHotspot.visible=this.hotspotReveal,this.nextMarker.polyHotspot.canClick=!0),this.isNavigationPan=!0,this.panToMarker(this.nextMarker.id)),this.updateNavigationText(),this.updateGuidedArrows()}},{key:"positionInitialCamUi",value:function(){if(this.mode===q.SET_INITIAL_CAMERA_ANGLE){var t=document.querySelector("#container");if(null!=t){var e=t.getBoundingClientRect();this.bottomCamUiEl.style.top=e.bottom+"px",this.bottomCamUiEl.style.left=e.left+"px",this.bottomCamUiEl.style.width=e.width+"px"}}}},{key:"positionCropUi",value:function(){if(this.mode===q.SET_CROP_IMAGE_MEDIA){var t=document.querySelector(".panel-image-frame");if(null!=t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top,bottom:e.bottom,width:e.width};if(n.width<410){var i=((n.width=410)-e.width)/2;n.left=e.left-i}this.bottomCropUiEl.style.top=n.bottom+"px",this.bottomCropUiEl.style.left=n.left+"px",this.bottomCropUiEl.style.width=n.width+"px"}}}},{key:"setInitialCameraAngle",value:function(){var t=this;if(this.deselectMarker(),this.el.parentNode.classList.add("three-setting-intial-camera"),this.disableVelocityDamping(),this.panToCoord=!1,this.setCameraTarget(this.initialLat,this.initialLon),Object.values(this.sprites).forEach(function(t){if(null!=t){var e=t.userData.cssMarker;null!=e.panel&&e.panel.shown&&e.panel.hide()}}),null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),this.crossHairsEl)this.crossHairsEl.style.display="block",this.setCamUi.threeCrosshairsEl.style.opacity=1,this.setCamUi.threeLatLonPillEl.style.opacity=1,this.bottomCamUiEl.style.display="block";else{this.bottomCamUiEl=document.createElement("div");var e=this.localizedText,n=e.initialCameraReset,i=e.initialCameraCancel,r=e.initialCameraDone;this.bottomCamUiEl.innerHTML=z({reset:n,cancel:i,done:r}),this.bottomCamUiEl=this.bottomCamUiEl.firstElementChild,this.setCamUiBottom={},v.selectAllByRef(this.setCamUiBottom,this.bottomCamUiEl);var o=document.querySelector("#wrapper");null!=o&&o.appendChild(this.bottomCamUiEl),this.crossHairsEl=document.querySelector(".three-misc-overlays"),null!=this.crossHairsEl&&(this.crossHairsEl.innerHTML=W()),this.setCamUi={},v.selectAllByRef(this.setCamUi,this.crossHairsEl),this.setCamUiBottom.threeBottomUiDoneEl.addEventListener("click",this.onSetInitialCamDone),this.setCamUiBottom.threeBottomUiResetEl.addEventListener("click",function(){t.panToCoord=!1,t.deselectMarker(),t.setCameraTarget(0,0)}),this.setCamUiBottom.threeBottomUiCancelEl.addEventListener("click",function(){null!=t.editorApi&&null!=t.editorApi.onCancelInitialCameraAngleSet&&t.editorApi.onCancelInitialCameraAngleSet(),t.setMode(q.DEFAULT)})}this.positionInitialCamUi(),this.updateSize(this.newWidth,this.newHeight),s.from(this.setCamUi.threeCrosshairsEl,.2,{opacity:0})}},{key:"updateHotspotStrokes",value:function(){(.005<Math.abs(this.locXvel)||.005<Math.abs(this.locYvel))&&Object.values(this.sprites).forEach(function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.displayBounds()}})}},{key:"showMarkerBounds",value:function(){var t=this.currMarker.userData.cssMarker.displayBounds();t!=this.currMarkerBounds&&(this.hideMarkerBounds(),this.currMarkerBounds=t)}},{key:"hideMarkerBounds",value:function(){null!=this.currMarkerBounds&&(this.currMarkerBounds.hideShowControlPoints(!1),this.currMarkerBounds.isHotspot()||(this.currMarkerBounds.boundsEl.style.display="none"),this.currMarkerBounds=null)}},{key:"triggerEvent",value:function(t,e){this.model.executeFilteredPlayerEvent(function(t){return t.triggerid===e},t)}},{key:"executeMarkerEvent",value:function(t,e){"click"===e?this.triggerEvent("onlinkrelease",t.userData.id):"move"!==e||t.userData.isOver?"out"===e&&(t.userData.isOver=!1):t.userData.isOver=!0}},{key:"getMarkerIntersection",value:function(t,e,n){var i=this,r=!1;this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=2*-(e/window.innerHeight)+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var o=this.scene.children.filter(function(t){return"Sprite"===t.type&&!t.userData.isBackSprite&&!t.userData.isHotspotControlPoint}),s=this.raycaster.intersectObjects(o),a={};return s.forEach(function(t){r=!0,a[t.object.userData.id]=t.object,"over"===n&&i.setCurrMarker(t.object)}),r}},{key:"deselectMarker",value:function(){this.setCurrMarker(null),this.boundingBox.style.display="none",this.hideMarkerBounds(),this.forcingCameraTarget=!1}},{key:"setCurrMarker",value:function(t){null!=this.hotspotLayer.currHotspot&&!this.hotspotLayer.currHotspot.finished||(this.currMarker=t,this.editMode&&null!=this.editorApi&&this.editorApi.onMarkerSelected(null!=this.currMarker?this.currMarker.userData.cssMarker.id:null))}},{key:"panToMarker",value:function(t){var e=this.sprites[t];if(null!=e){if(this.hotspotLayer.currHotspot=e.userData.cssMarker.polyHotspot,this.isNavigationPan&&!this.hotspotReveal&&e.userData.cssMarker.isHotspot())return void(e.userData.cssMarker.el.style.opacity=0);this.setPanToCoord(e.position),this.showNextSprite=e}}},{key:"setPanToCoord",value:function(t){this.spherical.setFromCartesianCoords(t.x,t.y,t.z),this.panCoord=this.spherical;var e=S-this.panCoord.theta,n=_(this.theta,e);this.panCoord.theta=this.theta+n,this.panToCoord=!0}},{key:"getMarkerData",value:function(t){var e=this.getMarker(t);if(null!=e)return e.getData()}},{key:"getAllMarkerData",value:function(t){var e=[];for(var n in this.sprites){var i=this.sprites[n].userData.cssMarker;null!=t&&!t.includes(i.id)||e.push(i.getData())}return e}},{key:"mouseIntersect",value:function(t,e){return this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=2*-(e/window.innerHeight)+1,this.raycaster.setFromCamera(this.mouseRay,this.camera),this.raycaster.intersectObject(this.sphereMesh)}},{key:"placeMarkerFromContextMenu",value:function(t){null!=this.contextMenuOrigin&&this.placeMarker(this.contextMenuOrigin.pageX,this.contextMenuOrigin.pageY,t.props,t.id)}},{key:"placeMarker",value:function(t,e,n,i){var r=this,o=2<arguments.length&&void 0!==n?n:{},s=i,a=this.mouseIntersect(t,e),l=void 0,u=void 0;if(0<a.length){var c=a[0].point;c.lerp(new p.Vector3(0,0,0),.05);var h=function(){null!=r.editorApi&&r.editorApi.onMarkerPlaced(l.marker.getData())};(u=(l=this.createSprite(c,s,o)).marker.isHotspot())?(l.marker.hide(),l.marker.el.style.display="none",null==l.marker.props.hotspotData?(this.setMode(q.DRAWING_HOTSPOT),this.hotspotLayer.beginHotspot(c,l.marker,h)):(this.hotspotLayer.createHotspot(l.marker.props.hotspotData,l.marker).drag(c),h())):(h(),this.makeMarkerSwitchable(l.marker,c)),this.stopVelocity(),this.hideMarkerBounds(),this.setCurrMarker(l.sprite);var d=l.sprite.userData.cssMarker.panel;null==d||u||(d.show(),this.setFocus({focus:g}))}u||this.setMode(q.DEFAULT)}},{key:"makeMarkerSwitchable",value:function(t,e){this.editMode&&"normal"===t.props.type&&(this.hotspotLayer.createHotspotAtPoint(e,t),t.polyHotspot.visible=!1)}},{key:"dragMarker",value:function(t,e){this.boundingBox.style.display="block",this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=2*-(e/window.innerHeight)+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var n=this.raycaster.intersectObject(this.sphereMesh);if(0<n.length){var i=n[0].point;i.lerp(new p.Vector3(0,0,0),.05),this.drag.started||(this.drag.startX=i.x-this.currMarker.position.x,this.drag.startY=i.y-this.currMarker.position.y,this.drag.startZ=i.z-this.currMarker.position.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(i.set(i.x-this.drag.startX,i.y-this.drag.startY,i.z-this.drag.startZ),this.drag.count++),this.currMarker.position.copy(i);var r=this.currMarker.userData.cssMarker;r.updateLoc(i),null!=r.polyHotspot&&r.polyHotspot.drag(i,!0)}}},{key:"canDragMarker",value:function(){return this.editMode&&this.downOnMarker&&null!=this.currMarker&&this.mode!=q.SET_INITIAL_CAMERA_ANGLE}},{key:"checkHideHotspotPanel",value:function(){if(this.drag.started&&4<this.drag.count){var t=this.currMarker.userData.cssMarker;t.isHotspot()&&t.panel.shown&&t.panel.hide(!0)}}},{key:"updateSize",value:function(t,e){var n=this;if(this.mode===q.SET_INITIAL_CAMERA_ANGLE||this.mode===q.SET_CROP_IMAGE_MEDIA){var i=(e-G)/e;t*=i,e*=i,window.ResizeContainer(t,e),document.getElementById("container").scrollIntoView({inline:"center",block:"center"}),this.calcSceneRect()}if(this.positionInitialCamUi(),this.positionCropUi(),clearTimeout(this.uiPositionId),this.uiPositionId=setTimeout(function(){n.positionInitialCamUi(),n.positionCropUi()},100),this.newWidth=t,this.newHeight=e,null!=this.currMarker){var r=this.currMarker.userData.cssMarker;if(null!=r.panel&&r.panel.shown){var o=r.isHotspot();window.requestAnimationFrame(function(){return r.panel.update(o)})}}}},{key:"setCameraTarget",value:function(t,e){this.forcingCameraTarget=!0,this.lat=t||0,this.lon=e||0}},{key:"visitedMarkers",set:function(t){this.vars&&(O(this.vars.visitedPath,t,this),this.updateNavigationText())},get:function(){if(this.vars)return r.resolvePath(this.vars.visitedPath).value()}},{key:"guidedMarkerInView",set:function(t){this.model.prop("MarkerInView",t)},get:function(){return this.model.prop("MarkerInView")}}]),Z}.call(e,tt,e,t))||(t.exports=n)},function(t,e,P){"use strict";var n,R=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(n=function(t){var n=P(0),i=P(20),d=P(60),r=P(12),p=(P(7),P(2)),f=P(3),e=P(39),w=e.imgBufferCtx,S=e.imgBuffer,o=e.svgHtmlIcon,u=e.svgImageIcon,s=(e.convertDeprecatedIconToBase64,e.unpackHex),E=e.packRgb,T=e.easeColor,a=(e.setColor,e.overlayColor),l=P(23),v=l.touchify,g=(l.isRightclick,l.isLeftClickOrTouch),c=P(16),h=c.enterOrTouchStart,m=c.leaveOrTouchEnd,y=(c.clickOrTouchEnd,c.downOrTouchStart),b=c.moveOrTouchMove,A=c.upOrTouchEnd,x=P(5).device.isMobile,_=P(4).math.TWO_PI,C='url("Move.cur"), auto',k=document.createElement("div");k.classList.add("offscreen");var M="data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjI1NiIgaGVpZ2h0PSIyNTYiIGNsYXNzPSJpY29uIj48ZyBzdHJva2U9Im5vbmUiIGZpbGw9ImJsYWNrIiAvPjwvc3ZnPg==";function O(t){var r=this,e=t.pano,n=t.loc,i=t.sprite,o=t.backSprite,s=t.id,a=t.idx,l=t.canvas,u=t.ctx,c=t.tex,h=t.props;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,O),this.onEditMode=function(t){r.editMode=r.pano.editMode,r.editableMarker(),r.setupPanel(),r.editableLabel(),r.editableTooltip(),r.editableHotspot()},this.onEditLabel=function(){var t=50+(0<r.labelText.clientWidth?35+r.labelText.clientWidth:0);r.bg.style.width=t+"px",r.props.label.width=t},this.onMouseEnter=function(){r.pano.editMode||(r.mouseOver=!0,r.setState("over"),r.enterAnimation(),r.enterToolTip(),r.enterLabel())},this.onMouseLeave=function(){r.pano.editMode||(r.mouseOver=!1,r.setState("normal"),r.leaveAnimation(),r.leaveToolTip(),r.leaveLabel())},this.onReleaseOutsideLabel=function(t){r.el.contains(t.target)||r.props.hasPanel&&r.panel.el.contains(t.target)||(r.hideLabel(),r.disableActive(),document.removeEventListener(y,r.onReleaseOutside))},this.onMouseDown=function(t){if(r.sprite.visible&&g(t)){var e=v(t,r.pano),n=e.pageX,i=e.pageY;e.gesture;r.lastX=n,r.lastY=i,r.pano.editMode&&(r.dragging=!0,r.isHotspot()||null==r.pano.hotspotLayer.currHotspot||(r.pano.hotspotLayer.currHotspot=null)),d.hideLast(r.panel),r.downPano(),r.downActiveState(),r.downShowHidePanel(),r.downEditMode(),r.downLabel(),r.hideToolTip(),r.setVisited(),r.freeHotspotFlash()}},this.onMouseMove=function(t){if(r.sprite.visible){var e=v(t,r.pano),n=e.pageX,i=e.pageY;e.gesture;r.lastX=n,r.lastY=i}},this.onMouseUp=function(){r.sprite.visible&&(null!=r.panel&&!r.panel.shown||r.triggerEvent("onlinkrelease",r.sprite.userData.id))},this.editMode=e.editMode,this.pano=e,this.sprite=i,this.backSprite=o,this.id=s,this.idx=a,this.canvas=l,this.ctx=u,this.tex=c,this.createDefaults(h),this.setProperties(h),this.setupPanel(),this.createGraphics(),this.createSprite(n),p.on(f.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode)}return R(O,[{key:"drawSprite",value:function(t,f,v,g,e){var m=this;"none"===g&&(g="transparent"),"none"===v&&(v="transparent"),"none"===f&&(f="transparent"),f=s(f),v=s(v),g=s(g),e=s(e);var y=this.canvas.width/2,b=this.canvas.height/2,A=this.canvas.width/2-22;window.cancelAnimationFrame(this.renderId),t(function(h){var d=m.ctx,p=m.canvas;m.initialColorsSet&&m.texStyle||(m.texStyle={bgFill:f,bgStroke:v,iconStroke:g,iconFill:e},m.initialColorsSet=!0),function t(){d.globalCompositeOperation="source-over",d.clearRect(0,0,p.width,p.height);var e=T(m.texStyle.bgFill,f),n=T(m.texStyle.bgStroke,v),i=T(m.texStyle.iconStroke,g),r=e&&n&&i;d.fillStyle=E(m.texStyle.bgFill),d.strokeStyle=E(m.texStyle.bgStroke),d.lineWidth=30,d.beginPath(),d.arc(y,b,A,0,_,!1),d.fill(),d.shadowColor="transparent",d.stroke();var o=w;o.globalCompositeOperation="source-over",o.fillStyle="black",o.fillRect(0,0,p.width,p.height),o.globalCompositeOperation="source-in",o.drawImage(h,0,0),o.fillStyle=E(m.texStyle.iconStroke),o.fillRect(0,0,p.width,p.height);var s=m.props.iconScale||1,a=p.width*s,l=a/2,u=p.width/2-l,c=p.height/2-l;d.drawImage(S,u,c,a,a),m.renderId=window.requestAnimationFrame(t),r&&window.cancelAnimationFrame(m.renderId),m.tex.needsUpdate=!0}()})}},{key:"editableLabel",value:function(){null!=this.labelText&&(this.labelText.contentEditable="true",this.labelText.addEventListener("input",this.onEditLabel))}},{key:"editableTooltip",value:function(){null!=this.tooltip&&(this.tooltip.contentEditable=!0,this.tooltip.spellcheck=!1)}},{key:"remove",value:function(){this.teardown(),p.off(f.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode),null!=this.panel&&this.panel.remove(),null!=this.labelText&&this.labelText.removeEventListener("input",this.onEditLabel)}},{key:"resize",value:function(){null!=this.panel&&this.panel.resize()}},{key:"updateLoc",value:function(t){this.updatePosition(t.x,t.y,t.z),this.panel&&this.panel.update()}},{key:"setupPanel",value:function(){(this.props.hasPanel||this.pano.editMode)&&(this.panel=new d({pano:this.pano,marker:this,data:this.props.panel,disabled:!this.props.hasPanel}))}},{key:"generateStates",value:function(t,e){var n="#ffffff"===t.toLowerCase()?a(e,t,.12):a("#000000",t,.2);return{normal:{bgStroke:t,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},over:{bgStroke:n,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"},active:{bgStroke:e,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},activeHover:{bgStroke:e,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"}}}},{key:"createDefaults",value:function(t){this.bgScale="tiny"===t.type?7.5:2.5;var e="hotspot"===t.type?400:100;this.defaults={states:this.generateStates("#ffffff","#007cb2"),type:"normal",hasPanel:!0,hasTooltip:!1,hasLabel:!1,scaleX:e,scaleY:e,iconScale:.6,boxShadow:"0 0 20px rgba(0, 0, 0, 0.2)",panel:{hasArrow:!0,borderRadius:5,maxWidth:260,boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",fill:"#ffffff",stroke:"transparent",strokeWidth:0,title:this.createPanelElementDefaults("Open Sans","19.5"),body:this.createPanelElementDefaults("Open Sans","13")}}}},{key:"createPanelElementDefaults",value:function(t,e){return{innerHTML:"",style:{fontFamily:t,fontSize:e,fontThemeType:"none"}}}},{key:"setEditorVar",value:function(t,e){null==this.props.editorVars&&(this.props.editorVars={}),this.props.editorVars[t]=e}},{key:"getEditorVar",value:function(t){if(null!=this.props.editorVars)return this.props.editorVars[t];this.props.editorVars={}}},{key:"getData",value:function(){this.panel&&(this.props.panel=this.panel.getData());var t=this.object,e=n.cloneDeep(this.props);delete e.states,delete e.animation,"hotspot"===this.props.type&&null!=this.polyHotspot&&(e.hotspotData=this.polyHotspot.getData());try{e.editorVars=JSON.stringify(e.editorVars)}catch(t){console.warn("Malformed 'editorVars' "+e.editorVars)}return{id:this.id,xPos:t.position.x,yPos:t.position.y,zPos:t.position.z,props:e}}},{key:"simpleColors",value:function(){null!=this.props.bgColor&&null!=this.props.fgColor&&(this.props.states=this.generateStates(this.props.bgColor,this.props.fgColor))}},{key:"adjust",value:function(t){var e=t.xPos,n=t.yPos,i=t.zPos,r=t.props;this.updatePosition(e,n,i),this.adjustProps(r),p.trigger(f.threeSixtyImage.MARKER_UPDATED,this)}},{key:"adjustProps",value:function(t){this.props=n.merge(this.props,t),this.simpleColors(),this.updateProps()}},{key:"updateProps",value:function(){this.updateIcon(),this.editMode&&(this.initialColorsSet=!1),this.setState(this.currentState,!0),this.updateType(),this.updatePanel(),this.updateLabel(),this.updateScale(),this.updateAnimation()}},{key:"updateType",value:function(){var t=this.props.type;this.lastType!==t&&("hotspot"===t?(this.ctx.globalCompositeOperation="source-over",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tex.needsUpdate=!0,this.hideShowControlPoints(!1),null!=this.polyHotspot&&(this.polyHotspot.visible=!0,this.polyHotspot.select(),this.el.style.display="none",this.hide(),this.pano.boundingBox.style.display="none",this.pano.hideMarkerBounds(),null!=this.panel&&this.panel.shown&&this.panel.hide())):(this.hideShowControlPoints(!0,!0),"hotspot"===this.lastType&&(this.scale(100,100),this.polyHotspot&&(this.el.style.display="block",this.show(),this.polyHotspot.visible=!1,this.polyHotspot.deselect()))),this.lastType=t,this.panoReady())}},{key:"updateAnimation",value:function(){null!=this.props.animation&&(this.backSprite.material=this.pano.getBackSpriteMaterial(n.cloneDeep(this.props)))}},{key:"updateLabel",value:function(){this.props.hasLabel}},{key:"updateIcon",value:function(){this.canvas&&this.setState(this.currentState);var t=o(this.getIconSource());this.icon.outerHTML=t,this.icon=this.el.querySelector(".icon"),this.icon.style.transform="scale("+(this.props.iconScale||1)+")"}},{key:"getIconSource",value:function(){if(this.props.iconSource){var t=this.props.iconSource.content||null!=this.pano.assetManager&&this.pano.assetManager.getAssetUrl(this.props.iconSource.assetId);if(t)return t}return M}},{key:"updatePanel",value:function(){var t=this;if(null!=this.panel)if(this.props.hasPanel){if(this.panel.forcePlaceCenter=!0,this.panel.enable(),this.wasDisabled){if(null!=this.polyHotspot){var e=this.polyHotspot,n=this.pano.vecToScreenPosition(e.getCenterPoint(e.shapeMesh));this.panel.show(!0,n),window.requestAnimationFrame(function(){t.panel.bodyEl.blur()})}else this.panel.show();this.wasDisabled=!1}this.panel.forcePlaceCenter=!0,this.panel.adjust(this.props.panel)}else this.wasDisabled=!0,this.panel.disable();else this.props.hasPanel&&this.setupPanel()}},{key:"isHotspot",value:function(){return"hotspot"===this.props.type}},{key:"initEditorVars",value:function(){if(null!=this.props.editorVars)try{this.props.editorVars=JSON.parse(this.props.editorVars)}catch(t){console.warn("Malformed 'editorVars' "+this.props.editorVars)}}},{key:"setProperties",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};this.props=n.merge(this.defaults,e),this.initEditorVars(),this.isHotspot()||(null==this.props.states.over&&(this.props.states.over=this.props.states.normal),this.simpleColors())}},{key:"setState",value:function(t,e){var n=this;if(!this.isHotspot()&&(this.active&&(t=this.mouseOver?"activeHover":"active"),this.pano.editMode&&(t="normal"),this.props.states[t]||e)){var i=this.props.states[t],r=i.bgStroke,o=i.bgStrokeWidth,s=i.bgFill,a=i.iconStroke,l=i.iconFill;this.bg.style.border=o*this.bgScale*.5+"px solid "+r,null!=this.props.boxShadow&&(this.bg.style.boxShadow=this.props.boxShadow),this.bg.style.background=s,this.icon.setAttribute("stroke",a),this.icon.setAttribute("fill",l),this.currentState=t,null!=this.canvas&&this.drawSprite(function(t){return u(n.getIconSource(),t)},s,r,a,l)}}},{key:"addLabel",value:function(t){if(this.props.hasLabel){var e=document.createElement("div");e.classList.add("marker-label-container"),e.innerHTML="\n          <div class='marker-label'>\n            enter text...\n          </div>\n        ",this.el.appendChild(e),this.bg.classList.add("has-label"),this.labelEl=e,this.labelEl.style.left="50px",this.labelEl.style.width=0,this.labelEl.style.height="50px",this.labelText=this.labelEl.firstElementChild,this.labelText.style.color=this.props.label.textColor,this.labelText.innerHTML=this.props.label.html,this.editMode&&this.editableLabel()}}},{key:"showLabel",value:function(t){var e=this;if(null!=this.labelEl){var n=this.props.label.width||(0<this.labelText.clientWidth?35+function(t){var e=document.createElement("div");e.setAttribute("class",t.getAttribute("class")),e.innerHTML=t.innerHTML,k.innerHTML="",k.appendChild(e),document.body.appendChild(k);var n=e.clientWidth;return document.body.removeChild(k),n}(this.labelText):0);this.labelShown=!0;var i=t?0:.3;r.to(this.bg,i,{ease:"power4.out",width:n,height:50}),r.to(this.bg,.3,{scaleX:1.05,scaleY:1.05,overwrite:!1}),r.to(this.labelEl,i,{ease:"power4.out",width:n-50,onComplete:function(){e.labelEl.style.width="auto"}})}}},{key:"hide",value:function(){this.el.style.visibility="hidden",this.el.style.cursor="default",this.sprite.visible=!1,this.backSprite.visible=!1}},{key:"show",value:function(){this.el.style.visibility="visible",this.el.style.cursor=null,this.sprite.visible=!0,this.backSprite.visible=!0}},{key:"hideLabel",value:function(){this.props.label&&null!=this.labelEl&&(this.labelShown=!1,r.to(this.bg,.3,{ease:"power4.out",width:50,height:50,scaleX:1,scaleY:1}),r.to(this.labelEl,.3,{ease:"power4.out",width:0}))}},{key:"hideShowControlPoints",value:function(e,t){(this.isHotspot()||t)&&[this.ctrlTl,this.ctrlTr,this.ctrlBr,this.ctrlBl].forEach(function(t){t.style.display=e?"block":"none"})}},{key:"displayBounds",value:function(){var t=this.pano.spriteWidth,e=this.pano.spriteHeight;if(this.isHotspot()){var n=this.el.getBoundingClientRect();t=n.width,e=n.height}if(t&&e){var i=t/50,r=1/i,o=e/50,s=1/o,a=Math.min(r,s);Math.min(i,o),this.hideShowControlPoints(!1),this.isHotspot()?(this.hbT.setAttribute("stroke-width",4*s),this.hbR.setAttribute("stroke-width",4*r),this.hbB.setAttribute("stroke-width",4*s),this.hbL.setAttribute("stroke-width",4*r)):this.boundsRect.setAttribute("stroke-width",this.isHotspot()?4*a:a),this.ctrlTl.setAttribute("stroke-width",a),this.ctrlTl.setAttribute("transform","scale("+r+", "+s+")");var l=50*i,u=50*o,c="scale("+r+", "+s+")";return this.ctrlTr.setAttribute("stroke-width",a),this.ctrlTr.setAttribute("transform",c+" translate("+l+", 0)"),this.ctrlBr.setAttribute("stroke-width",a),this.ctrlBr.setAttribute("transform",c+" translate("+l+", "+u+")"),this.ctrlBl.setAttribute("stroke-width",a),this.ctrlBl.setAttribute("transform",c+" translate(0, "+u+")"),this.boundsEl.style.display="block",this}}},{key:"controlPoints",value:function(){var n=this;return["tl","tr","br","bl"].reduce(function(t,e){return'<rect class="marker-ctrl-'+e+'"\n          style="display:'+(n.isHotspot()?"none":"block")+'"\n          stroke="blue" fill="white" stroke-width="1"\n          x="'+-3.5+'" y="'+-3.5+'"\n          width="7" height="7"\n          vector-effect="non-scaling-stroke"/>'+t},"")}},{key:"editableHotspot",value:function(){this.isHotspot()&&(this.boundsEl.style.display=this.editMode?"block":"none")}},{key:"hotspotBorder",value:function(){var t=this.pano.hotspotColor;return'\n        <g class="hot-borders">\n          <path class="hot-border-t" d="M 0 0 L 50 0" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-r" d="M 50 0 L 50 50" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-b" d="M 50 50 L 0 50" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-l" d="M 0 50 L 0 0" stroke-width="1" stroke="'+t+'" />\n        </g>\n      '}},{key:"updateHotspotColor",value:function(){var e=this;[this.hbT,this.hbR,this.hbB,this.hbL].forEach(function(t){t.setAttribute("stroke",e.pano.hotspotColor)}),this.boundsEl.firstElementChild.setAttribute("fill",this.pano.hotspotTransColor)}},{key:"editableMarker",value:function(){this.el.style.cursor=this.pano.editMode?C:null}},{key:"panoReady",value:function(){var t="guided"===this.pano.navigation.type;if(this.editMode||t){var e=this.boundsEl.firstElementChild;this.isHotspot()?(e.setAttribute("fill",this.pano.hotspotTransColor),e.setAttribute("stroke","none"),this.boundsEl.classList.add("hotspot-bounds"),this.boundsEl.style.display="block",this.boundsEl.style.overflow="hidden",this.displayBounds(),this.hotBordersEl.style.display="block"):(this.boundsEl.classList.remove("hotspot-bounds"),e.setAttribute("fill","none"),e.setAttribute("stroke","white"),this.boundsEl.style.overflow="visible",this.hotBordersEl.style.display="none")}}},{key:"createGraphics",value:function(){this.el=document.createElement("div"),this.el.classList.add("marker-el");var t=o(M);this.el.innerHTML='\n        <div class="marker-content">\n          <div class="bg"></div>\n          '+t+'\n        </div>\n        <svg class="marker-bounds" style="display:none;">\n          <rect\n            class="marker-bounds-rect" stroke="white" fill="none" stroke-width="1"\n            x=0 y="0" width="50" height="50" />\n\n          '+this.hotspotBorder()+"\n          "+this.controlPoints()+"\n        </div>\n      ",this.boundsEl=this.el.querySelector(".marker-bounds"),this.boundsRect=this.el.querySelector(".marker-bounds-rect"),this.ctrlTl=this.el.querySelector(".marker-ctrl-tl"),this.ctrlTr=this.el.querySelector(".marker-ctrl-tr"),this.ctrlBr=this.el.querySelector(".marker-ctrl-br"),this.ctrlBl=this.el.querySelector(".marker-ctrl-bl"),this.hotBordersEl=this.el.querySelector(".hot-borders"),this.hbT=this.el.querySelector(".hot-border-t"),this.hbR=this.el.querySelector(".hot-border-r"),this.hbB=this.el.querySelector(".hot-border-b"),this.hbL=this.el.querySelector(".hot-border-l"),this.bg=this.el.querySelector(".bg"),this.bg.classList.add(this.props.type+"-type"),this.addLabel(),this.createToolTip(),this.content=this.el.querySelector(".marker-content"),null!=this.canvas&&(this.content.style.opacity=0),this.bgRect=this.bg.querySelector(".bg-rect"),this.icon=this.el.querySelector(".icon"),this.currentState="normal",this.updateProps(),this.panoReady(),this.editableMarker()}},{key:"createToolTip",value:function(){this.props.hasTooltip&&(this.tooltip=document.createElement("div"),this.tooltip.classList.add("tooltip-el"),this.tooltip.classList.add(this.props.type+"-marker"),this.bg.classList.add("has-tooltip"),null!=this.props.scale&&(this.tooltip.style.transform="scale("+3*this.props.scale+")"),this.el.prepend(this.tooltip),this.tooltip.innerHTML=this.props.toolTipHtml||"enter text...",this.editMode?this.editableTooltip():this.hideToolTip())}},{key:"hideToolTip",value:function(){var t=this;this.props.hasTooltip&&(this.tooltip.style.opacity=0,clearTimeout(this.hideTooltipId),this.hideTooltipId=setTimeout(function(){t.tooltip.style.display="none"},250))}},{key:"showToolTip",value:function(){clearTimeout(this.hideTooltipId),this.tooltip.style.display="block",this.tooltip.style.opacity=1}},{key:"enterAnimation",value:function(){"moveUp"===this.props.animation&&(this.bg.style.boxShadow="0 5px 20px rgba(0, 0, 0, 0.3)",r.to(this.content,.5,{y:-5,ease:"power4.out"})),"scaleUp"===this.props.animation&&(this.bg.style.boxShadow="0 0 20px rgba(0, 0, 0, 0.3)",r.to(this.content,.5,{scaleX:1.05,scaleY:1.05,ease:"power4.out"}))}},{key:"enterToolTip",value:function(){this.props.hasTooltip&&this.showToolTip()}},{key:"enterLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.showLabel()}},{key:"leaveAnimation",value:function(){"moveUp"===this.props.animation&&(r.to(this.content,.2,{y:0,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow),"scaleUp"===this.props.animation&&(r.to(this.content,.5,{scaleX:1,scaleY:1,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow)}},{key:"leaveToolTip",value:function(){!this.pano.editMode&&this.props.hasTooltip&&this.hideToolTip()}},{key:"leaveLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.hideLabel()}},{key:"disableActive",value:function(t){this.active&&(this.active=!1,this.setState(t||"normal"))}},{key:"downPano",value:function(){this.pano.setCurrMarker(this.sprite),this.pano.downOnMarker=!0,this.pano.stopVelocity()}},{key:"downActiveState",value:function(){var t=this;null!=this.props.states.active&&(this.active=!0,this.setState("active"),this.props.hasLabel||window.requestAnimationFrame(function(){document.addEventListener(y,t.onReleaseOutsideLabel)}))}},{key:"downShowHidePanel",value:function(){null==this.panel||this.labelShown||(this.panel.shown?(this.panel.hide(),this.disableActive("over")):(this.panel.show(),this.panel.hideSelectionBoxes()))}},{key:"downEditMode",value:function(){if(this.pano.editMode)return this.pano.displayBoundingBox(),void(this.pano.boundingBox.style.display="block")}},{key:"downLabel",value:function(){this.props.hasLabel&&"down"===this.props.label.showOn&&(this.showLabel(),document.addEventListener(y,this.onReleaseOutsideLabel))}},{key:"disablePulse",value:function(){this.backSprite.material=this.pano.getBackSpriteMaterial(n.cloneDeep(this.props),this)}},{key:"updateResume",value:function(){null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.pano.model.setVisitedMarkers()}},{key:"setVisited",value:function(){null!=this.pano.model&&(null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.isVisited?this.pano.model.setVisitedMarkers():this.pano.model.addVisitedMarker(this.idx)),this.visited=!0,this.disablePulse()}},{key:"resumeVisited",value:function(t){var e=this;this.isVisited=!0,this.disablePulse(),null!=this.panel&&t&&(this.panel.forcePlaceCenter=!0,window.requestAnimationFrame(function(){e.panel.show()}))}},{key:"freeHotspotFlash",value:function(){var t=this;"free"===this.pano.navigation.type&&this.isHotspot()&&(this.pano.revealingHotspotById=this.id,r.killTweensOf(this.pano.overlaySvgEl),this.pano.overlaySvgEl.style.opacity=0,r.to(this.pano.overlaySvgEl,.2,{opacity:1,onComplete:function(){r.to(t.pano.overlaySvgEl,.1,{opacity:0,delay:.4,onComplete:function(){t.pano.revealingHotspotById===t.id&&(t.pano.revealingHotspotById=null)}})}}))}},{key:"teardown",value:function(){var t=this.object.element;t.removeEventListener(h,this.onMouseEnter),t.removeEventListener(m,this.onMouseLeave),document.removeEventListener(b,this.onMouseMove),t.removeEventListener(A,this.onMouseUp)}},{key:"updateScale",value:function(){null!=this.object&&this.scale(this.props.scale)}},{key:"scale",value:function(t,e){null!=t&&null!=e&&(this.scaleX(t),this.scaleY(e))}},{key:"scaleX",value:function(t){null!=t&&(this.sprite.scale.x=t,this.object.scale.x=t/50,this.props.scaleX=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY))}},{key:"scaleY",value:function(t){null!=t&&(this.sprite.scale.y=t,this.object.scale.y=t/50,this.props.scaleY=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY))}},{key:"updatePosition",value:function(t,e,n){null!=t&&(this.object.position.x=t,this.sprite.position.x=t,this.backSprite.position.x=t),null!=e&&(this.object.position.y=e,this.sprite.position.y=e,this.backSprite.position.y=e),null!=n&&(this.object.position.z=n,this.sprite.position.z=n,this.backSprite.position.z=n)}},{key:"createSprite",value:function(t){var e=new i.CSS3DSprite(this.el);(this.object=e).position.x=t.x,e.position.y=t.y,e.position.z=t.z,this.pano.cssScene.add(e),this.pano.polyHotspot||(e.element.style.pointerEvents="all"),x||e.element.addEventListener(h,this.onMouseEnter),e.element.addEventListener(m,this.onMouseLeave),e.element.addEventListener(y,this.onMouseDown),document.addEventListener(b,this.onMouseMove),e.element.addEventListener(A,this.onMouseUp),"number"==typeof this.props.scale&&(this.props.scale=[this.props.scale,this.props.scale]),null!=this.props.scaleX&&null!=this.props.scaleY?this.scale(this.props.scaleX,this.props.scaleY):this.isHotspot()?this.scale(400,400):this.scale(100,100)}},{key:"triggerEvent",value:function(t,e){this.editMode||this.pano.model.executeFilteredPlayerEvent(function(t){return t.triggerid===e},t)}},{key:"dragging",set:function(t){this.pano.editMode&&(this.el.style.cursor=t?'url("Moving.cur"), auto':C),this.isDragging=t},get:function(){return this.isDragging}},{key:"visited",set:function(t){this.isVisited||(null!=this.pano.vars&&this.pano.visitedMarkers<this.pano.vars.total.value()&&this.pano.visitedMarkers++,this.isVisited=t)},get:function(){return this.isVisited}}]),O}.call(e,P,e,t))||(t.exports=n)},function(t,e,_){"use strict";var n,C=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}void 0===(n=function(t){var m=_(7),y=_(1),c=_(5),a=_(2),l=_(3),u=_(10),e=_(4),n=_(22),h=n.AUDIO_MEDIA_TYPE,b=n.IMAGE_MEDIA_TYPE,i=_(16),A=i.clickOrTouchEnd,d=i.enterOrTouchStart,p=i.leaveOrTouchEnd,f=i.downOrTouchStart,v=i.moveOrTouchMove,g=i.upOrTouchEnd;function w(s){var a=void 0,l=!1,e=!1,n=!1;function t(t){n||(s.pano.setupSuppressOnSelectionChange(),n=!0),a=s.panelAudioSeekEl.getBoundingClientRect(),l=!0,e=s.audioPlayer.playing,r(t)}function i(){e&&s.shown&&!s.audioPlayer.playing&&s.audioPlayer.play(),n&&(s.pano.teardownSuppressOnSelectionChange(),n=!1),e=l=!1,s.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}function r(t){if(l){var e=(o=t,c.device.isMobile?o.touches[0]&&o.touches[0].clientX:o.clientX);if(null!=e){var n=s.audioPlayer,i=(r=e,y.clamp(0,1,(r-a.left)/a.width)*n.model.getDuration());n.playing&&n.pause(),n.seek(i),n.onAudioTick(y.toSeconds(i)),s.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}}var r,o}function o(){l||s.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}function u(){l||s.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}return s.panelAudioSeekFillEl.addEventListener(d,o),s.panelAudioSeekFillEl.addEventListener(p,u),s.panelAudioSeekEl.addEventListener(f,t),document.addEventListener(v,r),document.addEventListener(g,i),function(){n&&(s.pano.teardownSuppressOnSelectionChange(),n=!1),s.panelAudioSeekFillEl.removeEventListener(d,o),s.panelAudioSeekFillEl.removeEventListener(p,u),s.panelAudioSeekEl.removeEventListener(f,t),document.removeEventListener(v,r),document.removeEventListener(g,i)}}var S=(C(r,[{key:"play",value:function(){var t=this;if(this.panel.setupMediaModal(h)){this.playing=!0,this.resetPlayButton();var e=this.getAudioPlayer();e.onActionPlay({},{}),clearInterval(this.audioInterval),this.audioInterval=setInterval(function(){e.state.isPlaying||t.pause(),t.onAudioTick()},30)}}},{key:"pause",value:function(){this.panel.mediaShowing&&(this.panel.teardownMediaModal(h),this.playing=!1,this.getAudioPlayer().onActionPause({},{}),this.resetPlayButton(),clearInterval(this.audioInterval))}},{key:"setVolume",value:function(t){t*=100,this.getAudioPlayer().onActionSetVolume({volume:t},{})}},{key:"seek",value:function(t){var e=this.getAudioPlayer();e.seek(t),e.currentTime=y.toSeconds(t),this.onAudioTick()}}]),r);function r(t){var e=this;k(this,r),this.destroy=function(){clearInterval(e.audioInterval)},this.panel=t,window.requestAnimationFrame(function(){e.onAudioTick()})}var o=(C(s,[{key:"onActionPlay",value:function(){this.audio.play(),this.state.isPlaying=!0}},{key:"onActionPause",value:function(){this.audio.pause(),this.state.isPlaying=!1}},{key:"onActionSetVolume",value:function(t){t.volume/=100,this.audio.volume=t.volume}},{key:"seek",value:function(t){this.audio.currentTime=y.toSeconds(t)}},{key:"getDuration",value:function(){return y.toMilliseconds(this.audio.duration)}},{key:"destroy",value:function(){this.audio.removeEventListener("timeupdate",this.onPlaying)}}]),s);function s(t){var e=this;k(this,s),this.onPlaying=function(){e.currentTime=e.audio.currentTime},this.audio=new Audio(t),this.state={isPlaying:!1},this.currentTime=0,this.audio.addEventListener("timeupdate",this.onPlaying)}var E=(C(T,[{key:"getDuration",value:function(){return this.currView.getDuration()}},{key:"destroy",value:function(){this.currView.audio.removeEventListener("canplaythrough",this.onUpdate)}}]),T);function T(t,e){var n=this;k(this,T),this.onUpdate=function(){n.player.onAudioTick()},this.currView=new o(t),this.currView.audio.addEventListener("canplaythrough",this.onUpdate),this.isEditModeAudio=!0,this.player=e}function x(t){return t.pano.editorBrandingColor||e.theme.brandingHighlight}return function(d,p){var f=d.audioPlayer;null==f&&(f=d.audioPlayer=new S(d));var t,v=null==p.url?u.resolvePath(p.path,d.pano.model):new E(p.url,f);function e(){d.hideMedia.set(h,g),f.isEnded()&&f.seek(0);var t=.75;"low"==p.volume?t=.5:"high"==p.volume?t=1:"mute"==p.volume&&(t=0),f.setVolume(t),f.play()}function g(){d.hideMedia.delete(h),f.pause()}function i(){(!f.playing?e:g)()}function n(t){if(d.shown){var e=d.getSelectionBox(d.mediaAudioEl),n=null!=e&&e.shown;if(!d.pano.editMode||n){if(32==t.which){if(document.activeElement==d.panelAudioPlayEl)return;i()}if(27==t.which&&!d.pano.editMode){if(d.isMediaShowing(b))return;d.hideMediaType(h)}}}}if(f.model=v,f.onAudioTick=function(t){var e=y.toSeconds(v.getDuration()),n=null!=t?t:f.getAudioPlayer().currentTime,i=n/e*100,r="NaN",o=e-n;0<o&&(r=y.formatSecondsAsTime(o));var s=y.formatSecondsAsTime(n);if(d.panelAudioSeekFillEl.style.width=i+"%",m.setAttributes(d.panelAudioSeekFillEl,{"aria-valuenow":n,"aria-valuemax":e}),-1===r.indexOf("NaN")&&-1===s.indexOf("NaN")){var a=/^0+(\d)/,l="-"+r.replace(a,"$1"),u=""+s.replace(a,"$1");d.panelAudioTimeEl.innerHTML=l,d.panelAudioSeekHoverEl.innerHTML=u;var c=getComputedStyle(d.panelAudioSeekHoverEl),h=parseFloat(c.width)-parseFloat(c.paddingLeft)-parseFloat(c.paddingRight);d.panelAudioSeekHoverEl.style.left="calc(100% - "+h+"px + 4px)",p.timeRemaining=l,f.isEnded()&&g()}},f.isEnded=function(){return"-0:00"===p.timeRemaining},f.getAudioPlayer=function(){return null!=v&&v.currView},f.resetPlayButton=function(){var t=d.panelAudioPlayEl.firstElementChild;!f.playing?t.classList.remove("audio-is-playing"):t.classList.add("audio-is-playing")},null==d.mediaAudioEl){d.mediaAudioEl=document.createElement("div"),d.mediaAudioEl.classList.add("panel-audio");var r=p.timeRemaining||"-0:00",o='\n        <div class="panel-audio-pill">\n          <button class="panel-audio-play" data-ref>'+('\n    <svg class="panel-audio-play-icon" width="10" height="12" >\n      <path d="M9 5.705882L1 11V1z" fill="'+((t=x(d))||"#7d7d7d")+'" stroke="'+(t||"#7d7d7d")+'" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="'+(t||"#7d7d7d")+'">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="'+(t||"#7d7d7d")+'">\n      </rect>\n    </svg>\n  ')+'</button>\n          <div class="panel-audio-seek" data-ref>\n            <div class="panel-audio-seek-fill"\n              role="slider"\n              aria-valuemin="0"\n              aria-valuenow="0"\n              aria-valuemax="0"\n              style="background:'+x(d)+'" data-ref>\n              <div class="panel-audio-seek-hover" data-ref>0:00</div>\n            </div>\n          </div>\n          <div class="panel-audio-time" data-ref>'+r+'</div>\n        </div>\n        <style class="panel-audio-dot-style">\n          .panel-audio-seek-fill:after {\n            background: '+x(d)+" !important;\n            border: 1px solid "+d.data.fill+' !important;\n          }\n        </style>\n        <style class="panel-audio-seek-hover-style">\n          .panel-audio-seek-hover {\n            background: '+x(d)+' !important;\n          }\n        </style>\n        <style class="panel-audio-time-style">\n          .panel-audio-time {\n            color: '+("#FFFFFF"===d.data.fill?"#494949":"#BABBBA")+";\n          }\n        </style>\n      ";d.mediaAudioEl.innerHTML=o,d.onClickAudioMedia=function(t){var e=d.getSelectionBox(t.currentTarget),n=null!=e&&e.shown;d.pano.editMode&&!n&&d.showSelectionBox(t.currentTarget,!0)},d.mediaAudioEl.style.cursor=d.pano.editMode?"pointer":"default",d.addSelectionBox({targetEl:d.mediaAudioEl,showCallback:function(){d.mediaAudioEl.style.cursor="default",d.panelAudioPlayEl.style.pointerEvents="all",d.panelAudioSeekEl.style.pointerEvents="all"},hideCallback:function(){d.mediaAudioEl.style.cursor="pointer",d.panelAudioPlayEl.style.pointerEvents="none",d.panelAudioSeekEl.style.pointerEvents="none",g()},shouldAutoHide:!0,panel:d,showPlaceholder:!1,paddingOffsets:{bottom:2}}),d.mediaAudioEl.addEventListener(A,d.onClickAudioMedia),m.selectAllByRef(d,d.mediaAudioEl),d.showMedia.set(h,function(){f.seek(0),e()}),d.destroySeek=w(d),d.panelAudioPlayEl.addEventListener(A,i),window.addEventListener("keydown",n),d.pano.editMode&&(d.panelAudioPlayEl.style.pointerEvents="none",d.panelAudioSeekEl.style.pointerEvents="none"),d.bubbleEl.appendChild(d.mediaAudioEl)}function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(d.pano.editMode||t.cleanup)&&(d.hideMediaType(h),d.showMedia.delete(h),d.audioPlayer.destroy(),d.audioPlayer=null,v.isEditModeAudio&&v.destroy(),d.destroySeek(),d.panelAudioPlayEl.removeEventListener(A,i),window.removeEventListener("keydown",n),null!=d.mediaAudioEl&&(d.mediaAudioEl.removeEventListener(A,d.onClickAudioMedia),d.bubbleEl.removeChild(d.mediaAudioEl),d.removeSelectionBox(d.mediaAudioEl),d.mediaAudioEl=null),a.off(l.slide.WILL_CHANGE,s))}return a.on(l.slide.WILL_CHANGE,s),s}}.call(e,_,e,t))||(t.exports=n)},function(t,e,r){"use strict";var n;void 0===(n=function(t){var v=r(7),u=(r(10),r(5)),c=r(1),g=r(2),m=r(3),y=r(19),b=r(14),A=r(98),e=r(4),w=r(22).VIDEO_MEDIA_TYPE,n=r(16),S=n.clickOrTouchEnd,E=n.downOrTouchStart,o=n.moveOrTouchMove,h=n.upOrTouchEnd,i=r(40),T=i.Z_INDEX_MID,x=i.PAD_SCALE,d=5;function f(s,e){var a=void 0,l=!1,n=!1;function t(t){a=s.panelVideoSeekEl.getBoundingClientRect(),l=!0,n=e.isPlaying(),r(t)}function i(t){l=!1,n&&s.shown&&s.panelVideoEl.play()}function r(t){if(l){var e=(o=t,(u.device.isMobile?o.touches[0]&&o.touches[0].clientX:o.clientX)+d);if(null!=e){var n=s.videoPlayer,i=(r=e,c.clamp(0,1,(r-a.left)/a.width)*s.panelVideoEl.duration);s.panelVideoEl.pause(),s.panelVideoEl.currentTime=i,n.updateSeek(i),null!=s.captionsConnector&&s.captionsConnector.clearCaptions()}}var r,o}return s.panelVideoSeekEl.addEventListener(E,t),document.addEventListener(o,r),document.addEventListener(h,i),function(){s.panelVideoSeekEl.removeEventListener(E,t),document.removeEventListener(o,r),document.removeEventListener(h,i)}}function _(e,n,i){function r(){n.toggleIsPlaying()}function o(){null!=e.captionsConnector&&e.captionsConnector.toggleCaptioning()}function s(t){if(32==t.which){if(document.activeElement==e.panelVideoPlayEl)return;n.toggleIsPlaying()}27!=t.which||e.pano.editMode||e.hideMediaType(w)}function a(){n.updateSeek(e.panelVideoEl.currentTime)}function l(){n.pause()}function u(t){e.panelVideoEl.volume=i*t}function c(t){t?e.panelVideoCaptionsEl.classList.add("captions-on"):e.panelVideoCaptionsEl.classList.remove("captions-on")}n.play(),null==e.captionsConnector||e.pano.editMode?e.panelVideoCaptionsEl.style.display="none":e.captionsConnector.isCaptionEnabled()&&e.panelVideoCaptionsEl.classList.add("captions-on"),e.panelVideoCaptionsEl.addEventListener(S,o),e.panelVideoPlayEl.addEventListener(S,r),e.panelVideoEl.addEventListener(S,r),window.addEventListener("keydown",s),g.on(m.volume.CHANGED,u),g.on(m.captions.ENABLED,c),e.panelVideoEl.addEventListener("timeupdate",a),e.panelVideoEl.addEventListener("ended",l);var t,h=f(e,n),d=((t=e).captionsEl=document.querySelector("#preso .caption-container"),null!=t.captionsEl&&(t.panelVideoContainerEl.appendChild(t.captionsEl),t.oldCaptionStyles=t.captionsEl.getAttribute("style"),v.setStyles(t.captionsEl,{width:"100%",height:"calc(100% - 43px)",transform:null})),function(){null!=t.captionsEl&&(document.getElementById("preso").insertBefore(t.captionsEl,document.getElementById("app-top")),t.captionsEl.setAttribute("style",t.oldCaptionStyles),t.captionsEl=null)});function p(t){e.hideMedia.delete(w),e.mediaShowing&&(e.overlayEl.parentNode.removeChild(e.overlayEl),e.teardownMediaModal(w),n.pause(),e.panelVideoCaptionsEl.removeEventListener(S,o),e.panelVideoPlayEl.removeEventListener(S,r),e.panelVideoEl.removeEventListener(S,r),window.removeEventListener("keydown",s),g.off(m.volume.CHANGED,u),g.off(m.captions.ENABLED,c),h(),d(),null!=e.captionsConnector&&e.captionsConnector.destroy(),e.overlayEl.innerHTML="",e.panelMediaIconCloseEl.removeEventListener(S,p),e.panelVideoEl.removeEventListener("timeupdate",a),e.panelVideoEl.removeEventListener("ended",l),document.addEventListener(E,e.marker.onReleaseOutsideLabel),e.pano.editMode&&window.requestAnimationFrame(function(){e.showSelectionBox(e.mediaVideoPosterEl,!0)}))}e.hideMedia.set(w,p),e.panelMediaIconCloseEl.addEventListener(S,p)}function C(t){return t.pano.editorBrandingColor||e.theme.brandingHighlight}return function(o,s){null==o.videoPlayer&&(o.videoPlayer={playing:!1});var a=o.videoPlayer,t=void 0,l=void 0;if(null!=s.url)l=s.url;else{t=o.pano.assetManager.getAsset(s.assetId),l=t.url();var e=y.getCaptions(s.assetId);if(null!=e){var n=o.pano.slideObject.props.parent.props.model.getSlide(),i=b.getCurrentWindowSlide().id;o.captionsConnector=new A({type:"video",slideId:i,assetId:s.assetId,slideOwner:n,captions:e,parentEl:o,mediaElName:"panelVideoEl",isMediaVisible:function(){return!0}})}}a.updateSeek=function(t){null!=o.captionsConnector&&(o.captionsConnector.setCurrentTime(t),o.captionsConnector.adjustCaptions());var e=o.panelVideoEl.duration,n=null!=t?t:o.panelVideoEl.currentTime,i=(s.currentTime=n)/e*100;o.panelVideoSeekFillEl.style.width=i+"%",v.setAttributes(o.panelVideoSeekFillEl,{"aria-valuenow":n,"aria-valuemax":e})},a.isPlaying=function(){return a.playing},a.play=function(){a.playing=!0,a.onIsPlayingChanged()},a.pause=function(){a.playing=!1,a.onIsPlayingChanged()},a.toggleIsPlaying=function(){a.playing=!a.playing,a.onIsPlayingChanged()},a.onIsPlayingChanged=function(){var t=o.panelVideoPlayEl.firstElementChild;a.isPlaying()?(o.panelVideoEl.play(),t.classList.add("video-is-playing")):(o.panelVideoEl.pause(),t.classList.remove("video-is-playing"),null!=o.captionsConnector&&o.captionsConnector.clearCaptions())};var r=s.posterUrl||null!=o.pano.assetManager&&o.pano.assetManager.getAssetUrl(s.posterAssetId);if(null==o.mediaVideoPosterEl){var u=document.querySelector(".panel-video-play-icon-shadow");null==u&&((u=document.createElement("div")).classList.add="panel-video-play-icon-shadow",u.innerHTML='\n    <svg width="0" height="0" style="position:absolute;" focusable="false">\n      <defs>\n        <filter x="-25%" y="-25%" width="150%" height="150%" filterUnits="objectBoundingBox" id="panel-image-shadow">\n          <feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1"/>\n          <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n          <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>\n          <feMerge>\n            <feMergeNode in="shadowMatrixOuter1"/>\n            <feMergeNode in="SourceGraphic"/>\n          </feMerge>\n        </filter>\n      </defs>\n    </svg>\n  ',document.body.appendChild(u));var c='\n        <div class="panel-video-poster">\n          <img alt="" draggable="false" style="width:100%;height:100%;" />\n          '+('\n    <svg width="30%" height="30%" viewBox="0 0 56 56" class="panel-video-play" data-ref>\n      <g filter="url(#panel-image-shadow)" transform="translate(4 2)" fill="none" fill-rule="evenodd">\n        <circle fill="'+(C(o)||"#007CB2")+'" cx="24" cy="24" r="24"/>\n        <path stroke="#FFF" stroke-width="2.8" fill="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M32 24l-13 9V16z"/>\n      </g>\n    </svg>\n  ')+"\n        </div>\n      ";o.mediaVideoPosterEl=document.createElement("div"),o.mediaVideoPosterEl.innerHTML=c,o.mediaVideoPosterEl.style.cursor=o.pano.editMode?"pointer":"zoom-in",o.mediaVideoPosterEl.querySelector("img").addEventListener("load",d),o.addSelectionBox({targetEl:o.mediaVideoPosterEl,showCallback:function(){return o.mediaVideoPosterEl.style.cursor="zoom-in"},hideCallback:function(){return o.mediaVideoPosterEl.style.cursor="pointer"},shouldAutoHide:!0,panel:o,showPlaceholder:!1,paddingOffsets:{bottom:-3}}),o.panelBodyTopEl.appendChild(o.mediaVideoPosterEl),o.mediaVideoPosterEl.querySelector("img").src=r}else o.mediaVideoPosterEl.querySelector("img").src=r;function h(t){var e=o.getSelectionBox(o.mediaVideoPosterEl),n=null!=e&&e.shown;if(!o.pano.editMode||n){if(o.setupMediaModal(w)){var i,r=document.createElement("div");r.classList.add("three-sixty-image-media-panel-overlay"),v.setStyles(r,{position:"fixed",width:"100%",height:"100%",zIndex:T,top:0,left:0}),document.body.appendChild(r),o.overlayEl=r,o.overlayEl.innerHTML=(i=C(o),'\n    <div class="panel-video-player panel-media-overlay" style="opacity: 0" data-ref>\n      <div class="panel-video-container" data-ref>\n        <video src="'+l+'" class="panel-video" data-ref playsinline></video>\n        <div class="panel-video-controls">\n          <button class="panel-video-play" data-ref>\n    <svg class="panel-video-play-icon" width="10" height="12">\n      <path d="M9 5.705882L1 11V1z" fill="#fff" stroke="#fff" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="#fff">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="#fff">\n      </rect>\n    </svg>\n  </button>\n          <button id="panel-video-captions-btn" class="panel-video-captions" data-ref>\n            <style>\n              #panel-video-captions-btn.captions-on:after {\n                background: '+i+';\n              }\n            </style>\n            \n  <svg class="panel-video-captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" style="margin-top: 4px" >\n    <g>\n      <path fill="#fff" stroke="none" d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n      <path fill="none" stroke="#fff" class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n    </g>\n  </svg>\n  \n          </button>\n          <div class="panel-video-seek" data-ref>\n            <div class="panel-video-seek-fill"\n              role="slider"\n              aria-valuemin="0"\n              aria-valuenow="0"\n              aria-valuemax="0"\n              style="background:'+(i||"#007CB2")+'" data-ref></div>\n          </div>\n          <div class="panel-player-ui-end">\n          </div>\n        </div>\n      </div>\n      <button class="panel-media-close">\n    <svg class="panel-media-icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" data-ref>\n      <polygon fill="white" points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>\n  </button>\n      <style class="panel-audio-dot-style">\n        .panel-video-seek-fill:after {\n          background: '+(i||"#007CB2")+" !important;\n        }\n      </style>\n    </div>\n  "),v.selectAllByRef(o,o.overlayEl),document.removeEventListener(E,o.marker.onReleaseOutsideLabel),o.panelVideoEl.addEventListener("canplay",function t(){p(),o.overlayEl.firstElementChild.style.opacity=1;var e=.75;"low"==s.volume?e=.5:"high"==s.volume?e=1:"mute"==s.volume&&(e=0);var n=DS.appState.currentVolume();o.panelVideoEl.volume=e*n,o.panelVideoEl.currentTime=s.currentTime||0,_(o,a,e),a.updateSeek(o.panelVideoEl.currentTime),o.panelVideoEl.removeEventListener("canplay",t)})}}else o.showSelectionBox(o.mediaVideoPosterEl,!0)}function d(t){o.updateInteractableElements()}function p(){if(o.overlayEl){var t={w:window.innerWidth,h:window.innerHeight},e=o.panelVideoPlayerEl;e.style.width=t.w+"px",e.style.height=t.h+"px";var n=o.panelVideoEl,i=Math.min(parseFloat(t.w)*x/n.videoWidth,parseFloat(t.h)*x/n.videoHeight),r=o.panelVideoContainerEl;r.style.width=n.videoWidth*i+"px",r.style.height=n.videoHeight*i+"px"}}function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(o.pano.editMode||t.cleanup)&&(window.removeEventListener("resize",p),o.hideMediaType(w),o.showMedia.delete(w),null!=o.captionsConnector&&(o.captionsConnector=null),null!=o.mediaVideoPosterEl&&(o.mediaVideoPosterEl.removeEventListener(S,h),o.mediaVideoPosterEl.removeEventListener("load",d),o.mediaVideoPosterEl.parentNode.removeChild(o.mediaVideoPosterEl),o.removeSelectionBox(o.mediaVideoPosterEl),o.mediaVideoPosterEl=null),null!=o.overlayEl&&(o.overlayEl.innerHTML=""),g.off(m.slide.WILL_CHANGE,f))}return o.showMedia.set(w,function(){h(),a.updateSeek(0)}),o.mediaVideoPosterEl.addEventListener(S,h),window.addEventListener("resize",p),g.on(m.slide.WILL_CHANGE,f),f}}.call(e,r,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i,a=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(i=function(t){var r=n(0),o=n(3),e=n(19),s=n(1);n(2);function u(t){var e=t.type,n=t.slideId,i=t.assetId,r=t.slideOwner,o=t.captions,s=t.parentEl,a=t.mediaElName,l=t.isMediaVisible;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.type=e,this.assetId=i,this.slideId=n,this.slideOwner=r,this.parentEl=s,this.mediaElName=a,this.isMediaVisible=l,this.captions=o,this.currentCaptions=[],this.init()}return a(u,[{key:"setCurrentTime",value:function(t){this.currTime=t}},{key:"getCurrentTime",value:function(){return this.currTime}},{key:"isVideo",value:function(){return"video"===this.type}},{key:"ended",value:function(){var t=this.parentEl[this.mediaElName];if(null!=t)return t.ended}},{key:"getAssetId",value:function(){return this.assetId}},{key:"init",value:function(){e.mount(this,this.slideId),e.checkHasCaptions()}},{key:"destroy",value:function(){this.clearCaptions(),e.unmount(this,this.slideId)}},{key:"toggleCaptioning",value:function(){e.toggleCaptioning()}},{key:"isCaptionEnabled",value:function(){return e.isCaptionEnabled()}},{key:"adjustCaptions",value:function(){var e=this,n=this.slideOwner.currView.props.slideContainer;if(null!=n){var i=this.getCurrentTime();0<this.currentCaptions.length&&(this.currentCaptions=this.currentCaptions.reduce(function(t,e){return s.isWithinRange(e.startTime,e.endTime,i)?t.push(e):n.trigger(o.captions.REMOVE,e.getCueAsHTML()),t},[])),r.difference(this.captions,this.currentCaptions).forEach(function(t){s.isWithinRange(t.startTime,t.endTime,i)&&(e.currentCaptions.push(t),n.trigger(o.captions.ADD,t.getCueAsHTML()))})}return this}},{key:"clearCaptions",value:function(){var e=this.slideOwner.currView.props.slideContainer;return null!=e&&0<this.currentCaptions.length&&this.currentCaptions.forEach(function(t){e.trigger(o.captions.REMOVE,t.getCueAsHTML())}),this.currentCaptions=[],this}}]),u}.call(e,n,e,t))||(t.exports=i)},function(t,e,i){"use strict";var n;void 0===(n=function(t){var h=i(7),v=(i(10),i(5)),g=(i(1),i(2)),m=i(3),y=i(12),b=i(21).modes,A=i(22).IMAGE_MEDIA_TYPE,e=i(16),w=e.clickOrTouchEnd,S=e.downOrTouchStart,E=e.moveOrTouchMove,n=(e.upOrTouchEnd,i(40)),T=n.Z_INDEX_MID,x=n.PAD_SCALE;function _(t,e,n,i){var r=e.naturalWidth,o=e.naturalHeight,s=t.marker.getEditorVar("imageMediaCropRectangle");n.setAttribute("width",r),n.setAttribute("height",o),null!=s?(i.setAttribute("width",s.width),i.setAttribute("height",s.height),i.setAttribute("viewBox",s.left+" "+s.top+" "+s.width+" "+s.height)):(i.setAttribute("width",r),i.setAttribute("height",o),i.setAttribute("viewBox","0 0 "+r+" "+o)),t.updateInteractableElements()}return function(d,t){var i=t.url||null!=d.pano.assetManager&&d.pano.assetManager.getAssetUrl(t.assetId);if(null==d.mediaImageEl){d.mediaImageEl=document.createElement("div"),d.mediaImageEl.innerHTML='\n        <svg class="panel-image-thumb" data-ref\n          style="position:relative;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n          <image style="pointer-events: auto;" class="panel-framed-image-thumb" data-ref xlink:href="'+i+'" />\n        </svg>\n      ',h.selectAllByRef(d,d.mediaImageEl),d.panelImageThumbEl.style.cursor=d.pano.editMode?"pointer":"zoom-in";var e=new Image;e.src=i,e.addEventListener("load",function(){_(d,e,d.panelFramedImageThumbEl,d.panelImageThumbEl)}),d.mediaImageEl=d.mediaImageEl.firstElementChild,d.mediaImageEl.setAttribute("draggable",!1),d.panelBodyTopEl.appendChild(d.mediaImageEl),d.addSelectionBox({targetEl:d.mediaImageEl,maskBounds:{bottomCalc:function(){return d.panelContentGradBottomEl.getBoundingClientRect().bottom},topCalc:function(){return d.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return d.mediaImageEl.style.cursor="zoom-in"},hideCallback:function(){return d.mediaImageEl.style.cursor="pointer"},shouldAutoHide:!0,panel:d,showPlaceholder:!1})}else d.mediaImageEl.src=i;function r(t){27!=t.which||d.pano.editMode||d.hideMediaType(A)}function o(){d.hideMedia.delete(A),d.mediaShowing&&(d.pano.mode===b.SET_CROP_IMAGE_MEDIA&&d.pano.cancelCropImageMedia(!0),d.overlayEl.parentNode.removeChild(d.overlayEl),d.teardownMediaModal(A),d.overlayEl.innerHTML="",d.panelMediaIconCloseEl.removeEventListener(w,o),window.removeEventListener("keydown",r),document.addEventListener(S,d.marker.onReleaseOutsideLabel),d.pano.editMode&&window.requestAnimationFrame(function(){d.showSelectionBox(d.mediaImageEl,!0)}))}function s(){_(d,d.panelImageEl,d.panelFramedImageEl,d.panelImageFrameEl),f()}var a={count:0,down:!1,tolerance:3};function n(){if(a.count>a.tolerance)return a.count=0,void(a.down=!1);if(!v.device.isPhone||"none"!==d.pullDirection||d.scroller.isHidden){var t=d.getSelectionBox(d.mediaImageEl),e=null!=t&&t.shown;if(!d.pano.editMode||e){if(d.setupMediaModal(A)){var n=document.createElement("div");n.classList.add("three-sixty-image-media-panel-overlay"),h.setStyles(n,{position:"fixed",width:"100%",height:"100%",zIndex:T,top:0,left:0}),document.body.appendChild(n),d.overlayEl=n,d.overlayEl.innerHTML='\n        <div class="panel-media-overlay" data-ref>\n          <div class="panel-image-container" data-ref>\n            <svg class="panel-image-frame" data-ref\n              style="position:absolute;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n              <image class="panel-framed-image" data-ref xlink:href="'+i+'" />\n            </svg>\n            <img class="panel-image" src='+i+' data-ref style="display:none"/>\n\n          </div>\n        </div>\n        <button class="panel-media-close">\n    <svg class="panel-media-icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" data-ref>\n      <polygon fill="white" points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>\n  </button>\n      ',h.selectAllByRef(d,d.overlayEl),document.removeEventListener(S,d.marker.onReleaseOutsideLabel),d.panelImageEl.addEventListener("load",s),d.hideMedia.set(A,o),d.panelMediaIconCloseEl.addEventListener(w,o),window.addEventListener("keydown",r)}}else d.showSelectionBox(d.mediaImageEl,!0)}}function l(){a.count=0,a.down=!0}function u(){a.down&&a.count++}d.showMedia.set(A,n),d.mediaImageEl.addEventListener(w,n),d.mediaImageEl.addEventListener(S,l),d.mediaImageEl.addEventListener(E,u);var p=void 0;function f(t){if(d.overlayEl){var e=window.innerWidth,n=window.innerHeight,i=d.panelMediaOverlayEl;i.style.width=e+"px",i.style.height=n+"px";var r=d.panelImageFrameEl.viewBox.baseVal;if(null!=r){var o=r.width,s=r.height;if(0!==o&&0!==s){var a=Math.min(parseFloat(e-40)/o,parseFloat(n-40-(d.pano.editMode?100:0))/s),l=d.pano.editMode?1:x,u=d.panelImageContainerEl,c=o*a*l,h=s*a*l;u.style.width=c+"px",u.style.height=h+"px",d.panelImageFrameEl.setAttribute("width",c),d.panelImageFrameEl.setAttribute("height",h),null!=d.pano.cropTool&&d.pano.cropTool.updateTransformControls(c/d.pano.cropTool.image.naturalWidth),null!=t&&(clearTimeout(p),p=setTimeout(function(){f()},300))}}}}function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(d.pano.editMode||t.cleanup)&&(window.removeEventListener("resize",f),null!=d.panelImageEl&&d.panelImageEl.removeEventListener("load",s),d.hideMediaType(A),d.showMedia.delete(A),null!=d.mediaImageEl&&(d.mediaImageEl.removeEventListener(w,n),d.mediaImageEl.removeEventListener(S,l),d.mediaImageEl.removeEventListener(E,u),d.mediaImageEl.parentNode.removeChild(d.mediaImageEl),d.removeSelectionBox(d.mediaImageEl),d.mediaImageEl=null,d.marker.setEditorVar("imageMediaCropRectangle",null)),g.off(m.slide.WILL_CHANGE,c))}return d.prepCrop=function(){var t=d.panelImageEl.naturalWidth,e=d.panelImageEl.naturalHeight;return d.panelFramedImageEl.setAttribute("width",t),d.panelFramedImageEl.setAttribute("height",e),d.panelImageFrameEl.setAttribute("viewBox","0 0 "+t+" "+e),d.panelImageFrameEl.setAttribute("width",t),d.panelImageFrameEl.setAttribute("height",e),f(),f},d.cancelCrop=function(){_(d,d.panelImageEl,d.panelFramedImageEl,d.panelImageFrameEl),f()},d.saveCrop=function(t){d.marker.setEditorVar("imageMediaCropRectangle",t),_(d,d.panelImageEl,d.panelFramedImageThumbEl,d.panelImageThumbEl);var r=d.panelImageFrameEl.viewBox.baseVal;y.to(r,.5,{x:t.left,y:t.top,width:t.width,height:t.height,ease:"power4.out",onUpdate:function(){var t=r.x,e=r.y,n=r.width,i=r.height;d.panelImageFrameEl.setAttribute("viewBox",t+" "+e+" "+n+" "+i),f()}})},window.addEventListener("resize",f),g.on(m.slide.WILL_CHANGE,c),c}}.call(e,i,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i,r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(i=function(t){function h(t){var e=this,n=t.targetEl,i=t.boundsEl,r=t.showCallback,o=t.hideCallback,s=t.shouldAutoHide,a=t.panel,l=t.showPlaceholder,u=t.paddingOffsets,c=t.maskBounds;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.onCheckHide=function(t){if(e.targetEl!=t.target&&!e.targetEl.contains(t.target)){if(e.panel.mediaShowing)return;e.panel.hideSelectionBox(e.targetEl)}},this.targetEl=n,this.boundsEl=i,this.showCallback=r,this.hideCallback=o,this.shouldAutoHide=s,this.boxEl=document.createElement("div"),this.boxEl.classList.add("panel-selection-box"),this.boxEl.style.display="none",this.panel=a,this.pano=a.pano,this.pano.overlaysEl.appendChild(this.boxEl),this.showPlaceholder=l,this.padding={left:0,top:0,bottom:0,right:0},Object.assign(this.padding,u||{}),this.maskBounds=c}return r(h,[{key:"update",value:function(){var t=this.targetEl,e=this.boundsEl,n=this.boxEl,i=this.pano,r=this.padding;if(this.shown){if(e&&(t=e),this.showPlaceholder){var o=this.panel.isEmptyOrWhitespace(t);o!=this.isPlaceholder&&(this.isPlaceholder=o)}var s=t.getBoundingClientRect();if(null!=this.maskBounds){var a={left:s.left,top:s.top,right:s.right,bottom:s.bottom};if(null!=this.maskBounds.bottomCalc){var l=this.maskBounds.bottomCalc();s.bottom>l&&(a.bottom=l-6)}if(null!=this.maskBounds.topCalc){var u=this.maskBounds.topCalc();s.top<u&&(a.top=u)}(s=a).width=s.right-s.left,s.height=s.bottom-s.top}var c=s.left-i.sceneRect.left-3-r.left,h=s.top-i.sceneRect.top-3-r.top,d=i.sceneRect.width-(c+s.width+6+r.right),p=i.sceneRect.height-(h+s.height+6+r.bottom);Object.assign(n.style,{left:c+"px",top:h+"px",right:d+"px",bottom:p+"px"}),n.clientHeight<3?n.style.visibility="hidden":n.style.visibility="visible"}}},{key:"show",value:function(){this.panel.shown&&!this.shown&&(this.shown=!0,this.update(),this.boxEl.style.display="block",this.boxEl.style.visibility="visible",null!=this.showCallback&&this.showCallback(),this.shouldAutoHide&&document.addEventListener("click",this.onCheckHide))}},{key:"hide",value:function(){if(this.panel.shown&&this.isPlaceholder)return null!=this.hideCallback&&this.hideCallback(),void(this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide));this.shown&&(this.shown=!1,this.boxEl.style.display="none",this.boxEl.style.visibility="hidden",null!=this.hideCallback&&this.hideCallback(),this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide))}},{key:"destroy",value:function(){document.removeEventListener("click",this.onCheckHide),this.pano.overlaysEl.removeChild(this.boxEl)}},{key:"isPlaceholder",set:function(t){this.placeHolder=t,this.boxEl.classList[t?"add":"remove"]("panel-selection-placeholder")},get:function(){return this.placeHolder}}]),h}.call(e,n,e,t))||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBackSpriteCanvas=void 0;var v=n(23),i=n(4).math,g=i.TWO_PI;i.HALF_PI,e.createBackSpriteCanvas=function(t,e){var n=document.createElement("canvas"),i=n.getContext("2d"),r=new THREE.CanvasTexture(n);n.width=512,n.height=512;function o(){i.clearRect(0,0,512,512),i.shadowColor="rgba(0, 0, 0, 0.85)",i.shadowBlur=40,i.shadowOffsetY=10,i.shadowOffsetX=5,i.fillStyle="rgba(0, 0, 0, 1)",i.beginPath(),i.arc(a,l,s,0,g,!1),i.fill()}var s=n.width/4-50,a=n.width/2,l=n.height/2;if("pulse"===t){var u=0,c=void 0,h=void 0,d=window.performance.now(),p=1;window.requestAnimationFrame(function t(e){o(),i.shadowColor="rgba(0, 0, 0, 0)",i.shadowBlur=0,i.shadowOffsetY=0,p=(e-d)/16,d=e,c=60+25*Math.sin(u),h=10*Math.sin(u+g),u+=.025*p,i.fillStyle="transparent",i.strokeStyle="rgba(255, 255, 255, 0.5)",i.lineWidth=35+h/2,i.beginPath(),i.arc(a,l,s+c,0,g,!1),i.stroke(),r.needsUpdate=!0,window.requestAnimationFrame(t)})}else"empty"===t?i.clearRect(0,0,512,512):o();var f=new THREE.SpriteMaterial({map:r});return(0,v.backTextureSettings)(r,f,e),{canvas:n,tex:r,mat:f}}},function(t,e,n){"use strict";var i,r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function c(t,e){var n=e.ownerSVGElement,i=t.touches,r=u(i=void 0===i?[t]:i,1)[0],o=r.clientX,s=r.clientY,a=n.createSVGPoint();a.x=o,a.y=s;var l=a.matrixTransform(e.getScreenCTM().inverse());return{pageX:l.x,pageY:l.y}}var p=n(7),f="#ffffff",v={lc:'url("CropLeftMiddle.cur"), auto',tc:'url("CropTopCenter.cur"), auto',rc:'url("CropRightMiddle.cur"), auto',bc:'url("CropBottomCenter.cur"), auto',tl:'url("CropTopLeft.cur"), auto',tr:'url("CropTopRight.cur"), auto',br:'url("CropBottomRight.cur"), auto',bl:'url("CropBottomLeft.cur"), auto'};function i(t,e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.onDown=function(t){t.currentTarget.dataset.dragRect?n.startDragRect(t):n.startDragControl(t),document.addEventListener("mouseup",n.onUp),document.addEventListener("touchend",n.onUp)},this.onMove=function(t){n.downDragRect?n.moveRectangle(t):n.downControl&&n.moveControl(t)},this.onUp=function(t){n.downControl=!1,n.downDragRect=!1,n.targetControl=null,document.removeEventListener("mouseup",n.onUp),document.removeEventListener("touchend",n.onUp)},this.container=document.querySelector(t),null==this.container&&console.warn("ImageCrop: no container found"),this.image=this.container.querySelector("img"),0!==this.image.width&&0!==this.image.height||console.warn("ImageCrop: image is not loaded"),this.createSvg(),this.x=0,this.y=0,this.right=this.image.naturalWidth,this.bottom=this.image.naturalHeight,this.edges={x:this.x,y:this.y,right:this.right,bottom:this.bottom},this.controls=[],this.controlXY={lc:{propX:"x",propY:null},tc:{propY:"y",propX:null},rc:{propX:"right",propY:null},bc:{propX:null,propY:"bottom"},tl:{propX:"x",propY:"y"},tr:{propX:"right",propY:"y"},br:{propX:"right",propY:"bottom"},bl:{propX:"x",propY:"bottom"}},document.addEventListener("mousemove",this.onMove),document.addEventListener("touchmove",this.onMove)}return r(i,[{key:"createSvg",value:function(){var t="0 0 "+parseFloat(this.image.naturalWidth)+" "+parseFloat(this.image.naturalHeight);this.svgLayer=document.createElement("div"),p.setStyles(this.svgLayer,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),this.svgLayer.innerHTML='\n        <svg class="crop-tool" style="width: 100%; height: 100%;overflow:hidden;" viewBox="'+t+'">\n          <g class="overlay-layer"><g>\n        </svg>\n      ',this.overlayLayer=this.svgLayer.querySelector(".overlay-layer"),this.container.appendChild(this.svgLayer)}},{key:"render",value:function(){this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"setCropRect",value:function(t){var e=t.left,n=t.top,i=t.right,r=t.bottom,o=t.width,s=t.height;this.x=e,this.y=n,this.right=i,this.bottom=r,null!=o&&(this.right=this.x+o),null!=s&&(this.bottom=this.y+s),this.render()}},{key:"getCropRect",value:function(){var t=this.x-.5,e=this.y-.5,n=this.right+.5,i=this.bottom+.5,r={left:t,top:e,right:n,bottom:i,width:n-t,height:i-e};for(var o in r)r[o]=Math.abs(Math.round(r[o]));return r}},{key:"adjustRect",value:function(){p.setAttributes(this.dragRect,{x:this.x,y:this.y,width:this.right-this.x,height:this.bottom-this.y})}},{key:"adjustPath",value:function(){p.setAttributes(this.path,{d:"\n          M "+(this.edges.x-50)+" "+(this.edges.y-50)+"\n          L "+(this.edges.right+50)+" "+(this.edges.y-50)+"\n          "+(this.edges.right+50)+" "+(this.edges.bottom+50)+"\n          "+(this.edges.x-50)+" "+(this.edges.bottom+50)+"\n          M "+this.x+" "+this.y+"\n          L "+this.right+" "+this.y+"\n            "+this.right+" "+this.bottom+"\n            "+this.x+" "+this.bottom+"\n            "+this.x+" "+this.y+"z\n        "})}},{key:"updateTransformControls",value:function(t){var o=this,s=1/(0<arguments.length&&void 0!==t?t:1)*.7;["tl","tr","br","bl"].forEach(function(t){var e=o.controls[t],n=e.lastElementChild.dataset.rot;e.lastElementChild.setAttribute("transform",n+" scale("+s+")"),e.firstElementChild.setAttribute("transform","scale("+s+")")}),["tc","rc","bc","lc"].forEach(function(t){var e=o.controls[t].firstElementChild,n=e.firstElementChild,i=e.lastElementChild,r=e.dataset.trans.replace("15",(15*s).toFixed(4));e.setAttribute("transform",r),n.setAttribute("transform","scale("+s+")"),i.setAttribute("transform","scale("+s+")")})}},{key:"adjustControls",value:function(){p.setAttributes(this.controls.tl,{"data-x":this.x,"data-y":this.y,transform:"translate("+this.x+" "+this.y+")"}),p.setAttributes(this.controls.tr,{"data-x":this.right,"data-y":this.y,transform:"translate("+this.right+" "+this.y+")"}),p.setAttributes(this.controls.br,{"data-x":this.right,"data-y":this.bottom,transform:"translate("+this.right+" "+this.bottom+")"}),p.setAttributes(this.controls.bl,{"data-x":this.x,"data-y":this.bottom,transform:"translate("+this.x+" "+this.bottom+")"});var t=this.x,e=this.y+(this.bottom-this.y)/2;p.setAttributes(this.controls.lc,{"data-x":t,"data-y":e,transform:"translate("+t+" "+e+")"}),t=this.right,p.setAttributes(this.controls.rc,{"data-x":t,"data-y":e,transform:"translate("+t+" "+e+")"}),t=this.x+(this.right-this.x)/2,e=this.y,p.setAttributes(this.controls.tc,{"data-x":t,"data-y":e,transform:"translate("+t+" "+e+")"}),e=this.bottom,p.setAttributes(this.controls.bc,{"data-x":t,"data-y":e,transform:"translate("+t+" "+e+")"})}},{key:"createCenterHandle",value:function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:"",o=d("g"),s=d("rect"),a=d("rect"),l=d("g");o.dataset.type=n,p.setAttributes(s,{x:0,y:0,width:15,height:30,fill:"transparent"}),p.setAttributes(a,{x:0,y:0,width:10,height:30,fill:"#000000","stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:f}),p.setAttributes(l,{"data-trans":r,transform:r}),p.setAttributes(o,{"data-x":t,"data-y":e,transform:"translate("+t+" "+e+")"}),o.classList.add("drag-control"),o.style.cursor=v[n],l.appendChild(s),l.appendChild(a),o.appendChild(l),this.controls.push(o),this.controls[n]=o,this.el.appendChild(o),o.addEventListener("mousedown",this.onDown),o.addEventListener("touchstart",this.onDown)}},{key:"createCornerHandle",value:function(t,e,n,i,r,o){var s=3<arguments.length&&void 0!==i?i:0,a=4<arguments.length&&void 0!==r?r:0,l=5<arguments.length&&void 0!==o?o:0,u=d("g"),c=d("rect"),h=d("path");u.dataset.type=n,p.setAttributes(c,{x:20*-a,y:20*-l,width:20,height:20,fill:"transparent"}),p.setAttributes(h,{d:"M 0 0 L 36 0 36 9 9 9 9 36 0 36z",transform:"rotate("+s+")","data-rot":"rotate("+s+")",fill:"#000000","stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:f}),p.setAttributes(u,{"data-x":t,"data-y":e,transform:"translate("+t+" "+e+")"}),u.classList.add("drag-control"),u.appendChild(c),u.appendChild(h),u.style.cursor=v[n],this.controls.push(u),this.controls[n]=u,this.el.appendChild(u),u.addEventListener("mousedown",this.onDown),u.addEventListener("touchstart",this.onDown)}},{key:"startDragRect",value:function(t){var e=c(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downDragRect=!0,this.startX=n-this.x,this.startY=i-this.y,this.startRight=n-this.right,this.startBottom=i-this.bottom,this.startWidth=this.right-this.x,this.startHeight=this.bottom-this.y}},{key:"startDragControl",value:function(t){var e=c(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downControl=!0,this.startX=n-parseFloat(this.targetControl.dataset.x),this.startY=i-parseFloat(this.targetControl.dataset.y)}},{key:"moveRectangle",value:function(t){var e=c(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.x=n-this.startX,this.y=i-this.startY,this.right=n-this.startRight,this.bottom=i-this.startBottom,this.x<=this.edges.x&&(this.x=this.edges.x,this.right=this.x+this.startWidth),this.y<=this.edges.y&&(this.y=this.edges.y,this.bottom=this.y+this.startHeight),this.right>=this.edges.right&&(this.x=this.edges.right-this.startWidth,this.right=this.edges.right),this.bottom>=this.edges.bottom&&(this.y=this.edges.bottom-this.startHeight,this.bottom=this.edges.bottom),this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"moveControl",value:function(t){var e=c(t,this.overlayLayer),n=e.pageX,i=e.pageY,r=n-this.startX,o=i-this.startY,s=this.targetControl.dataset.type,a=this.controlXY[s],l=a.propX,u=a.propY;null!=this[l]&&(this[l]=r),null!=this[u]&&(this[u]=o),"x"===l?(this.x<=this.edges.x&&(r=this.x=this.edges.x),this.x>=this.right-100&&(r=this.x=this.right-100)):"right"===l&&(this.right>=this.edges.right&&(r=this.right=this.edges.right),this.right<=this.x+100&&(r=this.right=this.x+100)),"y"===u?(this.y<=this.edges.y&&(o=this.y=this.edges.y),this.y>=this.bottom-100&&(o=this.y=this.bottom-100)):"bottom"===u&&(this.bottom>=this.edges.bottom&&(o=this.bottom=this.edges.bottom),this.bottom<=this.y+100&&(o=this.bottom=this.y+100)),this.adjustControls(),this.adjustPath(),this.adjustRect()}},{key:"setupDragRect",value:function(){this.dragRect=d("rect"),this.dragRect.style.pointerEvents="all",this.dragRect.addEventListener("mousedown",this.onDown),this.dragRect.addEventListener("touchstart",this.onDown),p.setAttributes(this.dragRect,{"data-drag-rect":!0,x:0,y:0,width:0,height:0,fill:"transparent"}),this.dragRect.classList.add("drag-control"),this.adjustRect(),this.el.appendChild(this.dragRect)}},{key:"setupPath",value:function(){var t;this.path=d("path"),this.d="M 0 0 L 0 0",p.setAttributes(this.path,(s(t={stroke:f,"vector-effect":"non-scaling-stroke","stroke-width":1},"vector-effect","non-scaling-stroke"),s(t,"fill","rgba(0, 0, 0, 0.3)"),s(t,"fill-rule","evenodd"),t)),this.adjustPath(),this.el.appendChild(this.path)}},{key:"setupControls",value:function(){this.createCornerHandle(this.x,this.y,"tl"),this.createCornerHandle(this.right,this.y,"tr",90,1),this.createCornerHandle(this.right,this.bottom,"br",180,1,1),this.createCornerHandle(this.x,this.bottom,"bl",270,0,1),this.createCenterHandle(this.x+(this.right-this.x)/2,this.y,"tc","translate(15 0) rotate(90)","ns-resize"),this.createCenterHandle(this.x,this.y+(this.bottom-this.y)/2,"lc","translate(0 -15)","ew-resize"),this.createCenterHandle(this.right,this.y+(this.bottom-this.y)/2,"rc","translate(0 15) rotate(180)","ew-resize"),this.createCenterHandle(this.x+(this.right-this.x)/2,this.bottom,"bc","translate(-15 0) rotate(-90)","ns-resize")}},{key:"setupElement",value:function(){this.container.appendChild(this.svgLayer),this.el=d("g"),this.overlayLayer.appendChild(this.el),this.setupDragRect(),this.setupPath(),this.setupControls()}},{key:"show",value:function(){document.body.classList.add("crop-tool-shown"),this.setupElement()}},{key:"hide",value:function(){var e=this;document.body.classList.remove("crop-tool-shown"),this.svgLayer.parentNode.removeChild(this.svgLayer),this.el.parentNode.removeChild(this.el),document.removeEventListener("mousemove",this.onMove),document.removeEventListener("touchmove",this.onMove),this.controls.forEach(function(t){t.removeEventListener("mousedown",e.onDown),t.removeEventListener("touchstart",e.onDown)})}}]),i}.call(e,n,e,t))||(t.exports=i)},function(t,e,r){"use strict";var n,o=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(n=function(t){var s=r(20),a=(r(62),r(104)),l=r(60),u=r(1),c=r(41).navigation,h=r(21).modes,e=r(23),n=(e.isRightClick,e.isLeftClickOrTouch);function i(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.onDoubleClick=function(t){if(e.pano.editMode){if(null!=e.currHotspot){if(e.currHotspot.pointAdditionPrevented)return;if(e.currHotspot.points.length<=2)return void e.deleteUnfinishedHotspot();if(e.mouseDidNotMove(t)||e.currHotspot.preventOverlapClose())return e.preventCloseLine.setVerts([e.currHotspot.points[0],e.currHotspot.oldClosingPoint]),e.preventCloseLine.show(),setTimeout(function(){e.preventCloseLine.hide()},200),e.lastX=t.clientX,void(e.lastY=t.clientY)}e.finishCurrent()}},this.pano=t,this.hotspots=[],this.targetObject=this.pano.sphereMesh,this.raycaster=new s.Raycaster,this.previewPoints=[new s.Vector3,new s.Vector3],this.setupMaterials(),this.setupPreventClose(),this.drag={},document.addEventListener("dblclick",this.onDoubleClick)}return o(i,[{key:"setupPreventClose",value:function(){var e=this;this.preventCloseLine={meshLine:new s.MeshLine,lineGeom:new s.Geometry,show:function(){e.pano.scene.add(e.preventCloseLine.line)},hide:function(){e.pano.scene.remove(e.preventCloseLine.line)},setVerts:function(t){e.preventCloseLine.lineGeom.vertices=t,e.preventCloseLine.meshLine.setGeometry(e.preventCloseLine.lineGeom)}},this.preventCloseLine.setVerts([new s.Vector3,new s.Vector3]),this.preventCloseLine.meshLine.setGeometry(this.preventCloseLine.lineGeom),this.preventCloseLine.line=new s.Mesh(this.preventCloseLine.meshLine.geometry,this.redLineMaterial)}},{key:"deleteUnfinishedHotspot",value:function(){if(null!=this.currHotspot&&!this.currHotspot.finished){var t=this.currHotspot;t.deleteUnfinished=!0,this.finishCurrent(!0),this.pano.removeMarker(t.marker.id)}}},{key:"isEditing",value:function(){return this.creatingHotspot||null!=this.draggableHotspot||null!=this.draggablePoint}},{key:"setupMaterials",value:function(){this.previewLineMaterial=new s.MeshLineMaterial({color:"white",resolution:new s.Vector2(100,100),sizeAttenuation:0,lineWidth:.8,side:s.DoubleSide}),this.redLineMaterial=new s.MeshLineMaterial({color:"red",resolution:new s.Vector2(100,100),sizeAttenuation:0,lineWidth:.8,side:s.DoubleSide})}},{key:"updateColors",value:function(){var e=this;this.pano.scene.children.filter(function(t){return t.userData.isPolyHotspot}).forEach(function(t){return t.userData.hotspot.updateColor(e.pano.hotspotMeshColor)})}},{key:"createHotspotAtPoint",value:function(e,t){var n=this.beginHotspot(e,t),i=[new s.Vector3(-100,-100,0),new s.Vector3(100,-100,0),new s.Vector3(100,100,0),new s.Vector3(-100,100,0)],r=n.plane.quaternion.conjugate();i.forEach(function(t){t.add(e),t.applyQuaternion(r)}),n.createPointObj(),this.creatingHotspot=!0,n.extendRect(i[0],i[1],i[2],i[3]),n.finish(!0),this.creatingHotspot=!1,this.pano.scene.add(n.plane),n.drag(e)}},{key:"createHotspot",value:function(t,e){var n=JSON.parse(window.atob(t)),i=this.beginHotspot(n.origin,e);return i.loadData(n),this.creatingHotspot=!1,i}},{key:"beginHotspot",value:function(t,e,n){var i=new s.PlaneGeometry(5e3,5e3,32),r=new s.MeshBasicMaterial({color:"red",depthTest:!1,transparent:!0,opacity:0}),o=new s.Mesh(i,r);return o.position.copy(t),o.layers.set(1),o.layers.enable(1),o.lookAt(this.pano.camera.position),this.pano.scene.add(o),this.targetObject=o,this.currHotspot=new a({layer:this,pano:this.pano,loc:t,marker:e,finishedFn:n}),this.creatingHotspot=!0,this.currHotspot.plane=o,this.currHotspot}},{key:"finishCurrent",value:function(t){null==this.currHotspot||this.currHotspot.finished||(this.currHotspot.finish(t),this.creatingHotspot=!1,this.downIntersect=null,this.line&&(this.line.visible=!1))}},{key:"resetPreviewLine",value:function(t){var e=this,n=0<arguments.length&&void 0!==t&&t;this.downIntersect=this.lastDownIntersect,this.previewLineMaterial.color,n||(this.previewLineMaterial.color.set("#ff0000"),setTimeout(function(){e.previewLineMaterial.color.set("#ffffff")},200))}},{key:"calcMouseRay",value:function(t,e){this.pano.mouseRay.x=t/window.innerWidth*2-1,this.pano.mouseRay.y=2*-(e/window.innerHeight)+1}},{key:"getHotspotIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var n=this.pano.scene.children.filter(function(t){return!0===t.userData.isPolyHotspot}),i=this.raycaster.intersectObjects(n),r=void 0;return 0<i.length&&(i[0].point,r=i[0]),r}},{key:"dragHotspot",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var n=this.raycaster.intersectObject(this.pano.sphereMesh),i=void 0;if(0<n.length){var r=this.draggableHotspot.userData.hotspot;this.currHotspot=r;var o=n[0].point;i=n[0],this.drag.started||(this.drag.startX=o.x-r.originPnt.x,this.drag.startY=o.y-r.originPnt.y,this.drag.startZ=o.z-r.originPnt.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(o.set(o.x-this.drag.startX,o.y-this.drag.startY,o.z-this.drag.startZ),this.drag.count++),r.drag(o)}return i}},{key:"dragControlPoint",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var n=this.draggablePoint,i=n.userData.hotspot,r=this.raycaster.intersectObject(i.plane);null==r&&(r=this.raycaster.intersectObject(this.pano.sphereMesh));var o=void 0;if(0<r.length){var s=r[0].point;o=r[0],this.beginDragPoint||(i.startDragPoint(),this.beginDragPoint=!0),i.dragControlPoint(n,s)}return o}},{key:"getControlPointIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);for(var n=[],i=0;i<this.pano.scene.children.length;i++){var r=this.pano.scene.children[i];if(null!=r.userData.controlGroup)for(var o=0;o<r.children.length;o++)n.push(r.children[o])}var s=this.raycaster.intersectObjects(n),a=void 0;return 0<s.length&&(a=s[0]),a}},{key:"mouseDidNotMove",value:function(t){return this.lastX==t.clientX&&this.lastY==t.clientY}},{key:"startDragHotspot",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);n&&(this.draggableHotspot=n.object,this.pano.setCurrMarker(this.draggableHotspot.userData.marker.sprite))}}},{key:"drawRect",value:function(t,e){if(!(this.currHotspot.pointCalls&&1<this.currHotspot.pointCalls)&&this.down&&2<this.downCount&&null!=this.startIntersect){var n=this.startIntersect,i=this.getIntersection(t,this.startLoc.pageY),r=this.getIntersection(t,e),o=this.getIntersection(this.startLoc.pageX,e);return null!=n&&null!=i&&null!=r&&null!=o&&(this.line.visible=!1,this.currHotspot.extendRect(n.point,i.point,r.point,o.point),this.finishOnUp=!0),!0}}},{key:"drawPreviewLine",value:function(t,e){if(null!=this.downIntersect&&null!=this.currHotspot&&!this.currHotspot.isRectangle){var n=this.getIntersection(t,e);if(null!=n){this.previewPoints=[this.downIntersect,n.point],this.updateOrCreatePreviewLine(),this.lineGeom.vertices=this.previewPoints,this.line.visible=!0,this.meshLine.setGeometry(this.lineGeom);var i=this.currHotspot.getFirstPoint();if(null!=this.currHotspot&&null!=i)if(this.currHotspot.pointsReversed&&this.currHotspot.sprites.length,n.point.distanceTo(i)<20){for(var r=0;r<this.currHotspot.sprites.length;r++)if(i.distanceTo(this.currHotspot.sprites[r].position)<20){this.lastEndOverSprite=this.currHotspot.sprites[r],this.currHotspot.sprites[r].material.color.set(this.pano.hotspotMeshColor);break}}else this.lastEndOverSprite&&this.lastEndOverSprite.material.color.set("#ffffff")}}}},{key:"normalRelease",value:function(t,e){if(this.normalDown){var n=this.getHotspotIntersection(t,e);if(n){var i=n.object.userData.marker;i.props.hasPanel&&"visible"!==i.panel.el.style.visibility||i.triggerEvent("onlinkrelease",i.sprite.userData.id)}}this.normalDown=!1}},{key:"normalMouseDown",value:function(n,i){var r=this,t=this.getHotspotIntersection(n,i);if(t){var e=t.object.userData.hotspot;if(l.hideLast(u.getPath(e,"markers")),e){this.currHotspot=e;var o=t.object.userData.marker;this.normalDown=!0,window.requestAnimationFrame(function(){var t=o.panel;if(o.props.hasPanel&&"hidden"===t.el.style.visibility)if(t.shown)t.hide(!0);else{var e=r.pano.toDomCoords(n,i);t.show(!0,e)}o.setVisited()}),this.pano.stopVelocity(),this.pano.navigation.type===c.FREE&&(this.pano.revealingHotspotById=o.id,this.pano.revealHotspotAnimation())}else this.currHotspot=null}else this.pano.revealingHotspotById=null;return t}},{key:"editorMouseDown",value:function(i,r){var o=this,s=this.getHotspotIntersection(i,r);if(s){l.hideLast();var a=s.object.userData.hotspot;null!=a&&window.requestAnimationFrame(function(){var t=s.object.userData.marker,e=t.panel;if(t.props.hasPanel&&"hidden"===e.el.style.visibility){if(e.shown)e.hide(!0),o.showingPanel=null;else{var n=o.pano.toDomCoords(i,r);e.show(!0,n),o.showingPanel=e}e.bodyEl.blur()}o.currHotspot=a,o.pano.setCurrMarker(t.sprite)})}else this.currHotspot=null}},{key:"mouseDownAnyHotspot",value:function(t,e){var n=this.getHotspotIntersection(t,e);this.currHotspot=null==n?null:n.object.userData.hotspot}},{key:"addPoint",value:function(t){var e=this.currHotspot.addPoint(t.point);null!=e&&(null!=this.downIntersect&&(this.lastDownIntersect=this.downIntersect.clone()),this.downIntersect=e)}},{key:"startDragControlPoint",value:function(t,e){if(!this.creatingHotspot){var n=this.getControlPointIntersection(t,e);if(n){this.draggablePoint=n.object,this.draggablePoint.userData.hotspot.activatePlane(),this.pano.setCurrMarker(this.draggablePoint.userData.marker.sprite);var i=this.draggablePoint.userData.hotspot;return i.lastDraggedPoint=this.draggablePoint,i.downControlPoint(this.draggablePoint),!0}}}},{key:"startDragHotspot",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);n&&(this.draggableHotspot=n.object,this.pano.setCurrMarker(this.draggableHotspot.userData.marker.sprite))}}},{key:"onMouseDown",value:function(t,i,r){var o=this;if(this.pano.mode!==h.SET_INITIAL_CAMERA_ANGLE&&n(t)){if(!this.pano.editMode)return this.normalMouseDown(i,r);this.downCount=0,this.down=!0,this.startDragControlPoint(i,r)||(this.startDragHotspot(i,r),window.requestAnimationFrame(function(){var t=o.getIntersection(i,r);o.startIntersect=t,o.startLoc={pageX:i,pageY:r};var e=null!=t&&null!=o.currHotspot&&!o.currHotspot.finished,n=null!=o.currHotspot&&o.currHotspot.finished;e?o.addPoint(t):n||null==o.currHotspot?o.editorMouseDown(i,r):o.mouseDownAnyHotspot(i,r)}))}}},{key:"hotspotOverOut",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);if(n){var i=n.object.userData.hotspot;i!=this.lastHotspotOver&&i.mouseOut(),this.isHotspotClickable(i)&&(i.mouseOver(),this.showCursor=!0,this.lastHotspotOver=i)}else this.lastHotspotOver&&(this.lastHotspotOver.mouseOut(),this.lastHotspotOver=null)}}},{key:"isHotspotClickable",value:function(t){return this.pano.navigation.type===c.FREE||t.canClick}},{key:"controlPointOver",value:function(t,e){var n=this.getControlPointIntersection(t,e);if(!this.down)if(n){this.showCursor=!0;var i=n.object,r=i.userData.hotspot;r.overSprite(i.uuid),this.lastCntrlHot={hot:r,cntrl:i}}else if(null!=this.lastCntrlHot){var o=this.lastCntrlHot,s=o.cntrl;o.hot.outSprite(s.uuid),this.lastCntrlHot=null}}},{key:"handleCursor",value:function(t){var e=this.pano.el;this.pano.mode==h.DEFAULT&&(null==e.style.cursor||this.showCursor||(e.style.cursor=null),this.creatingHotspot||!this.showCursor&&null==this.draggablePoint&&null==this.draggableHotspot||(e.style.cursor=t))}},{key:"onMouseMove",value:function(t,e,n){if(this.pano.mode!==h.SET_INITIAL_CAMERA_ANGLE)if(this.showCursor=!1,this.hotspotOverOut(e,n),this.pano.editMode)if(this.controlPointOver(e,n),this.handleCursor(this.down?'url("Moving.cur"), auto':'url("Move.cur"), auto'),this.downCount++,this.creatingHotspot){if(this.drawRect(e,n))return;this.drawPreviewLine(e,n)}else{if(this.draggablePoint)return this.showingPanel&&4<this.downCount&&this.showingPanel.hide(),void this.dragControlPoint(e,n);if(this.draggableHotspot)return this.showingPanel&&8<this.downCount&&this.showingPanel.hide(),void this.dragHotspot(e,n)}else this.handleCursor("pointer")}},{key:"onMouseUp",value:function(t,e,n){var i=this;if(this.pano.mode!==h.SET_INITIAL_CAMERA_ANGLE&&(this.normalRelease(e,n),this.pano.editMode)){if(this.down=!1,this.downCount=0,this.draggableHotspot&&(this.draggableHotspot.userData.hotspot.updateData(),this.draggableHotspot=null),this.draggablePoint){var r=this.draggablePoint.userData.hotspot;r.stopDragControlPoint(),r.updateData(),this.draggablePoint=null,this.beginDragPoint=!1,this.currHotspot=r,this.pano.setCurrMarker(r.marker.sprite)}this.drag.started=!1,this.finishOnUp&&(window.requestAnimationFrame(function(){i.finishCurrent()}),this.finishOnUp=!1)}}},{key:"updateOrCreatePreviewLine",value:function(){null==this.line&&(this.meshLine=new s.MeshLine,this.lineGeom=new s.Geometry,this.lineGeom.vertices=this.previewPoints,this.meshLine.setGeometry(this.lineGeom),this.line=new s.Mesh(this.meshLine.geometry,this.previewLineMaterial),this.pano.scene.add(this.line))}},{key:"getIntersection",value:function(t,e){if(this.targetObject){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var n=this.raycaster.intersectObject(this.targetObject);if(0<n.length)return n[0];if(this.targetObject!=this.pano.sphereMesh){var i=this.raycaster.intersectObject(this.pano.sphereMesh);if(0<i.length)return i[0]}}}},{key:"currHotspot",set:function(t){this.currControlPoint||(null!=t&&t==this.lastActiveHotspot||this.lastActiveHotspot&&(this.lastActiveHotspot.deselect(),this.lastActiveHotspot=null),null!=t&&(this.currentActiveHotspot=t,(this.lastActiveHotspot=t).finished&&t.select()))},get:function(){return this.currentActiveHotspot}},{key:"opacity",set:function(e){var n=this;this.hotspotOpacity=e,this.hotspots.forEach(function(t){null==n.pano.revealingHotspotById||t.marker.id===n.pano.revealingHotspotById?t.opacity=e:t.opacity=0})},get:function(){return this.hotspotOpacity}}]),i}.call(e,r,e,t))||(t.exports=n)},function(t,e,r){"use strict";var n,l=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(n=function(t){var a=r(20),n=(r(62),r(21).modes),i=r(41).navigation;function u(t,e,n,i){var r,o={x:0,y:0},s=i.x-n.x,a=i.y-n.y,l=e.x-t.x,u=e.y-t.y,c=t.x-n.x,h=t.y-n.y,d=void 0,p=void 0;return d=s*h-a*c,p=l*h-u*c,p/=r=a*l-s*u,0<=(d/=r)&&d<=1&&0<=p&&p<=1?(p=t.y+d*u,d=t.x+d*l,o.x=d,o.y=p):o=null,o}if(null!=a&&null!=a.Vector3){var o=new a.Vector3(0,0,0);return l(s,[{key:"cntrlPointText",value:function(){var t,e=void 0,n=void 0;return n=(e=document.createElement("canvas")).getContext("2d"),e.width=32,e.height=32,n.fillStyle="white",n.strokeStyle="gray",n.lineWidth=4,n.fillRect(0,0,e.width,e.height),n.strokeRect(0,0,e.width,e.height),{tex:t=new a.CanvasTexture(e),ctx:n,mat:new a.SpriteMaterial({map:t,sizeAttenuation:!1}),width:e.width,height:e.height}}},{key:"select",value:function(){this.selected=!0,this.pano.editMode&&(this.pano.mode!==n.SET_INITIAL_CAMERA_ANGLE&&(this.pointsGroup.visible=!0),this.layer.lastActiveHotspot=this)}},{key:"deselect",value:function(){this.selected=!1,this.pano.editMode&&(this.pointsGroup.visible=!1,this.outOnAll(!0))}},{key:"updateColor",value:function(t){this.meshMaterial.color.set(t),this.borderMaterial.color.set(t)}},{key:"mouseOver",value:function(){this.over=!0}},{key:"mouseOut",value:function(){this.out=!0}},{key:"getFirstPoint",value:function(){return this.firstPointAdded}},{key:"deletePoint",value:function(t){null!=this.points[t]&&(this.meshesToGlobal(),this.points.splice(t,1),this.killSprites(),this.recalcMeshes(!1))}},{key:"delete",value:function(t){if(!this.pointSelected||this.points.length<=3||this.deleteUnfinished||t){this.borderMesh.geometry.dispose(),this.pointsObj.geometry.dispose(),null!=this.shapeMesh&&(this.pano.scene.remove(this.shapeMesh),this.shapeMesh.geometry.dispose());for(var e=0;e<this.sprites.length;e++)this.sprites[e].material.dispose(),this.sprites[e].geometry.dispose(),this.pano.scene.remove(this.sprites[e]);return this.pano.scene.remove(this.borderMesh),this.pano.scene.remove(this.pointsObj),this.pano.scene.remove(this.pointsGroup),!1}return this.deletePoint(this.lastPointIdx),this.pointSelected=!1,!(this.lastPointIdx=null)}},{key:"drawBorderMesh",value:function(){var t=this.points.concat();0!=t.length&&(1<t.length&&t.push(t[0].clone()),null==this.meshLine&&(this.meshLine=new a.MeshLine,this.lineGeom=new a.Geometry),this.finished||this.isRectangle||t.pop(),this.lineGeom.vertices=t,this.meshLine.setGeometry(this.lineGeom),null==this.borderMesh&&(this.borderMesh=new a.Mesh(this.meshLine.geometry,this.borderMaterial),this.pano.scene.add(this.borderMesh)))}},{key:"loadData",value:function(t){this.finished=!0,this.points=t.points.map(function(t){return new a.Vector3(t.x,t.y,t.z)}),this.createPointObj(),this.pano.editMode||(this.pointsObj.visible=!1),this.drawMesh(),this.drawBorderMesh(),this.originPnt=this.firstPoint=new a.Vector3(t.origin.x,t.origin.y,t.origin.z),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint);var e=new a.Quaternion(t.quat.x,t.quat.y,t.quat.z,t.quat.w);this.shapeMesh.quaternion.copy(e),this.borderMesh.quaternion.copy(e),this.pointsObj.quaternion.copy(e),this.pano.scene.remove(this.plane),this.positionControlsPoints(),this.pointsGroup.visible=!1,this.drag(t.dragPoint),!this.pano.editMode&&this.pano.navigation.type!==i.FREE||(this.shapeMesh.visible=!0)}},{key:"getData",value:function(){if(this.shapeMesh){var t=this.shapeMesh.quaternion,e=t.x,n=t.y,i=t.z,r=t.w;return this.data={points:this.points,origin:this.originPnt,dragPoint:this.originPnt,quat:{x:e,y:n,z:i,w:r}},window.btoa(JSON.stringify(this.data))}}},{key:"killSprites",value:function(){for(var t=0;t<this.sprites.length;t++)this.sprites[t].material.dispose(),this.sprites[t].geometry.dispose(),this.pano.scene.remove(this.sprites[t]);this.sprites=[],this.spriteMap={}}},{key:"drawMesh",value:function(t){var e=this.points.concat();if(this.drawBorderMesh(e),function(t){for(var e=0,n=0;n<t.length;n++){var i=t[n],r=t[(n+1)%t.length];e+=(r.x-i.x)*(r.y+i.y)}return 0<e}(e)||(e.reverse(),this.pointsReversed=!0),e.push(e[0].clone()),2<e.length){null!=this.shapeMesh&&(this.shapeMesh.geometry.dispose(),this.pano.scene.remove(this.shapeMesh));var n=new a.Shape(e),i=new a.ShapeGeometry(n);i.vertices=e,this.shapeMesh=new a.Mesh(i,this.meshMaterial),this.shapeMesh.userData.isPolyHotspot=!0,this.shapeMesh.userData.marker=this.marker,(this.shapeMesh.userData.hotspot=this).shapeMesh.visible=!1,this.pano.scene.add(this.shapeMesh)}if(!t){this.killSprites();for(var r=0;r<e.length-1;r++){var o=this.cntrlPointText();o.mat.depthTest=!1;var s=new a.Sprite(o.mat);s.renderOrder=10,(this.spriteMap[s.uuid]=s).userData.isHotspotControlPoint=!0,s.userData.cntrlTex=o,s.userData.marker=this.marker,s.userData.hotspot=this,s.userData.idx=r,s.scale.set(.025,.025,1),this.pano.scene.add(s),s.position.copy(e[r]),this.sprites.push(s)}this.firstSrpite=this.pointsReversed?this.sprites[this.sprites.length-1]:this.sprites[0]}}},{key:"activeSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){var i=(this.lastActiveSprite=n).userData.cntrlTex,r=i.ctx,o=i.tex,s=i.width,a=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,s,a),r.strokeRect(0,0,s,a),o.needsUpdate=!0}}},{key:"overSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===n.userData.idx)return;var i=n.userData.cntrlTex,r=i.ctx,o=i.tex,s=i.width,a=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,s,a),r.strokeRect(0,0,s,a),o.needsUpdate=!0}}},{key:"outOnAll",value:function(e){var n=this;this.sprites.forEach(function(t){n.outSprite(null,t,e)})}},{key:"outSprite",value:function(t,e,n){var i=this.spriteMap[t]||e;if(null!=i){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===i.userData.idx&&!n)return;var r=i.userData.cntrlTex,o=r.ctx,s=r.tex,a=r.width,l=r.height;o.fillStyle="white",o.strokeStyle="gray",o.lineWidth=4,o.fillRect(0,0,a,l),o.strokeRect(0,0,a,l),s.needsUpdate=!0}}},{key:"createPointObj",value:function(){this.pointsGeom=new a.BufferGeometry,this.pointsGeom.setFromPoints(this.points),this.pointsGroup=new a.Group,this.pointsObj=new a.Points(this.pointsGeom,new a.PointsMaterial({color:"white",size:25,side:a.DoubleSide})),this.pointsGroup.userData.controlGroup=!0,(this.pointsObj.userData.hotspot=this).pointsObj.frustumCulled=!1,this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"getCenterPoint",value:function(t){var e=new a.Vector3,n=t.geometry;return n.computeBoundingBox(),e.x=(n.boundingBox.max.x+n.boundingBox.min.x)/2,e.y=(n.boundingBox.max.y+n.boundingBox.min.y)/2,e.z=(n.boundingBox.max.z+n.boundingBox.min.z)/2,t.localToWorld(e),e}},{key:"activatePlane",value:function(){this.pano.scene.add(this.plane),this.plane.lookAt(o)}},{key:"downControlPoint",value:function(t){this.lastPointIdx=t.userData.idx,this.pointSelected=!0,this.outOnAll(),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"startDragPoint",value:function(){this.meshesToGlobal(),this.dragCount=0}},{key:"dragControlPoint",value:function(t,e){0===this.dragCount&&(this.origDragPoint=this.points[t.userData.idx].clone(),this.origControlPoint=t),this.dragCount++,this.points[t.userData.idx].copy(e),this.lastPointIdx=t.userData.idx,this.drawMesh(),this.shapeMesh.visible=!1,this.drawBorderMesh(),this.outOnAll()}},{key:"stopDragControlPoint",value:function(){this.anyOverlappingLines()&&this.dragControlPoint(this.origControlPoint,this.origDragPoint),this.shapeMesh.visible||(this.recalcMeshes(),this.shapeMesh.visible=!0,this.pano.scene.remove(this.plane)),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"drag",value:function(t,e){var n=1<arguments.length&&void 0!==e&&e;if(!this.meshGlobal){this.lastDraggedPoint=null;for(var i=0;i<this.sprites.length;i++)this.outSprite(null,this.sprites[i],!0);if(this.pointSelected=!1,this.originPnt.copy(t),this.shapeMesh.position.copy(t),this.borderMesh.position.copy(t),this.pointsObj.position.copy(t),this.pointsGroup.position.copy(t),this.plane.position.copy(t),this.shapeMesh.lookAt(o),this.borderMesh.lookAt(o),this.pointsObj.lookAt(o),this.pointsGroup.lookAt(o),this.plane.lookAt(o),"hotspot"===this.marker.props.type&&!n){var r=this.getCenterPoint(this.shapeMesh);this.marker.updatePosition(r.x,r.y,r.z)}}}},{key:"extendRect",value:function(t,e,n,i){this.finished||(this.points=[t,e,n,i],this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.isRectangle=!0)}},{key:"linesFromProjectionResults",value:function(t,e){for(var n=[],i=1;i<t.length;i++){var r=t[i-1],o=t[i];null!=r&&null!=o&&n.push({a:{x:r.x,y:r.y,id:r.object.userData.idx},b:{x:o.x,y:o.y,id:o.object.userData.idx}})}if(e){var s=t[t.length-1],a=t[0],l=void 0;return null!=s&&null!=a&&(l={a:{x:s.x,y:s.y,idx:s.object.userData.idx},b:{x:a.x,y:a.y,idx:a.object.userData.idx}}),{lines:n,closeLine:l}}return n}},{key:"tailLineIntersect",value:function(t){for(var e=t[t.length-1],n=0;n<t.length-2;n++){var i=t[n];if(null!=u(e.a,e.b,i.a,i.b))return!0}}},{key:"endsWithOverlappingLine",value:function(){var t=this.projectSprites();this.pointsReversed&&t.reverse();var e=this.linesFromProjectionResults(t);if(2<e.length){if(this.tailLineIntersect(e))return!0;if(e.reverse(),this.tailLineIntersect(e))return!0}return!1}},{key:"anyOverlappingLines",value:function(){var t=this.projectSprites(),e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;null!=i&&n.push(i);for(var r=0;r<n.length;r++)for(var o=n[r],s=0;s<n.length;s++){var a=Math.abs(r-s);if(!(a<=1||a===n.length-1)){var l=n[s];if(null!=u(l.a,l.b,o.a,o.b))return!0}}return!1}},{key:"closingHasOverlap",value:function(){if(!(this.points.length<4)){var t=this.projectSprites();this.pointsReversed&&t.reverse();var e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;if(null==i)return!1;for(var r=1;r<n.length-1;r++){var o=n[r];if(null!=u(i.a,i.b,o.a,o.b))return!0}return!1}}},{key:"preventOverlapClose",value:function(){var t=this.closingHasOverlap();if(t){var e=void 0;return this.points.length>this.lastClosingLength||!this.lastClosingLength?(e=this.points.pop(),this.pointAdditionPrevented=!0,this.oldClosingPoint=e):e=this.oldClosingPoint,this.lastClosingLength=this.points.length,this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(!0),this.failedClosingPoint=e,this.points[this.points.length-1]}return t}},{key:"projectSprites",value:function(){if(null==this.spriteMap)return[];this.pano.viewMatrix.copy(this.pano.camera.matrixWorldInverse),this.pano.viewProjectionMatrix.multiplyMatrices(this.pano.camera.projectionMatrix,this.pano.viewMatrix),this.pano.renderData=this.pano.projector.projectScene(this.pano.scene,this.pano.camera),this.pano.elements=this.pano.renderData.elements,this.pano.calcSceneRect();for(var t=[],e=0;e<this.pano.elements.length;e++){var n=this.pano.elements[e];null!=n.object&&this.spriteMap[n.object.uuid]&&(n.x*=this.pano.sceneRect.width/2,n.y*=-this.pano.sceneRect.height/2,t[n.object.userData.idx]=n)}return t}},{key:"addPoint",value:function(t){if(!(this.finished||this.isRectangle||(this.pointAdditionPrevented=!1,this.pointCalls++,null!=this.lastPoint&&t.distanceTo(this.lastPoint)<20)))return this.lastPoint=new a.Vector3(t.x,t.y,t.z),this.points.push(this.lastPoint),1==this.points.length&&(this.firstPointAdded=t,this.createPointObj()),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),null!=this.lastPoint&&2<this.points.length&&t.distanceTo(this.firstPointAdded)<20&&!this.anyOverlappingLines()?(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.finishCurrent(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1]):2<this.points.length&&this.endsWithOverlappingLine(t)&&(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1]),this.lastPoint}},{key:"calcCenter",value:function(){this.center=new a.Vector3(0,0,0);for(var t=0;t<this.points.length;t++)this.center.add(this.points[t]);this.center.x/=this.points.length,this.center.y/=this.points.length,this.center.z/=this.points.length,this.center.add(this.shapeMesh.position)}},{key:"positionControlsPoints",value:function(){for(var t=0;t<this.sprites.length;t++)null!=this.points[t]&&(this.sprites[t].userData.idx=t,this.sprites[t].position.copy(this.points[t]),this.pointsGroup.add(this.sprites[t]));this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"meshesToGlobal",value:function(){if(!this.meshGlobal){this.savedPoints=this.points.concat(),this.oldQuat=this.shapeMesh.quaternion.clone().conjugate();for(var t=0;t<this.points.length;t++)this.points[t]=new a.Vector3,this.sprites[t].getWorldPosition(this.points[t]);this.shapeMesh.position.copy(o),this.borderMesh.position.copy(o),this.pointsObj.position.copy(o);var e=new a.Quaternion;this.shapeMesh.quaternion.copy(e),this.borderMesh.quaternion.copy(e),this.pointsObj.quaternion.copy(e);for(var n=0;n<this.sprites.length;n++)null!=this.sprites[n]&&this.pointsGroup.remove(this.sprites[n]);this.drawMesh(),this.drawBorderMesh(),this.meshGlobal=!0,this.meshRecalced=!1}}},{key:"recalcMeshes",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;if(!(this.meshRecalced||this.points.length<=2)){this.originPnt?this.firstPoint=this.originPnt:this.originPnt=this.firstPoint=this.points[0].clone();for(var n=0;n<this.points.length;n++)this.points[n].x+=-this.firstPoint.x,this.points[n].y+=-this.firstPoint.y,this.points[n].z+=-this.firstPoint.z;var i=this.oldQuat||this.plane.quaternion.conjugate();this.points.forEach(function(t){t.applyQuaternion(i)}),this.pointsGeom.setFromPoints(this.points),this.drawMesh(e),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint),this.drawBorderMesh();var r=i.conjugate();this.shapeMesh.quaternion.copy(r),this.borderMesh.quaternion.copy(r),this.pointsObj.quaternion.copy(r),this.oldQuat=null,this.calcCenter(),"hotspot"===this.marker.props.type&&this.marker.updatePosition(this.center.x,this.center.y,this.center.z),this.pointsGroup.position.copy(this.firstPoint),this.pointsGroup.quaternion.copy(r),this.positionControlsPoints(),this.shapeMesh.visible=!0,this.meshGlobal=!1,this.meshRecalced=!0}}},{key:"updateData",value:function(){if(!(this.points.length<=2)){var t=this.getData();this.marker.adjust({props:{hotspotData:t}})}}},{key:"finish",value:function(t){var e=this;this.finished=!0,this.recalcMeshes(),this.pano.scene.remove(this.plane),null!=this.finishedFn&&(this.finishedFn(),this.pano.setMode(n.DEFAULT)),t||(this.updateData(),this.sprites[0].material.color.set("#ffffff"),window.requestAnimationFrame(function(){e.pano.setCurrMarker(e.marker.sprite),e.pano.onSelectionChange();var t=e.pano.vecToScreenPosition(e.getCenterPoint(e.shapeMesh));e.marker.panel.show(!0,t)}))}},{key:"opacity",set:function(t){this.meshMaterial.opacity=.4*t,this.borderMaterial.opacity=t},get:function(){return this.borderMaterial.opacity}},{key:"visible",set:function(t){this.opacity=t?1:0,this.isVisible=t,this.borderMesh.visible=t,this.shapeMesh.visible=t,this.pano.editMode&&(this.pointsObj.visible=t);for(var e=0;e<this.sprites.length;e++)this.sprites[e].visible=t},get:function(){return this.isVisible}},{key:"canClick",set:function(t){this.shapeMesh.visible=t,this.isClickable=t},get:function(){return this.isClickable}}]),s}function s(t){var e=t.layer,n=t.pano,i=t.point,r=t.marker,o=t.finishedFn;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.layer=e,this.layer.hotspots.push(this),this.pano=n,this.points=[],this.points2d=[],this.marker=r,(this.marker.polyHotspot=this).startPoint=i,this.pointCalls=0,this.isVisible=!0,this.finishedFn=o,this.sprites=[],this.spriteMaterial=new a.SpriteMaterial({color:"#ffffff",sizeAttenuation:!1}),this.spriteMaterial.depthTest=!1,this.meshMaterial=new a.MeshBasicMaterial({color:this.pano.hotspotMeshColor,opacity:.4,transparent:!0,depthTest:!1,side:a.DoubleSide}),this.borderMaterial=new a.MeshLineMaterial({color:this.pano.hotspotMeshColor,resolution:new a.Vector2(100,100),sizeAttenuation:0,lineWidth:.8,transparent:!0,side:a.DoubleSide}),this.pano.editMode||(this.opacity=0,this.isVisible=!1)}}.call(e,r,e,t))||(t.exports=n)},function(t,e,n){"use strict";var i;void 0===(i=function(t){var i,r=n(0),o=(n(11),n(3)),s=n(2),a=n(26),l=n(4);return r.extend({initialize:function(t){i=t,s.on(o.window.OPEN_EXTERNAL,this.onOpenWindow.bind(this))},onOpenWindow:function(t,e){var n=this.openWindowByAction.bind(this,t),i=n;null!=a.onOpenWindow&&(i=a.onOpenWindow.bind(a,t,e,n)),i()},openWindowByAction:function(t){var e={},n=t.windowsize,i="open_video"===t.kind;switch(n){case"fullscreen":e.width=window.screen.availWidth,e.height=window.screen.availHeight;break;case"custom":e.width=t.width,e.height=t.height}t.usedefaultcontrols||"default"===n||(e.status=+t.status,e.toolbar=+t.toolbar,e.location=+t.location,e.menubar=+t.menubar,e.scrollbars=+t.scrollbars,e.resizable=+t.resizable),this.open({url:i?l.STORY_CONTENT_URL+t.url:t.url,window:t.window,specs:e,previewNotification:i?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(t){var e,n={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};r.extend(n,t),i.isPreview()?s.trigger(o.preview.NOTIFY,n.previewNotification):window.open(n.url,n.window,(e=n.specs,r.pairs(e).map(function(t){return t.join("=")}).join(", ")))}})}.call(e,n,e,t))||(t.exports=i)},function(t,e,r){"use strict";var n;void 0===(n=function(t){var e=r(26),n=r(2),i=r(3);(e.detectVisibilityChange||function(){document.addEventListener("visibilitychange",function(t){n.trigger(i.detection["VISIBILITY_"+(document.hidden?"HIDDEN":"SHOWN")])},!1)})()}.call(e,r,e,t))||(t.exports=n)}]);